@startuml AD_10_UbahPassword
!theme plain
skinparam backgroundColor #f0f8ff
skinparam ActivityBackgroundColor #87CEEB
skinparam ActivityBorderColor #1565c0
skinparam PartitionBackgroundColor #e3f2fd
skinparam PartitionBorderColor #1565c0

title **AD-10: Ubah Password**\nSistem SIM4LON

|User|
start
:Buka halaman Profil;
:Klik "Ubah Password";

|Sistem|
:Tampilkan form\nubah password;

|User|
:Masukkan password lama;
:Masukkan password baru;
:Masukkan konfirmasi\npassword baru;
:Klik "Simpan";

|Sistem|
:Validasi format input;

if (Format valid?) then (ya)
    :Ambil password lama\ndari database;
    :Bandingkan password;
    
    if (Password lama cocok?) then (ya)
        if (Password baru = Konfirmasi?) then (ya)
            :Hash password baru;
            :Update password\ndi database;
            
            |User|
            :Tampilkan pesan sukses;
            stop
        else (tidak)
            |User|
            :Tampilkan error\n"Konfirmasi tidak cocok";
            stop
        endif
    else (tidak)
        |User|
        :Tampilkan error\n"Password lama salah";
        stop
    endif
else (tidak)
    |User|
    :Tampilkan error format;
    stop
endif

@enduml
