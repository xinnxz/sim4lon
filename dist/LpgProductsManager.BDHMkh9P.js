import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{C as Card,a as CardHeader,b as CardTitle,c as CardDescription,d as CardContent}from"./card.SxAweRZB.js";import{u as useComposedRefs,c as cn,e as buttonVariants,S as SafeIcon,B as Button}from"./SafeIcon.C08LGL0m.js";import{I as Input}from"./input.B0jSBU-X.js";import{L as Label}from"./label.CykMmJMJ.js";import{B as Badge}from"./badge.BFgaaq5n.js";import{c as createContextScope,a as composeEventHandlers}from"./index.CmV6gt94.js";import{c as createDialogScope,O as Overlay,P as Portal,W as WarningProvider,C as Content,T as Title,D as Description,a as Close,R as Root,b as Trigger}from"./index.DYERl0li.js";import{lpgProductsApi}from"./api.B5PpFILw.js";import{t as toast}from"./index.fAd_ikgp.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";import"./index.CLV08RI1.js";import"./index.BB0xO63c.js";import"./Combination.wteLWZ5f.js";import"./index.Ci_bviUJ.js";var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(ownerName){const Slottable2=({children})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children});return Slottable2.displayName=`${ownerName}.Slottable`,Slottable2.__radixId=SLOTTABLE_IDENTIFIER,Slottable2}var ROOT_NAME="AlertDialog",[createAlertDialogContext]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=props=>{const{__scopeAlertDialog,...alertDialogProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Root,{...dialogScope,...alertDialogProps,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...triggerProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Trigger,{...dialogScope,...triggerProps,ref:forwardedRef})});AlertDialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="AlertDialogPortal",AlertDialogPortal$1=props=>{const{__scopeAlertDialog,...portalProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Portal,{...dialogScope,...portalProps})};AlertDialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...overlayProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Overlay,{...dialogScope,...overlayProps,ref:forwardedRef})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),Slottable=createSlottable("AlertDialogContent"),AlertDialogContent$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,children,...contentProps}=props,dialogScope=useDialogScope(__scopeAlertDialog),contentRef=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,contentRef),cancelRef=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:__scopeAlertDialog,cancelRef,children:jsxRuntimeExports.jsxs(Content,{role:"alertdialog",...dialogScope,...contentProps,ref:composedRefs,onOpenAutoFocus:composeEventHandlers(contentProps.onOpenAutoFocus,event=>{event.preventDefault(),cancelRef.current?.focus({preventScroll:!0})}),onPointerDownOutside:event=>event.preventDefault(),onInteractOutside:event=>event.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...titleProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Title,{...dialogScope,...titleProps,ref:forwardedRef})});AlertDialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...descriptionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Description,{...dialogScope,...descriptionProps,ref:forwardedRef})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...actionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Close,{...dialogScope,...actionProps,ref:forwardedRef})});AlertDialogAction$1.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog,...cancelProps}=props,{cancelRef}=useAlertDialogContentContext(CANCEL_NAME,__scopeAlertDialog),dialogScope=useDialogScope(__scopeAlertDialog),ref=useComposedRefs(forwardedRef,cancelRef);return jsxRuntimeExports.jsx(Close,{...dialogScope,...cancelProps,ref})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef})=>{const MESSAGE=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{document.getElementById(contentRef.current?.getAttribute("aria-describedby"))||console.warn(MESSAGE)},[MESSAGE,contentRef]),null},Root2=AlertDialog$1,Portal2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2,AlertDialogPortal=Portal2,AlertDialogOverlay=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2,{ref,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",className),...props})]}));AlertDialogContent.displayName=Content2.displayName;const AlertDialogHeader=({className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",className),...props});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Title2,{ref,className:cn("text-lg font-semibold",className),...props}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Description2,{ref,className:cn("text-sm text-muted-foreground",className),...props}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Action,{ref,className:cn(buttonVariants(),className),...props}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Cancel,{ref,className:cn(buttonVariants({variant:"outline"}),"mt-2 sm:mt-0",className),...props}));AlertDialogCancel.displayName=Cancel.displayName;const formatCurrency=value=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(value),parseCurrency=value=>{const cleaned=value.replace(/[^\d]/g,"");return parseInt(cleaned)||0},formatPriceInput=value=>{const number=parseCurrency(value);return number===0?"":new Intl.NumberFormat("id-ID").format(number)};function LpgProductsManager(){const[products,setProducts]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[showForm,setShowForm]=reactExports.useState(!1),[editingProduct,setEditingProduct]=reactExports.useState(null),[formData,setFormData]=reactExports.useState({name:"",size_kg:"",category:"NON_SUBSIDI",color:"",description:"",sellingPrice:"",costPrice:""}),[isSubmitting,setIsSubmitting]=reactExports.useState(!1),[deleteDialogOpen,setDeleteDialogOpen]=reactExports.useState(!1),[productToDelete,setProductToDelete]=reactExports.useState(null),[isDeleting,setIsDeleting]=reactExports.useState(!1),fetchProducts=async()=>{try{setIsLoading(!0);const data=await lpgProductsApi.getAll(!1);setProducts(data),setError(null)}catch(err){console.error("Failed to fetch products:",err),setError(err?.message||"Gagal memuat data produk")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{fetchProducts()},[]);const resetForm=()=>{setFormData({name:"",size_kg:"",category:"NON_SUBSIDI",color:"",description:"",sellingPrice:"",costPrice:""}),setEditingProduct(null)},openAddForm=()=>{resetForm(),setShowForm(!0)},openEditForm=product=>{setEditingProduct(product);const sellingPrice=product.selling_price||product.prices?.[0]?.price||0,costPrice=product.cost_price||product.prices?.[0]?.cost_price;setFormData({name:product.name,size_kg:String(product.size_kg),category:product.category,color:product.color||"",description:product.description||"",sellingPrice:sellingPrice?formatPriceInput(String(sellingPrice)):"",costPrice:costPrice?formatPriceInput(String(costPrice)):""}),setShowForm(!0)},handleSellingPriceChange=e=>{const formatted=formatPriceInput(e.target.value);setFormData({...formData,sellingPrice:formatted})},handleCostPriceChange=e=>{const formatted=formatPriceInput(e.target.value);setFormData({...formData,costPrice:formatted})},handleSubmit=async e=>{if(e.preventDefault(),!formData.name||!formData.size_kg){toast.error("Nama dan ukuran wajib diisi");return}const sellingPrice=parseCurrency(formData.sellingPrice);if(sellingPrice<=0){toast.error("Harga jual wajib diisi dan harus lebih dari 0");return}const costPrice=parseCurrency(formData.costPrice);if(costPrice<=0){toast.error("Harga beli wajib diisi dan harus lebih dari 0");return}setIsSubmitting(!0);try{editingProduct?(await lpgProductsApi.update(editingProduct.id,{name:formData.name,size_kg:parseFloat(formData.size_kg),category:formData.category,color:formData.color||void 0,description:formData.description||void 0,selling_price:sellingPrice,cost_price:costPrice||void 0}),toast.success(`Produk "${formData.name}" berhasil diperbarui`)):(await lpgProductsApi.create({name:formData.name,size_kg:parseFloat(formData.size_kg),category:formData.category,color:formData.color||void 0,description:formData.description||void 0,selling_price:sellingPrice,cost_price:costPrice||void 0}),toast.success(`Produk "${formData.name}" berhasil ditambahkan`)),setShowForm(!1),fetchProducts()}catch(err){console.error("Failed to save product:",err),toast.error(err?.message||"Gagal menyimpan produk")}finally{setIsSubmitting(!1)}},openDeleteDialog=product=>{setProductToDelete(product),setDeleteDialogOpen(!0)},handleDeleteConfirm=async()=>{if(productToDelete){setIsDeleting(!0);try{await lpgProductsApi.delete(productToDelete.id),toast.success(`Produk "${productToDelete.name}" berhasil dihapus`),setDeleteDialogOpen(!1),setProductToDelete(null),fetchProducts()}catch(err){toast.error(err?.message||"Gagal menghapus produk")}finally{setIsDeleting(!1)}}},getColorHex=colorName=>colorName&&{hijau:"#22c55e",biru:"#38bdf8",ungu:"#a855f7",pink:"#ec4899",merah:"#dc2626",kuning:"#eab308",orange:"#f97316"}[colorName.toLowerCase()]||"#6b7280",getCategoryBadge=category=>category==="SUBSIDI"?jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-muted-foreground",children:"Subsidi"}):jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-muted-foreground",children:"Non-Subsidi"});return isLoading?jsxRuntimeExports.jsx("div",{className:"flex-1 space-y-6 p-4 sm:p-6 lg:p-8",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-8 w-8 animate-spin text-primary"})})}):jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6 p-4 sm:p-6 lg:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Kelola Produk LPG"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Tambah, edit, dan hapus jenis produk LPG beserta harganya."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>window.location.href="/ringkasan-stok",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"ArrowLeft",className:"h-4 w-4 mr-2"}),"Kembali"]}),!showForm&&jsxRuntimeExports.jsxs(Button,{onClick:openAddForm,children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Plus",className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]})]}),showForm&&jsxRuntimeExports.jsxs(Card,{className:"border-2 border-primary/50",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:editingProduct?"Edit Produk":"Tambah Produk Baru"}),jsxRuntimeExports.jsx(CardDescription,{children:editingProduct?"Perbarui informasi produk LPG.":"Isi informasi produk LPG baru."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Nama Produk *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),placeholder:"Contoh: Elpiji 3kg",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"size_kg",children:"Ukuran (kg) *"}),jsxRuntimeExports.jsx(Input,{id:"size_kg",type:"number",step:"0.1",min:"0.1",value:formData.size_kg,onChange:e=>setFormData({...formData,size_kg:e.target.value}),placeholder:"3",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"category",children:"Kategori *"}),jsxRuntimeExports.jsxs("select",{id:"category",value:formData.category,onChange:e=>setFormData({...formData,category:e.target.value}),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"SUBSIDI",children:"Subsidi"}),jsxRuntimeExports.jsx("option",{value:"NON_SUBSIDI",children:"Non-Subsidi"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"color",children:"Warna Grafik *"}),jsxRuntimeExports.jsxs("select",{id:"color",value:formData.color,onChange:e=>setFormData({...formData,color:e.target.value}),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Pilih Warna"}),jsxRuntimeExports.jsx("option",{value:"hijau",children:"ðŸŸ¢ Hijau"}),jsxRuntimeExports.jsx("option",{value:"biru",children:"ðŸ”µ Biru"}),jsxRuntimeExports.jsx("option",{value:"ungu",children:"ðŸŸ£ Ungu"}),jsxRuntimeExports.jsx("option",{value:"pink",children:"ðŸ©· Pink"}),jsxRuntimeExports.jsx("option",{value:"merah",children:"ðŸ”´ Merah"}),jsxRuntimeExports.jsx("option",{value:"kuning",children:"ðŸŸ¡ Kuning"}),jsxRuntimeExports.jsx("option",{value:"orange",children:"ðŸŸ  Orange"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"description",children:"Deskripsi"}),jsxRuntimeExports.jsx(Input,{id:"description",value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value}),placeholder:"Keterangan produk (opsional)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"sellingPrice",children:"Harga Jual (Rp) *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"Rp"}),jsxRuntimeExports.jsx(Input,{id:"sellingPrice",type:"text",value:formData.sellingPrice,onChange:handleSellingPriceChange,placeholder:"18.000",className:"pl-10"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"costPrice",children:"Harga Beli (Rp) *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"Rp"}),jsxRuntimeExports.jsx(Input,{id:"costPrice",type:"text",value:formData.costPrice,onChange:handleCostPriceChange,placeholder:"15.000",className:"pl-10"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:isSubmitting,children:[isSubmitting&&jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-4 w-4 animate-spin mr-2"}),editingProduct?"Simpan Perubahan":"Tambah Produk"]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>setShowForm(!1),children:"Batal"})]})]})})]}),error?jsxRuntimeExports.jsx(Card,{className:"border-destructive",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 text-center text-destructive",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"AlertCircle",className:"h-10 w-10 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{children:error}),jsxRuntimeExports.jsx(Button,{variant:"link",onClick:fetchProducts,children:"Coba lagi"})]})}):products.length===0?jsxRuntimeExports.jsx(Card,{className:"border-2 border-dashed",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-12 text-center",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Package",className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Belum Ada Produk LPG"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:"Tambahkan produk LPG pertama Anda untuk mulai mengelola stok."}),jsxRuntimeExports.jsxs(Button,{onClick:openAddForm,children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Plus",className:"h-4 w-4 mr-2"}),"Tambah Produk Pertama"]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:products.map(product=>jsxRuntimeExports.jsxs(Card,{className:"border-2 flex flex-col h-full overflow-hidden",style:{borderLeftWidth:"4px",borderLeftColor:getColorHex(product.color)},children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1 flex items-start gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full shrink-0 mt-1",style:{backgroundColor:getColorHex(product.color)},title:`Warna: ${product.color||"Standard"}`}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base truncate",children:product.name}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-xs mt-1",children:[product.size_kg," kg"]})]})]}),getCategoryBadge(product.category)]})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col flex-1 pt-0",children:[jsxRuntimeExports.jsx("div",{className:"h-10 mb-3",children:product.description?jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:product.description}):jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/50 italic",children:"Tidak ada deskripsi"})}),jsxRuntimeExports.jsx("div",{className:"h-14 mb-3 space-y-1",children:(()=>{const sellingPrice=product.selling_price||product.prices?.[0]?.price||0,costPrice=product.cost_price||product.prices?.[0]?.cost_price;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs",children:"Harga Jual"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:formatCurrency(Number(sellingPrice))})]}),costPrice&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs",children:"Harga Beli"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:formatCurrency(Number(costPrice))})]})]})})()}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-3 border-t mt-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>openEditForm(product),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Pencil",className:"h-3 w-3 mr-1"}),"Edit"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"text-destructive hover:bg-destructive hover:text-white",onClick:()=>openDeleteDialog(product),children:jsxRuntimeExports.jsx(SafeIcon,{name:"Trash2",className:"h-3 w-3"})})]})]})]},product.id))}),jsxRuntimeExports.jsx(AlertDialog,{open:deleteDialogOpen,onOpenChange:setDeleteDialogOpen,children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Hapus Produk LPG?"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:["Anda akan menghapus produk ",jsxRuntimeExports.jsxs("strong",{children:['"',productToDelete?.name,'"']}),".",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Data stok yang terkait dengan produk ini tidak akan dihapus, tetapi produk tidak akan muncul lagi di daftar.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Tindakan ini tidak dapat dibatalkan."]})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{disabled:isDeleting,children:"Batal"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:handleDeleteConfirm,disabled:isDeleting,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:isDeleting?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-4 w-4 animate-spin mr-2"}),"Menghapus..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Trash2",className:"h-4 w-4 mr-2"}),"Ya, Hapus"]})})]})]})})]})}export{LpgProductsManager as default};
