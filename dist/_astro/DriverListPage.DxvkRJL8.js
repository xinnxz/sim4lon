import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{S as SafeIcon,B as Button}from"./SafeIcon.CAGsavDo.js";import{I as Input}from"./input.C9ryBhC0.js";import{C as Card,a as CardContent}from"./card.D0gylVsf.js";import{T as Tilt3DCard}from"./Tilt3DCard.A2Rmx9L7.js";import{T as Table,a as TableHeader,b as TableRow,c as TableHead,d as TableBody,e as TableCell}from"./table.DRds5X1g.js";import{D as DropdownMenu,a as DropdownMenuTrigger,b as DropdownMenuContent,c as DropdownMenuItem}from"./dropdown-menu.CyUKnKxT.js";import{B as Badge}from"./badge.DZiJ6zSB.js";import{D as Dialog,a as DialogContent,b as DialogHeader,c as DialogTitle,d as DialogDescription}from"./dialog.CoJQQKDV.js";import{C as ConfirmationModal}from"./ConfirmationModal.Ck8mepRg.js";import{driversApi}from"./api.Dr7hS9Y8.js";import{t as toast}from"./index.fAd_ikgp.js";import{L as Label}from"./label.BFF1cpbq.js";import{T as Textarea}from"./textarea.CmILhP_C.js";import{A as AnimatedNumber}from"./AnimatedNumber.DkDF6dXY.js";import{P as PageHeader}from"./PageHeader.ChFr_oMu.js";import"./index.BpQ989z7.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";import"./index.YpXgcoRz.js";import"./index.Dovp0-D8.js";import"./index.BStXkqMp.js";import"./index.Drh0kMGk.js";import"./index.DZiLsHox.js";import"./index.BFpcrWlj.js";import"./index.9MihlNbL.js";import"./index.CdmyERTi.js";import"./index.DQDOfy24.js";import"./chevron-right.oaN48PMp.js";import"./check.TUgVKQyo.js";import"./index.zVS-qTD4.js";import"./x.DUlMVzh7.js";function AddDriverModal({open,onOpenChange,driver,onSuccess}){const[isSubmitting,setIsSubmitting]=reactExports.useState(!1),[formData,setFormData]=reactExports.useState({name:"",phone:"",vehicle_id:"",note:""}),[errors,setErrors]=reactExports.useState({});reactExports.useEffect(()=>{open&&(setFormData(driver?{name:driver.name,phone:driver.phone||"",vehicle_id:driver.vehicle_id||"",note:driver.note||""}:{name:"",phone:"",vehicle_id:"",note:""}),setErrors({}))},[driver,open]);const validateForm=()=>{const newErrors={};return formData.name.trim()?formData.name.length<2&&(newErrors.name="Nama minimal 2 karakter"):newErrors.name="Nama supir harus diisi",formData.phone.trim()?/^(\+62|0)[0-9]{9,12}$/.test(formData.phone)||(newErrors.phone="Nomor telepon tidak valid (contoh: 08xx atau +62xx)"):newErrors.phone="Nomor telepon harus diisi",setErrors(newErrors),Object.keys(newErrors).length===0},handleSubmit=async e=>{if(e.preventDefault(),!!validateForm()){setIsSubmitting(!0);try{driver?(await driversApi.update(driver.id,{name:formData.name,phone:formData.phone,vehicle_id:formData.vehicle_id||null,note:formData.note||null}),toast.success("Data supir berhasil diperbarui")):(await driversApi.create({name:formData.name,phone:formData.phone,vehicle_id:formData.vehicle_id||null,note:formData.note||null}),toast.success("Supir baru berhasil ditambahkan")),onOpenChange(!1),onSuccess?.()}catch(error){console.error("Failed to save driver:",error),toast.error("Gagal menyimpan data supir")}finally{setIsSubmitting(!1)}}};return jsxRuntimeExports.jsx(Dialog,{open,onOpenChange,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:driver?"Edit Supir":"Tambah Supir Baru"}),jsxRuntimeExports.jsx(DialogDescription,{children:driver?"Perbarui informasi supir di bawah ini":"Isi formulir untuk menambahkan supir baru ke sistem"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",className:"text-sm font-medium",children:"Nama Supir *"}),jsxRuntimeExports.jsx(Input,{id:"name",placeholder:"Masukkan nama supir",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),disabled:isSubmitting,className:errors.name?"border-destructive":""}),errors.name&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"AlertCircle",className:"h-3 w-3"}),errors.name]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"phone",className:"text-sm font-medium",children:"Nomor Telepon *"}),jsxRuntimeExports.jsx(Input,{id:"phone",placeholder:"08xxxxxxxxxx",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),disabled:isSubmitting,className:errors.phone?"border-destructive":""}),errors.phone&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"AlertCircle",className:"h-3 w-3"}),errors.phone]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"vehicle_id",className:"text-sm font-medium",children:"Plat Kendaraan (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"vehicle_id",placeholder:"Contoh: B 1234 ABC",value:formData.vehicle_id,onChange:e=>setFormData({...formData,vehicle_id:e.target.value}),disabled:isSubmitting})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"note",className:"text-sm font-medium",children:"Catatan (Opsional)"}),jsxRuntimeExports.jsx(Textarea,{id:"note",placeholder:"Tambahkan catatan tentang supir ini...",value:formData.note,onChange:e=>setFormData({...formData,note:e.target.value}),disabled:isSubmitting,className:"resize-none",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>onOpenChange(!1),disabled:isSubmitting,className:"flex-1",children:"Batal"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:isSubmitting,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:isSubmitting?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-4 w-4 animate-spin"}),"Menyimpan..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Save",className:"h-4 w-4"}),driver?"Simpan Perubahan":"Tambah Supir"]})})]})]})]})})}function DriverListPage(){const[driverList,setDriverList]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[totalItems,setTotalItems]=reactExports.useState(0),[currentPage,setCurrentPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[aktivCount,setAktivCount]=reactExports.useState(0),[nonaktifCount,setNonaktifCount]=reactExports.useState(0),[searchTerm,setSearchTerm]=reactExports.useState(""),[statusFilter,setStatusFilter]=reactExports.useState("semua"),[showAddModal,setShowAddModal]=reactExports.useState(!1),[editingDriver,setEditingDriver]=reactExports.useState(null),[selectedDriver,setSelectedDriver]=reactExports.useState(null),[showDeleteModal,setShowDeleteModal]=reactExports.useState(!1),[showStatusModal,setShowStatusModal]=reactExports.useState(!1),[sortField,setSortField]=reactExports.useState(null),[sortDirection,setSortDirection]=reactExports.useState("asc"),handleSort=field=>{sortField===field?setSortDirection(prev=>prev==="asc"?"desc":"asc"):(setSortField(field),setSortDirection("asc"))},sortedDriverList=reactExports.useMemo(()=>sortField?[...driverList].sort((a,b)=>{let aVal=a[sortField],bVal=b[sortField];return aVal==null&&(aVal=""),bVal==null&&(bVal=""),typeof aVal=="string"&&(aVal=aVal.toLowerCase(),bVal=bVal.toLowerCase()),aVal<bVal?sortDirection==="asc"?-1:1:aVal>bVal?sortDirection==="asc"?1:-1:0}):driverList,[driverList,sortField,sortDirection]),SortableHeader=({field,children,className="",align="left"})=>jsxRuntimeExports.jsx(TableHead,{className:`font-semibold text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors select-none ${className}`,onClick:()=>handleSort(field),children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1.5 ${align==="center"?"justify-center":"justify-start"}`,children:[children,sortField===field?sortDirection==="asc"?jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronUp",className:"w-4 h-4 text-primary"}):jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronDown",className:"w-4 h-4 text-primary"}):jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronsUpDown",className:"w-4 h-4 text-muted-foreground/50"})]})}),fetchDrivers=async()=>{try{setIsLoading(!0);const isActive=statusFilter==="semua"?void 0:statusFilter==="aktif",response=await driversApi.getAll(currentPage,10,searchTerm||void 0,isActive);setDriverList(response.data),setTotalItems(response.meta.totalAll||response.meta.total),setTotalPages(response.meta.totalPages),setAktivCount(response.meta.totalActive||0),setNonaktifCount(response.meta.totalInactive||0)}catch(error){console.error("Failed to fetch drivers:",error),toast.error("Gagal memuat data driver")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{fetchDrivers()},[currentPage,statusFilter]),reactExports.useEffect(()=>{const timer=setTimeout(()=>{setCurrentPage(1),fetchDrivers()},500);return()=>clearTimeout(timer)},[searchTerm]);const handleStatusToggleClick=driver=>{setSelectedDriver(driver),setShowStatusModal(!0)},handleConfirmStatusToggle=async()=>{if(selectedDriver)try{const newStatus=!selectedDriver.is_active;await driversApi.update(selectedDriver.id,{is_active:newStatus}),toast.success(`Driver berhasil ${newStatus?"diaktifkan":"dinonaktifkan"}`),fetchDrivers()}catch(error){console.error("Failed to update status:",error),toast.error("Gagal mengubah status driver")}finally{setShowStatusModal(!1),setSelectedDriver(null)}},handleDeleteClick=driver=>{setSelectedDriver(driver),setShowDeleteModal(!0)},handleConfirmDelete=async()=>{if(selectedDriver)try{await driversApi.delete(selectedDriver.id),toast.success("Driver berhasil dihapus"),fetchDrivers()}catch(error){console.error("Failed to delete driver:",error),toast.error("Gagal menghapus driver")}finally{setShowDeleteModal(!1),setSelectedDriver(null)}},handleSaveSuccess=()=>{setShowAddModal(!1),setEditingDriver(null),fetchDrivers()};return jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6 p-4 sm:p-6 lg:p-8 dashboard-gradient-bg min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Daftar Supir",subtitle:"Kelola data driver dan status ketersediaan mereka"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{setEditingDriver(null),setShowAddModal(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg hover:shadow-xl transition-all",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Plus",className:"mr-2 h-4 w-4"}),"Tambah Supir"]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-border to-transparent"}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:isLoading?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[0,1,2].map(i=>jsxRuntimeExports.jsx("div",{className:"animate-pulse",style:{animationDelay:`${i*100}ms`},children:jsxRuntimeExports.jsx(Card,{className:"border-0 glass-card h-full",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 rounded-xl bg-muted w-10 h-10 animate-shimmer"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-shimmer"}),jsxRuntimeExports.jsx("div",{className:"h-7 w-12 bg-muted rounded animate-shimmer"})]})]})})})},i))}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Tilt3DCard,{children:jsxRuntimeExports.jsx(Card,{className:"border-0 glass-card animate-fadeInUp h-full",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10 dark:bg-primary/15",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Truck",className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Supir"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:jsxRuntimeExports.jsx(AnimatedNumber,{value:totalItems,delay:100})})]})]})})})}),jsxRuntimeExports.jsx(Tilt3DCard,{children:jsxRuntimeExports.jsx(Card,{className:"border-0 glass-card animate-fadeInUp h-full",style:{animationDelay:"0.1s"},children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 rounded-xl bg-emerald-500/10 dark:bg-emerald-500/15",children:jsxRuntimeExports.jsx(SafeIcon,{name:"CheckCircle",className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Aktif"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:jsxRuntimeExports.jsx(AnimatedNumber,{value:aktivCount,delay:200})})]})]})})})}),jsxRuntimeExports.jsx(Tilt3DCard,{children:jsxRuntimeExports.jsx(Card,{className:"border-0 glass-card animate-fadeInUp h-full",style:{animationDelay:"0.2s"},children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 rounded-xl bg-rose-500/10 dark:bg-rose-500/15",children:jsxRuntimeExports.jsx(SafeIcon,{name:"XCircle",className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Nonaktif"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:jsxRuntimeExports.jsx(AnimatedNumber,{value:nonaktifCount,delay:300})})]})]})})})})]})}),jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Search",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari nama atau telepon...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"pl-10 bg-transparent border-border focus:border-primary focus:ring-primary/20"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 p-1 rounded-lg bg-muted/30",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>setStatusFilter("semua"),className:statusFilter==="semua"?"bg-gradient-to-r from-primary to-primary/80 text-white shadow-md":"bg-transparent hover:bg-muted/50 text-muted-foreground",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"LayoutGrid",className:"w-4 h-4 mr-1.5"}),"Semua"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>setStatusFilter("aktif"),className:statusFilter==="aktif"?"bg-gradient-to-r from-emerald-600/90 to-emerald-500/90 text-white shadow-md":"bg-transparent hover:bg-muted/50 text-muted-foreground",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"CheckCircle",className:"w-4 h-4 mr-1.5"}),"Aktif"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>setStatusFilter("nonaktif"),className:statusFilter==="nonaktif"?"bg-gradient-to-r from-rose-600/90 to-rose-500/90 text-white shadow-md":"bg-transparent hover:bg-muted/50 text-muted-foreground",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"XCircle",className:"w-4 h-4 mr-1.5"}),"Nonaktif"]})]})]})})}),jsxRuntimeExports.jsx(Card,{className:"glass-card overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Table",className:"w-5 h-5 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Data Supir"}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"bg-red-500/10 text-red-600",children:[driverList.length," data"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",totalItems," supir"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:isLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-8 w-8 animate-spin text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Memuat data supir..."})]})}):jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-transparent border-border focus:border-primary",children:[jsxRuntimeExports.jsx(SortableHeader,{field:"code",className:"w-24",children:"Kode"}),jsxRuntimeExports.jsx(SortableHeader,{field:"name",children:"Nama"}),jsxRuntimeExports.jsx(SortableHeader,{field:"phone",align:"center",children:"Telepon"}),jsxRuntimeExports.jsx(SortableHeader,{field:"vehicle_id",align:"center",children:"Kendaraan"}),jsxRuntimeExports.jsx(SortableHeader,{field:"note",children:"Catatan"}),jsxRuntimeExports.jsx(SortableHeader,{field:"is_active",align:"center",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center font-semibold text-slate-700",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:sortedDriverList.length>0?sortedDriverList.map(driver=>jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm text-primary",children:driver.code||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-foreground",children:driver.name}),jsxRuntimeExports.jsx(TableCell,{className:"text-center text-foreground",children:driver.phone||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"text-center text-foreground",children:driver.vehicle_id||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-xs truncate text-foreground/80",children:driver.note||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx(Badge,{className:driver.is_active?"bg-gradient-to-r from-emerald-600/90 to-emerald-500/90 text-white shadow-sm":"bg-gradient-to-r from-muted-foreground/60 to-muted-foreground/50 text-white shadow-sm",children:driver.is_active?"✓ Aktif":"Nonaktif"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(SafeIcon,{name:"MoreVertical",className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>{setEditingDriver(driver),setShowAddModal(!0)},children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Edit",className:"mr-2 h-4 w-4"}),"Edit"]}),driver.is_active?jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-orange-600",onClick:()=>handleStatusToggleClick(driver),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Ban",className:"mr-2 h-4 w-4"}),"Nonaktifkan"]}):jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-green-600",onClick:()=>handleStatusToggleClick(driver),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Check",className:"mr-2 h-4 w-4"}),"Aktifkan"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-destructive",onClick:()=>handleDeleteClick(driver),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Trash2",className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},driver.id)):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center py-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Users",className:"h-8 w-8 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tidak ada supir ditemukan"})]})})})})]})}),totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border/50",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Halaman ",currentPage," dari ",totalPages," • Total ",totalItems," supir"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:currentPage===1,onClick:()=>setCurrentPage(p=>p-1),className:"hover:bg-red-50",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronLeft",className:"h-4 w-4 mr-1"}),"Prev"]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;return totalPages<=5||currentPage<=3?pageNum=i+1:currentPage>=totalPages-2?pageNum=totalPages-4+i:pageNum=currentPage-2+i,jsxRuntimeExports.jsx(Button,{variant:currentPage===pageNum?"default":"ghost",size:"sm",onClick:()=>setCurrentPage(pageNum),className:currentPage===pageNum?"bg-red-500 hover:bg-red-600":"",children:pageNum},pageNum)})}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:currentPage===totalPages,onClick:()=>setCurrentPage(p=>p+1),className:"hover:bg-red-50",children:["Next",jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronRight",className:"h-4 w-4 ml-1"})]})]})]})]})}),jsxRuntimeExports.jsx(AddDriverModal,{open:showAddModal,onOpenChange:setShowAddModal,driver:editingDriver,onSuccess:handleSaveSuccess}),selectedDriver&&showStatusModal&&jsxRuntimeExports.jsx(ConfirmationModal,{open:showStatusModal,onOpenChange:setShowStatusModal,title:selectedDriver.is_active?"Nonaktifkan Supir":"Aktifkan Supir",description:selectedDriver.is_active?`Apakah Anda yakin ingin menonaktifkan "${selectedDriver.name}"?`:`Apakah Anda yakin ingin mengaktifkan "${selectedDriver.name}"?`,confirmText:selectedDriver.is_active?"Nonaktifkan":"Aktifkan",cancelText:"Batal",icon:selectedDriver.is_active?"AlertTriangle":"CheckCircle",isDangerous:selectedDriver.is_active,onConfirm:handleConfirmStatusToggle}),selectedDriver&&showDeleteModal&&jsxRuntimeExports.jsx(ConfirmationModal,{open:showDeleteModal,onOpenChange:setShowDeleteModal,title:"Hapus Supir",description:`Apakah Anda yakin ingin menghapus "${selectedDriver.name}"? Tindakan ini tidak dapat dibatalkan.`,confirmText:"Hapus",cancelText:"Batal",icon:"Trash2",isDangerous:!0,onConfirm:handleConfirmDelete})]})}export{DriverListPage as default};
