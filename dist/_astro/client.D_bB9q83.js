import{r as reactExports}from"./index.DcciWILN.js";import{r as requireReactDom}from"./index.ubNQCTBn.js";var client$1={},hasRequiredClient;function requireClient(){if(hasRequiredClient)return client$1;hasRequiredClient=1;var m=requireReactDom();return client$1.createRoot=m.createRoot,client$1.hydrateRoot=m.hydrateRoot,client$1}var clientExports=requireClient();const StaticHtml=({value,name,hydrate=!0})=>{if(!value)return null;const tagName=hydrate?"astro-slot":"astro-static-slot";return reactExports.createElement(tagName,{name,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:value}})};StaticHtml.shouldComponentUpdate=()=>!1;function isAlreadyHydrated(element){for(const key in element)if(key.startsWith("__reactContainer"))return key}function createReactElementFromDOMElement(element){let attrs={};for(const attr of element.attributes)attrs[attr.name]=attr.value;return element.firstChild===null?reactExports.createElement(element.localName,attrs):reactExports.createElement(element.localName,attrs,Array.from(element.childNodes).map(c=>c.nodeType===Node.TEXT_NODE?c.data:c.nodeType===Node.ELEMENT_NODE?createReactElementFromDOMElement(c):void 0).filter(a=>!!a))}function getChildren(childString,experimentalReactChildren){if(experimentalReactChildren&&childString){let children=[],template=document.createElement("template");template.innerHTML=childString;for(let child of template.content.children)children.push(createReactElementFromDOMElement(child));return children}else return childString?reactExports.createElement(StaticHtml,{value:childString}):void 0}let rootMap=new WeakMap;const getOrCreateRoot=(element,creator)=>{let root=rootMap.get(element);return root||(root=creator(),rootMap.set(element,root)),root},client=element=>(Component,props,{default:children,...slotted},{client:client2})=>{if(!element.hasAttribute("ssr"))return;const actionKey=element.getAttribute("data-action-key"),actionName=element.getAttribute("data-action-name"),stringifiedActionResult=element.getAttribute("data-action-result"),formState=actionKey&&actionName&&stringifiedActionResult?[JSON.parse(stringifiedActionResult),actionKey,actionName]:void 0,renderOptions={identifierPrefix:element.getAttribute("prefix"),formState};for(const[key,value]of Object.entries(slotted))props[key]=reactExports.createElement(StaticHtml,{value,name:key});const componentEl=reactExports.createElement(Component,props,getChildren(children,element.hasAttribute("data-react-children"))),rootKey=isAlreadyHydrated(element);if(rootKey&&delete element[rootKey],client2==="only")return reactExports.startTransition(()=>{getOrCreateRoot(element,()=>{const r=clientExports.createRoot(element);return element.addEventListener("astro:unmount",()=>r.unmount(),{once:!0}),r}).render(componentEl)});reactExports.startTransition(()=>{getOrCreateRoot(element,()=>{const r=clientExports.hydrateRoot(element,componentEl,renderOptions);return element.addEventListener("astro:unmount",()=>r.unmount(),{once:!0}),r}).render(componentEl)})};export{client as default};
