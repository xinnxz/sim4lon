import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{C as Card,b as CardHeader,c as CardTitle,a as CardContent,d as CardDescription}from"./card.D0gylVsf.js";import{S as SafeIcon,B as Button}from"./SafeIcon.CAGsavDo.js";import{I as Input}from"./input.C9ryBhC0.js";import{B as Badge}from"./badge.DZiJ6zSB.js";import{L as Label}from"./label.BFF1cpbq.js";import{T as Textarea}from"./textarea.CmILhP_C.js";import{D as Dialog,e as DialogTrigger,a as DialogContent,b as DialogHeader,c as DialogTitle,d as DialogDescription,f as DialogFooter}from"./dialog.CoJQQKDV.js";import{S as Select,a as SelectTrigger,b as SelectValue,c as SelectContent,d as SelectItem}from"./select.Dd50uIHU.js";import{consumersApi}from"./api.Dr7hS9Y8.js";import{t as toast}from"./index.fAd_ikgp.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";import"./index.zVS-qTD4.js";import"./index.BpQ989z7.js";import"./index.YpXgcoRz.js";import"./index.Dovp0-D8.js";import"./index.DZiLsHox.js";import"./index.CdmyERTi.js";import"./x.DUlMVzh7.js";import"./index.DGt6JTY0.js";import"./index.BStXkqMp.js";import"./index.Drh0kMGk.js";import"./index.BFpcrWlj.js";import"./index.9MihlNbL.js";import"./index.BhA3i5Wo.js";import"./index.BaF2FVWY.js";import"./chevron-up.BBBXIirx.js";import"./check.TUgVKQyo.js";function KonsumenListPage(){const[consumers,setConsumers]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[search,setSearch]=reactExports.useState(""),[typeFilter,setTypeFilter]=reactExports.useState("all"),[page,setPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[total,setTotal]=reactExports.useState(0),[isDialogOpen,setIsDialogOpen]=reactExports.useState(!1),[editingConsumer,setEditingConsumer]=reactExports.useState(null),[formData,setFormData]=reactExports.useState({name:"",nik:"",kk:"",consumer_type:"RUMAH_TANGGA",phone:"",address:"",note:""}),[isSubmitting,setIsSubmitting]=reactExports.useState(!1),[stats,setStats]=reactExports.useState({total:0,active:0,inactive:0,rumahTangga:0,warung:0,withNik:0}),fetchConsumers=async()=>{try{setIsLoading(!0);const[response,statsData]=await Promise.all([consumersApi.getAll(page,10,search||void 0),consumersApi.getStats()]);let filtered=response.data;typeFilter!=="all"&&(filtered=response.data.filter(c=>c.consumer_type===typeFilter)),setConsumers(filtered),setTotalPages(response.meta.totalPages),setTotal(response.meta.total),setStats(statsData)}catch(error){console.error("Failed to fetch consumers:",error),toast.error("Gagal memuat data konsumen")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{fetchConsumers()},[page,search,typeFilter]);const handleOpenDialog=consumer=>{consumer?(setEditingConsumer(consumer),setFormData({name:consumer.name,nik:consumer.nik||"",kk:consumer.kk||"",consumer_type:consumer.consumer_type||"RUMAH_TANGGA",phone:consumer.phone||"",address:consumer.address||"",note:consumer.note||""})):(setEditingConsumer(null),setFormData({name:"",nik:"",kk:"",consumer_type:"RUMAH_TANGGA",phone:"",address:"",note:""})),setIsDialogOpen(!0)},handleSubmit=async e=>{if(e.preventDefault(),!formData.name.trim()){toast.error("Nama konsumen wajib diisi");return}if(formData.nik&&formData.nik.length!==16){toast.error("NIK harus 16 digit");return}if(formData.kk&&formData.kk.length!==16){toast.error("Nomor KK harus 16 digit");return}try{setIsSubmitting(!0);const payload={name:formData.name,nik:formData.nik||void 0,kk:formData.kk||void 0,consumer_type:formData.consumer_type,phone:formData.phone||void 0,address:formData.address||void 0,note:formData.note||void 0};editingConsumer?(await consumersApi.update(editingConsumer.id,payload),toast.success("Konsumen berhasil diperbarui")):(await consumersApi.create(payload),toast.success("Konsumen berhasil ditambahkan")),setIsDialogOpen(!1),fetchConsumers()}catch(error){toast.error(error.message||"Gagal menyimpan konsumen")}finally{setIsSubmitting(!1)}},handleDelete=async consumer=>{if(confirm(`Hapus konsumen "${consumer.name}"?`))try{await consumersApi.delete(consumer.id),toast.success("Konsumen berhasil dihapus"),fetchConsumers()}catch(error){toast.error(error.message||"Gagal menghapus konsumen")}};return isLoading&&consumers.length===0?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[500px]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Users",className:"h-6 w-6 text-blue-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-4 font-medium",children:"Memuat data konsumen..."})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-8 pb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 animate-fadeInDown",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-12 w-1.5 rounded-full bg-gradient-to-b from-blue-500 via-indigo-500 to-purple-500 animate-lineGrow"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Konsumen"}),jsxRuntimeExports.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Users",className:"h-4 w-4 animate-pulse"}),"Kelola data pelanggan pangkalan Anda"]})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:isDialogOpen,onOpenChange:setIsDialogOpen,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{onClick:()=>handleOpenDialog(),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl shadow-lg shadow-blue-500/25",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"UserPlus",className:"h-4 w-4 mr-2"}),"Tambah Konsumen"]})}),jsxRuntimeExports.jsx(DialogContent,{className:"sm:max-w-[500px]",children:jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit,children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(SafeIcon,{name:editingConsumer?"UserCog":"UserPlus",className:"h-5 w-5 text-blue-600"})}),editingConsumer?"Edit Konsumen":"Tambah Konsumen Baru"]}),jsxRuntimeExports.jsx(DialogDescription,{children:editingConsumer?"Perbarui data konsumen":"Isi data konsumen baru untuk pangkalan Anda"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{children:"Jenis Konsumen *"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>setFormData({...formData,consumer_type:"RUMAH_TANGGA"}),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${formData.consumer_type==="RUMAH_TANGGA"?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${formData.consumer_type==="RUMAH_TANGGA"?"bg-blue-100":"bg-slate-100"}`,children:jsxRuntimeExports.jsx(SafeIcon,{name:"User",className:`h-5 w-5 ${formData.consumer_type==="RUMAH_TANGGA"?"text-blue-600":"text-slate-500"}`})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Rumah Tangga"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"Konsumen perorangan"})]})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>setFormData({...formData,consumer_type:"WARUNG"}),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${formData.consumer_type==="WARUNG"?"border-amber-500 bg-amber-50 text-amber-700":"border-slate-200 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${formData.consumer_type==="WARUNG"?"bg-amber-100":"bg-slate-100"}`,children:jsxRuntimeExports.jsx(SafeIcon,{name:"Store",className:`h-5 w-5 ${formData.consumer_type==="WARUNG"?"text-amber-600":"text-slate-500"}`})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Warung"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"Usaha mikro"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Nama Konsumen *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),placeholder:"Contoh: Bu Tini / Warung Berkah",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"nik",children:"NIK (16 digit) (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"nik",value:formData.nik,onChange:e=>setFormData({...formData,nik:e.target.value.replace(/\D/g,"").slice(0,16)}),placeholder:"3201234567890123",maxLength:16}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-400",children:[formData.nik.length,"/16 digit"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"kk",children:"No. KK (16 digit) (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"kk",value:formData.kk,onChange:e=>setFormData({...formData,kk:e.target.value.replace(/\D/g,"").slice(0,16)}),placeholder:"3201234567890123",maxLength:16}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-400",children:[formData.kk.length,"/16 digit"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"phone",children:"No. Telepon (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"phone",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),placeholder:"08123456789"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"address",children:"Alamat (Opsional)"}),jsxRuntimeExports.jsx(Textarea,{id:"address",value:formData.address,onChange:e=>setFormData({...formData,address:e.target.value}),placeholder:"Jl. Contoh No. 123, RT 01/02",rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"note",children:"Catatan"}),jsxRuntimeExports.jsx(Input,{id:"note",value:formData.note,onChange:e=>setFormData({...formData,note:e.target.value}),placeholder:"Catatan tambahan..."})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>setIsDialogOpen(!1),children:"Batal"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:isSubmitting,className:"bg-blue-600 hover:bg-blue-700",children:[isSubmitting?jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(SafeIcon,{name:"Check",className:"h-4 w-4 mr-2"}),editingConsumer?"Simpan Perubahan":"Tambah Konsumen"]})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-slideInBlur stagger-1",style:{opacity:0},children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] group h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/15 rounded-full -translate-y-1/2 translate-x-1/2 animate-floatOrb"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2 animate-floatOrb-delayed"}),jsxRuntimeExports.jsx(CardHeader,{className:"pb-2 relative",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium opacity-90 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 rounded-lg bg-white/20 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Users",className:"h-4 w-4"})}),"Total Konsumen"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"relative",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold tracking-tight",children:total}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Pelanggan terdaftar"})]})]})}),jsxRuntimeExports.jsx("div",{className:"animate-slideInBlur stagger-2",style:{opacity:0},children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden bg-white dark:bg-slate-800 shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] group h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full -translate-y-1/2 translate-x-1/2 animate-floatOrb"}),jsxRuntimeExports.jsx(CardHeader,{className:"pb-2 relative",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 dark:bg-green-900/50 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(SafeIcon,{name:"User",className:"h-4 w-4 text-green-600 dark:text-green-400"})}),"Rumah Tangga"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"relative",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:stats.rumahTangga}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"Konsumen RT"})]})]})}),jsxRuntimeExports.jsx("div",{className:"animate-slideInBlur stagger-3",style:{opacity:0},children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden bg-white dark:bg-slate-800 shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] group h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-100 dark:bg-amber-900/30 rounded-full -translate-y-1/2 translate-x-1/2 animate-floatOrb"}),jsxRuntimeExports.jsx(CardHeader,{className:"pb-2 relative",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Store",className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),"Warung"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"relative",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:stats.warung}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"Usaha mikro"})]})]})}),jsxRuntimeExports.jsx("div",{className:"animate-slideInBlur stagger-4",style:{opacity:0},children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden bg-white dark:bg-slate-800 shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] group h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-100 dark:bg-purple-900/30 rounded-full -translate-y-1/2 translate-x-1/2 animate-floatOrb"}),jsxRuntimeExports.jsx(CardHeader,{className:"pb-2 relative",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(SafeIcon,{name:"CreditCard",className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),"Terverifikasi NIK"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"relative",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:stats.withNik}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"Sudah input NIK"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Search",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari nama, NIK, atau telepon...",value:search,onChange:e=>{setSearch(e.target.value),setPage(1)},className:"pl-10 rounded-xl"})]}),jsxRuntimeExports.jsxs(Select,{value:typeFilter,onValueChange:v=>{setTypeFilter(v),setPage(1)},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px] rounded-xl",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter Jenis"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Semua Jenis"}),jsxRuntimeExports.jsx(SelectItem,{value:"RUMAH_TANGGA",children:"Rumah Tangga"}),jsxRuntimeExports.jsx(SelectItem,{value:"WARUNG",children:"Warung"})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-white shadow-lg rounded-2xl border-0 overflow-hidden",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"border-b border-slate-100 bg-slate-50/50",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Users",className:"h-4 w-4 text-blue-600"})}),"Daftar Konsumen"]}),jsxRuntimeExports.jsxs(CardDescription,{children:[consumers.length," konsumen ditampilkan"]})]}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:consumers.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"UserX",className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Belum Ada Konsumen"}),jsxRuntimeExports.jsx("p",{className:"text-slate-400 mb-6",children:"Tambahkan konsumen untuk mulai mencatat penjualan"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>handleOpenDialog(),className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"UserPlus",className:"h-4 w-4 mr-2"}),"Tambah Konsumen Pertama"]})]}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-slate-100",children:consumers.map((consumer,index)=>jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 hover:bg-blue-50/30 transition-colors ${index%2===0?"bg-white":"bg-slate-50/30"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${consumer.consumer_type==="WARUNG"?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-blue-400 to-blue-600"}`,children:jsxRuntimeExports.jsx(SafeIcon,{name:consumer.consumer_type==="WARUNG"?"Store":"User",className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-slate-900",children:consumer.name}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:consumer.consumer_type==="WARUNG"?"bg-amber-50 text-amber-700 border-amber-200":"bg-blue-50 text-blue-700 border-blue-200",children:consumer.consumer_type==="WARUNG"?"Warung":"RT"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 mt-1",children:[consumer.phone&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Phone",className:"h-3 w-3"}),consumer.phone]}),consumer.nik&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"CreditCard",className:"h-3 w-3"}),"NIK: ***",consumer.nik.slice(-4)]})]}),consumer.address&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"MapPin",className:"h-3 w-3"}),consumer.address.substring(0,50),consumer.address.length>50?"...":""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[consumer._count?.consumer_orders&&consumer._count.consumer_orders>0&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"bg-green-100 text-green-700",children:[consumer._count.consumer_orders," order"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>handleOpenDialog(consumer),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Pencil",className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>handleDelete(consumer),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Trash2",className:"h-4 w-4"})})]})]},consumer.id))})})]}),totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>setPage(p=>Math.max(1,p-1)),disabled:page===1,className:"rounded-xl",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronLeft",className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-500",children:["Halaman ",page," dari ",totalPages]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>setPage(p=>Math.min(totalPages,p+1)),disabled:page===totalPages,className:"rounded-xl",children:["Selanjutnya",jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronRight",className:"h-4 w-4 ml-1"})]})]})]})}export{KonsumenListPage as default};
