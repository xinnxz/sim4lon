import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{S as SafeIcon,B as Button}from"./SafeIcon.C08LGL0m.js";import{I as Input}from"./input.B0jSBU-X.js";import{c as Card,C as CardHeader,a as CardTitle,d as CardDescription,b as CardContent}from"./card.BWWJCoY0.js";import{T as Tilt3DCard}from"./Tilt3DCard.GYqbUY0L.js";import{T as Table,a as TableHeader,b as TableRow,c as TableHead,d as TableBody,e as TableCell}from"./table.Dsw4hYLC.js";import{D as DropdownMenu,a as DropdownMenuTrigger,b as DropdownMenuContent,e as DropdownMenuItem}from"./dropdown-menu.COVwx0ux.js";import{B as Badge}from"./badge.BFgaaq5n.js";import{D as Dialog,a as DialogContent,b as DialogHeader,c as DialogTitle,d as DialogDescription}from"./dialog.Deg6T-G2.js";import{o as object,s as string,l as literal,u as useForm,a,g as getKecamatanByKabupaten,F as Form,b as FormField,c as FormItem,d as FormLabel,e as FormControl,f as FormDescription,h as FormMessage,K as KABUPATEN_DATA}from"./regions.DTkQu3nt.js";import{T as Textarea}from"./textarea.kGDeskSO.js";import{S as Select,a as SelectTrigger,b as SelectValue,c as SelectContent,d as SelectItem}from"./select.CdiqpKGf.js";import{t as toast}from"./index.fAd_ikgp.js";import{pangkalanApi}from"./api.B5PpFILw.js";import{C as ConfirmationModal}from"./ConfirmationModal.BnFiX7YW.js";import"./use3DTilt.Dcq4iilr.js";import"./index.CmV6gt94.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";import"./index.CLV08RI1.js";import"./index.BB0xO63c.js";import"./index.CZLqkOjo.js";import"./index.Drh0kMGk.js";import"./Combination.wteLWZ5f.js";import"./index.D7stNVgX.js";import"./index.Bcho8R2B.js";import"./index.Ci_bviUJ.js";import"./index.DNfkKfAg.js";import"./chevron-right.go_z-t67.js";import"./check.bOXrmBHo.js";import"./index.DYERl0li.js";import"./x.3YBaUzhJ.js";import"./label.CykMmJMJ.js";import"./index.DGt6JTY0.js";import"./index.BhA3i5Wo.js";import"./index.DQFEM45L.js";import"./chevron-up.CkJSkLmv.js";const pangkalanSchema=object({name:string().min(3,"Nama pangkalan minimal 3 karakter").max(100,"Nama pangkalan maksimal 100 karakter"),address:string().min(10,"Alamat minimal 10 karakter").max(255,"Alamat maksimal 255 karakter"),kabupaten:string().min(1,"Kabupaten harus dipilih"),kecamatan:string().min(1,"Kecamatan harus dipilih"),pic_name:string().min(2,"Nama PIC minimal 2 karakter").max(100,"Nama PIC maksimal 100 karakter"),phone:string().regex(/^(\+62|0)[0-9]{9,12}$/,"Nomor telepon tidak valid (contoh: 08xx atau +62xx)"),email:string().email("Format email tidak valid").optional().or(literal("")),capacity:string().optional(),note:string().max(500,"Catatan maksimal 500 karakter").optional()});function TambahPangkalanForm({onSuccess,isModal=!1}){const[isSubmitting,setIsSubmitting]=reactExports.useState(!1),[selectedKabupaten,setSelectedKabupaten]=reactExports.useState(""),form=useForm({resolver:a(pangkalanSchema),defaultValues:{name:"",address:"",kabupaten:"",kecamatan:"",pic_name:"",phone:"",email:"",capacity:"",note:""}}),kecamatanList=getKecamatanByKabupaten(selectedKabupaten);async function onSubmit(values){setIsSubmitting(!0);try{const capacityNum=values.capacity?parseInt(values.capacity,10):0,kabupatenName=KABUPATEN_DATA.find(k=>k.id===values.kabupaten)?.name||values.kabupaten,region=`${values.kecamatan}, ${kabupatenName}`;await pangkalanApi.create({name:values.name,address:values.address,region,pic_name:values.pic_name,phone:values.phone,email:values.email||null,capacity:capacityNum,note:values.note||""}),toast.success("Pangkalan berhasil ditambahkan!"),isModal&&onSuccess?onSuccess():setTimeout(()=>{window.location.href="/daftar-pangkalan"},1e3)}catch(error){toast.error("Gagal menambahkan pangkalan. Silakan coba lagi."),console.error("Error:",error)}finally{setIsSubmitting(!1)}}return jsxRuntimeExports.jsxs("div",{className:isModal?"":"max-w-2xl mx-auto",children:[!isModal&&jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Store",className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Tambah Pangkalan"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Daftarkan pangkalan LPG baru ke dalam sistem"})]}),jsxRuntimeExports.jsxs(Card,{className:isModal?"border-0 shadow-none":"shadow-card",children:[jsxRuntimeExports.jsxs(CardHeader,{className:isModal?"px-0 pt-0":"",children:[jsxRuntimeExports.jsx(CardTitle,{children:"Informasi Pangkalan"}),jsxRuntimeExports.jsx(CardDescription,{children:"Isi semua field yang diperlukan untuk mendaftarkan pangkalan baru"})]}),jsxRuntimeExports.jsx(CardContent,{className:isModal?"px-0":"",children:jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(onSubmit),className:"space-y-6",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"name",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Nama Pangkalan *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Contoh: Pangkalan Maju Jaya",...field,disabled:isSubmitting})}),jsxRuntimeExports.jsx(FormDescription,{children:"Nama resmi pangkalan LPG"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"address",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Alamat Lengkap *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Contoh: Jl. Merdeka No. 123, Kelurahan Sukamaju",...field,disabled:isSubmitting,rows:3})}),jsxRuntimeExports.jsx(FormDescription,{children:"Alamat lengkap pangkalan"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"kabupaten",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Kabupaten *"}),jsxRuntimeExports.jsxs(Select,{onValueChange:value=>{field.onChange(value),setSelectedKabupaten(value),form.setValue("kecamatan","")},defaultValue:field.value,disabled:isSubmitting,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Kabupaten"})})}),jsxRuntimeExports.jsx(SelectContent,{children:KABUPATEN_DATA.map(kab=>jsxRuntimeExports.jsx(SelectItem,{value:kab.id,children:kab.name},kab.id))})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"kecamatan",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Kecamatan *"}),jsxRuntimeExports.jsxs(Select,{onValueChange:field.onChange,defaultValue:field.value,disabled:isSubmitting||!selectedKabupaten,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:selectedKabupaten?"Pilih Kecamatan":"Pilih Kabupaten dulu"})})}),jsxRuntimeExports.jsx(SelectContent,{children:kecamatanList.map(kec=>jsxRuntimeExports.jsx(SelectItem,{value:kec,children:kec},kec))})]}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"pic_name",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Nama PIC *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Contoh: Budi Santoso",...field,disabled:isSubmitting})}),jsxRuntimeExports.jsx(FormDescription,{children:"Nama penanggung jawab pangkalan"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"phone",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Nomor Telepon *"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Contoh: 081234567890",...field,disabled:isSubmitting,type:"tel"})}),jsxRuntimeExports.jsx(FormDescription,{children:"Nomor telepon yang dapat dihubungi"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"email",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Email (Opsional)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Contoh: pangkalan@email.com",...field,disabled:isSubmitting,type:"email"})}),jsxRuntimeExports.jsx(FormDescription,{children:"Untuk kirim invoice/nota"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"capacity",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Kapasitas (Opsional)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Contoh: 500",...field,disabled:isSubmitting,type:"number"})}),jsxRuntimeExports.jsx(FormDescription,{children:"Kapasitas penyimpanan LPG dalam unit"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"note",render:({field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base font-semibold",children:"Catatan (Opsional)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Contoh: Lokasi strategis, akses jalan mudah",...field,disabled:isSubmitting,rows:2})}),jsxRuntimeExports.jsx(FormDescription,{children:"Informasi tambahan tentang pangkalan"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[!isModal&&jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",onClick:()=>window.location.href="/daftar-pangkalan",disabled:isSubmitting,className:"flex-1",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"X",className:"mr-2 h-4 w-4"}),"Batal"]}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:isSubmitting,className:isModal?"w-full":"flex-1 bg-primary hover:bg-primary/90",children:isSubmitting?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Save",className:"mr-2 h-4 w-4"}),"Simpan Pangkalan"]})})]})]})})})]})]})}function PangkalanListPage(){const[pangkalanList,setPangkalanList]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[totalItems,setTotalItems]=reactExports.useState(0),[currentPage,setCurrentPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[searchTerm,setSearchTerm]=reactExports.useState(""),[statusFilter,setStatusFilter]=reactExports.useState("semua"),[showAddModal,setShowAddModal]=reactExports.useState(!1),[selectedPangkalan,setSelectedPangkalan]=reactExports.useState(null),[showConfirmModal,setShowConfirmModal]=reactExports.useState(!1),fetchPangkalan=async()=>{try{setIsLoading(!0);const isActive=statusFilter==="semua"?void 0:statusFilter==="aktif",response=await pangkalanApi.getAll(currentPage,10,searchTerm||void 0,isActive);setPangkalanList(response.data),setTotalItems(response.meta.total),setTotalPages(response.meta.totalPages)}catch(error){console.error("Failed to fetch pangkalan:",error),toast.error("Gagal memuat data pangkalan")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{fetchPangkalan()},[currentPage,statusFilter]),reactExports.useEffect(()=>{const timer=setTimeout(()=>{setCurrentPage(1),fetchPangkalan()},500);return()=>clearTimeout(timer)},[searchTerm]);const handleStatusToggleClick=pangkalan=>{setSelectedPangkalan(pangkalan),setShowConfirmModal(!0)},handleConfirmStatusToggle=async()=>{if(selectedPangkalan)try{const newStatus=!selectedPangkalan.is_active;await pangkalanApi.update(selectedPangkalan.id,{is_active:newStatus}),toast.success(`Pangkalan berhasil ${newStatus?"diaktifkan":"dinonaktifkan"}`),fetchPangkalan()}catch(error){console.error("Failed to update status:",error),toast.error("Gagal mengubah status pangkalan")}finally{setShowConfirmModal(!1),setSelectedPangkalan(null)}},handleAddSuccess=()=>{setShowAddModal(!1),fetchPangkalan(),toast.success("Pangkalan berhasil ditambahkan")},aktivCount=pangkalanList.filter(p=>p.is_active).length,nonaktifCount=pangkalanList.filter(p=>!p.is_active).length;return jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Daftar Pangkalan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Kelola semua pangkalan distribusi LPG Anda"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>setShowAddModal(!0),className:"w-full sm:w-auto bg-primary hover:bg-primary/90",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Plus",className:"mr-2 h-4 w-4"}),"Tambah Pangkalan"]})]}),jsxRuntimeExports.jsxs("div",{id:"ikyt24",className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsx(Tilt3DCard,{className:"animate-fadeInUp",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Pangkalan"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:totalItems}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Semua pangkalan terdaftar"})]})]})}),jsxRuntimeExports.jsx(Tilt3DCard,{className:"animate-fadeInUp",style:{animationDelay:"0.1s"},children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Pangkalan Aktif"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-primary",children:aktivCount}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Siap beroperasi"})]})]})}),jsxRuntimeExports.jsx(Tilt3DCard,{className:"animate-fadeInUp",style:{animationDelay:"0.2s"},children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Pangkalan Nonaktif"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-destructive",children:nonaktifCount}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Memerlukan perhatian"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Cari Pangkalan"}),jsxRuntimeExports.jsx(CardDescription,{children:"Cari berdasarkan nama, alamat, atau wilayah"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Cari pangkalan...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"flex-1"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",children:jsxRuntimeExports.jsx(SafeIcon,{name:"Search",className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:statusFilter==="semua"?"default":"outline",onClick:()=>setStatusFilter("semua"),className:"flex-1 sm:flex-none",children:"Semua"}),jsxRuntimeExports.jsx(Button,{variant:statusFilter==="aktif"?"default":"outline",onClick:()=>setStatusFilter("aktif"),className:"flex-1 sm:flex-none",children:"Aktif"}),jsxRuntimeExports.jsx(Button,{variant:statusFilter==="nonaktif"?"default":"outline",onClick:()=>setStatusFilter("nonaktif"),className:"flex-1 sm:flex-none",children:"Nonaktif"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Daftar Pangkalan"}),jsxRuntimeExports.jsxs(CardDescription,{children:["Menampilkan ",pangkalanList.length," dari ",totalItems," pangkalan"]})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Loader2",className:"h-8 w-8 animate-spin text-primary"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Memuat data..."})]}):jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-muted/50",children:[jsxRuntimeExports.jsx(TableHead,{className:"font-semibold w-24",children:"Kode"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Nama Pangkalan"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Alamat"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Wilayah"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Telepon"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"PIC"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right font-semibold",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:pangkalanList.length>0?pangkalanList.map(pangkalan=>jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/50",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm text-primary",children:pangkalan.code||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:pangkalan.name}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm text-muted-foreground max-w-xs truncate",children:pangkalan.address}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm",children:pangkalan.region}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm",children:pangkalan.phone}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm font-medium",children:pangkalan.pic_name}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:pangkalan.is_active?"default":"secondary",className:pangkalan.is_active?"bg-primary/20 text-primary hover:bg-primary/30":"",children:pangkalan.is_active?"Aktif":"Nonaktif"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(SafeIcon,{name:"MoreVertical",className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:`/detail-edit-pangkalan?id=${pangkalan.id}`,className:"cursor-pointer",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Eye",className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Lihat Detail"})]})}),pangkalan.is_active?jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-destructive cursor-pointer",onClick:()=>handleStatusToggleClick(pangkalan),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Ban",className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Nonaktifkan"})]}):jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-green-600 cursor-pointer",onClick:()=>handleStatusToggleClick(pangkalan),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Check",className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Aktifkan"})]})]})]})})]},pangkalan.id)):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:7,className:"text-center py-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Search",className:"h-8 w-8 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tidak ada pangkalan ditemukan"})]})})})})]})}),totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Halaman ",currentPage," dari ",totalPages]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:currentPage===1,onClick:()=>setCurrentPage(p=>p-1),children:[jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronLeft",className:"h-4 w-4"}),"Prev"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:currentPage===totalPages,onClick:()=>setCurrentPage(p=>p+1),children:["Next",jsxRuntimeExports.jsx(SafeIcon,{name:"ChevronRight",className:"h-4 w-4"})]})]})]})]})]}),jsxRuntimeExports.jsx(Dialog,{open:showAddModal,onOpenChange:setShowAddModal,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Tambah Pangkalan Baru"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Daftarkan pangkalan LPG baru ke dalam sistem"})]}),jsxRuntimeExports.jsx("div",{className:"py-4",children:jsxRuntimeExports.jsx(TambahPangkalanForm,{isModal:!0,onSuccess:handleAddSuccess})})]})}),selectedPangkalan&&jsxRuntimeExports.jsx(ConfirmationModal,{open:showConfirmModal,onOpenChange:setShowConfirmModal,title:selectedPangkalan.is_active?"Nonaktifkan Pangkalan":"Aktifkan Pangkalan",description:selectedPangkalan.is_active?`Apakah Anda yakin ingin menonaktifkan pangkalan "${selectedPangkalan.name}"? Pangkalan ini tidak akan dapat menerima pesanan sampai diaktifkan kembali.`:`Apakah Anda yakin ingin mengaktifkan pangkalan "${selectedPangkalan.name}"? Pangkalan ini akan dapat menerima pesanan kembali.`,confirmText:selectedPangkalan.is_active?"Nonaktifkan":"Aktifkan",cancelText:"Batal",icon:selectedPangkalan.is_active?"AlertTriangle":"CheckCircle",isDangerous:selectedPangkalan.is_active,onConfirm:handleConfirmStatusToggle})]})}export{PangkalanListPage as default};
