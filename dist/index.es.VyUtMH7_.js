import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./index.DcciWILN.js";import{_ as _typeof$1}from"./ReportsPage.Ca6trhy-.js";import"./jsx-runtime.mvtouYz0.js";import"./card.SxAweRZB.js";import"./SafeIcon.C08LGL0m.js";import"./tabs.BjBpM8Dk.js";import"./index.CmV6gt94.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";import"./index.DNfkKfAg.js";import"./index.CZLqkOjo.js";import"./index.CLV08RI1.js";import"./index.BB0xO63c.js";import"./index.Drh0kMGk.js";import"./index.Ci_bviUJ.js";import"./select.CdiqpKGf.js";import"./index.DGt6JTY0.js";import"./Combination.wteLWZ5f.js";import"./index.D7stNVgX.js";import"./index.Bcho8R2B.js";import"./index.BhA3i5Wo.js";import"./index.DQFEM45L.js";import"./chevron-up.CkJSkLmv.js";import"./check.bOXrmBHo.js";import"./input.B0jSBU-X.js";import"./badge.BFgaaq5n.js";import"./Tilt3DCard.PsjhSQ2O.js";import"./use3DTilt.Dcq4iilr.js";import"./api.B5PpFILw.js";import"./index.fAd_ikgp.js";import"./generateCategoricalChart.Crqe-OLF.js";import"./LineChart.DBAKq2J_.js";import"./PieChart.DJGyav3p.js";import"./BarChart.ffT2CUX_.js";var es_promise={},es_promise_constructor={},globalThis_1,hasRequiredGlobalThis;function requireGlobalThis(){if(hasRequiredGlobalThis)return globalThis_1;hasRequiredGlobalThis=1;var check=function(it){return it&&it.Math===Math&&it};return globalThis_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||check(typeof globalThis_1=="object"&&globalThis_1)||(function(){return this})()||Function("return this")(),globalThis_1}var objectGetOwnPropertyDescriptor={},fails,hasRequiredFails;function requireFails(){return hasRequiredFails||(hasRequiredFails=1,fails=function(exec){try{return!!exec()}catch{return!0}}),fails}var descriptors,hasRequiredDescriptors;function requireDescriptors(){if(hasRequiredDescriptors)return descriptors;hasRequiredDescriptors=1;var fails2=requireFails();return descriptors=!fails2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),descriptors}var functionBindNative,hasRequiredFunctionBindNative;function requireFunctionBindNative(){if(hasRequiredFunctionBindNative)return functionBindNative;hasRequiredFunctionBindNative=1;var fails2=requireFails();return functionBindNative=!fails2(function(){var test=(function(){}).bind();return typeof test!="function"||test.hasOwnProperty("prototype")}),functionBindNative}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){if(hasRequiredFunctionCall)return functionCall;hasRequiredFunctionCall=1;var NATIVE_BIND=requireFunctionBindNative(),call=Function.prototype.call;return functionCall=NATIVE_BIND?call.bind(call):function(){return call.apply(call,arguments)},functionCall}var objectPropertyIsEnumerable={},hasRequiredObjectPropertyIsEnumerable;function requireObjectPropertyIsEnumerable(){if(hasRequiredObjectPropertyIsEnumerable)return objectPropertyIsEnumerable;hasRequiredObjectPropertyIsEnumerable=1;var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!$propertyIsEnumerable.call({1:2},1);return objectPropertyIsEnumerable.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable}var createPropertyDescriptor,hasRequiredCreatePropertyDescriptor;function requireCreatePropertyDescriptor(){return hasRequiredCreatePropertyDescriptor||(hasRequiredCreatePropertyDescriptor=1,createPropertyDescriptor=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value}}),createPropertyDescriptor}var functionUncurryThis,hasRequiredFunctionUncurryThis;function requireFunctionUncurryThis(){if(hasRequiredFunctionUncurryThis)return functionUncurryThis;hasRequiredFunctionUncurryThis=1;var NATIVE_BIND=requireFunctionBindNative(),FunctionPrototype=Function.prototype,call=FunctionPrototype.call,uncurryThisWithBind=NATIVE_BIND&&FunctionPrototype.bind.bind(call,call);return functionUncurryThis=NATIVE_BIND?uncurryThisWithBind:function(fn){return function(){return call.apply(fn,arguments)}},functionUncurryThis}var classofRaw,hasRequiredClassofRaw;function requireClassofRaw(){if(hasRequiredClassofRaw)return classofRaw;hasRequiredClassofRaw=1;var uncurryThis=requireFunctionUncurryThis(),toString2=uncurryThis({}.toString),stringSlice=uncurryThis("".slice);return classofRaw=function(it){return stringSlice(toString2(it),8,-1)},classofRaw}var indexedObject,hasRequiredIndexedObject;function requireIndexedObject(){if(hasRequiredIndexedObject)return indexedObject;hasRequiredIndexedObject=1;var uncurryThis=requireFunctionUncurryThis(),fails2=requireFails(),classof2=requireClassofRaw(),$Object=Object,split=uncurryThis("".split);return indexedObject=fails2(function(){return!$Object("z").propertyIsEnumerable(0)})?function(it){return classof2(it)==="String"?split(it,""):$Object(it)}:$Object,indexedObject}var isNullOrUndefined,hasRequiredIsNullOrUndefined;function requireIsNullOrUndefined(){return hasRequiredIsNullOrUndefined||(hasRequiredIsNullOrUndefined=1,isNullOrUndefined=function(it){return it==null}),isNullOrUndefined}var requireObjectCoercible,hasRequiredRequireObjectCoercible;function requireRequireObjectCoercible(){if(hasRequiredRequireObjectCoercible)return requireObjectCoercible;hasRequiredRequireObjectCoercible=1;var isNullOrUndefined2=requireIsNullOrUndefined(),$TypeError=TypeError;return requireObjectCoercible=function(it){if(isNullOrUndefined2(it))throw new $TypeError("Can't call method on "+it);return it},requireObjectCoercible}var toIndexedObject,hasRequiredToIndexedObject;function requireToIndexedObject(){if(hasRequiredToIndexedObject)return toIndexedObject;hasRequiredToIndexedObject=1;var IndexedObject=requireIndexedObject(),requireObjectCoercible2=requireRequireObjectCoercible();return toIndexedObject=function(it){return IndexedObject(requireObjectCoercible2(it))},toIndexedObject}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var documentAll=typeof document=="object"&&document.all;return isCallable=typeof documentAll>"u"&&documentAll!==void 0?function(argument){return typeof argument=="function"||argument===documentAll}:function(argument){return typeof argument=="function"},isCallable}var isObject,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject;hasRequiredIsObject=1;var isCallable2=requireIsCallable();return isObject=function(it){return typeof it=="object"?it!==null:isCallable2(it)},isObject}var getBuiltIn,hasRequiredGetBuiltIn;function requireGetBuiltIn(){if(hasRequiredGetBuiltIn)return getBuiltIn;hasRequiredGetBuiltIn=1;var globalThis2=requireGlobalThis(),isCallable2=requireIsCallable(),aFunction=function(argument){return isCallable2(argument)?argument:void 0};return getBuiltIn=function(namespace,method){return arguments.length<2?aFunction(globalThis2[namespace]):globalThis2[namespace]&&globalThis2[namespace][method]},getBuiltIn}var objectIsPrototypeOf,hasRequiredObjectIsPrototypeOf;function requireObjectIsPrototypeOf(){if(hasRequiredObjectIsPrototypeOf)return objectIsPrototypeOf;hasRequiredObjectIsPrototypeOf=1;var uncurryThis=requireFunctionUncurryThis();return objectIsPrototypeOf=uncurryThis({}.isPrototypeOf),objectIsPrototypeOf}var environmentUserAgent,hasRequiredEnvironmentUserAgent;function requireEnvironmentUserAgent(){if(hasRequiredEnvironmentUserAgent)return environmentUserAgent;hasRequiredEnvironmentUserAgent=1;var globalThis2=requireGlobalThis(),navigator=globalThis2.navigator,userAgent=navigator&&navigator.userAgent;return environmentUserAgent=userAgent?String(userAgent):"",environmentUserAgent}var environmentV8Version,hasRequiredEnvironmentV8Version;function requireEnvironmentV8Version(){if(hasRequiredEnvironmentV8Version)return environmentV8Version;hasRequiredEnvironmentV8Version=1;var globalThis2=requireGlobalThis(),userAgent=requireEnvironmentUserAgent(),process2=globalThis2.process,Deno2=globalThis2.Deno,versions=process2&&process2.versions||Deno2&&Deno2.version,v8=versions&&versions.v8,match,version;return v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(match=userAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/),match&&(version=+match[1]))),environmentV8Version=version,environmentV8Version}var symbolConstructorDetection,hasRequiredSymbolConstructorDetection;function requireSymbolConstructorDetection(){if(hasRequiredSymbolConstructorDetection)return symbolConstructorDetection;hasRequiredSymbolConstructorDetection=1;var V8_VERSION=requireEnvironmentV8Version(),fails2=requireFails(),globalThis2=requireGlobalThis(),$String=globalThis2.String;return symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails2(function(){var symbol=Symbol("symbol detection");return!$String(symbol)||!(Object(symbol)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41}),symbolConstructorDetection}var useSymbolAsUid,hasRequiredUseSymbolAsUid;function requireUseSymbolAsUid(){if(hasRequiredUseSymbolAsUid)return useSymbolAsUid;hasRequiredUseSymbolAsUid=1;var NATIVE_SYMBOL=requireSymbolConstructorDetection();return useSymbolAsUid=NATIVE_SYMBOL&&!Symbol.sham&&typeof Symbol.iterator=="symbol",useSymbolAsUid}var isSymbol,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol;hasRequiredIsSymbol=1;var getBuiltIn2=requireGetBuiltIn(),isCallable2=requireIsCallable(),isPrototypeOf=requireObjectIsPrototypeOf(),USE_SYMBOL_AS_UID=requireUseSymbolAsUid(),$Object=Object;return isSymbol=USE_SYMBOL_AS_UID?function(it){return typeof it=="symbol"}:function(it){var $Symbol=getBuiltIn2("Symbol");return isCallable2($Symbol)&&isPrototypeOf($Symbol.prototype,$Object(it))},isSymbol}var tryToString,hasRequiredTryToString;function requireTryToString(){if(hasRequiredTryToString)return tryToString;hasRequiredTryToString=1;var $String=String;return tryToString=function(argument){try{return $String(argument)}catch{return"Object"}},tryToString}var aCallable,hasRequiredACallable;function requireACallable(){if(hasRequiredACallable)return aCallable;hasRequiredACallable=1;var isCallable2=requireIsCallable(),tryToString2=requireTryToString(),$TypeError=TypeError;return aCallable=function(argument){if(isCallable2(argument))return argument;throw new $TypeError(tryToString2(argument)+" is not a function")},aCallable}var getMethod,hasRequiredGetMethod;function requireGetMethod(){if(hasRequiredGetMethod)return getMethod;hasRequiredGetMethod=1;var aCallable2=requireACallable(),isNullOrUndefined2=requireIsNullOrUndefined();return getMethod=function(V,P){var func=V[P];return isNullOrUndefined2(func)?void 0:aCallable2(func)},getMethod}var ordinaryToPrimitive,hasRequiredOrdinaryToPrimitive;function requireOrdinaryToPrimitive(){if(hasRequiredOrdinaryToPrimitive)return ordinaryToPrimitive;hasRequiredOrdinaryToPrimitive=1;var call=requireFunctionCall(),isCallable2=requireIsCallable(),isObject2=requireIsObject(),$TypeError=TypeError;return ordinaryToPrimitive=function(input,pref){var fn,val;if(pref==="string"&&isCallable2(fn=input.toString)&&!isObject2(val=call(fn,input))||isCallable2(fn=input.valueOf)&&!isObject2(val=call(fn,input))||pref!=="string"&&isCallable2(fn=input.toString)&&!isObject2(val=call(fn,input)))return val;throw new $TypeError("Can't convert object to primitive value")},ordinaryToPrimitive}var sharedStore={exports:{}},isPure,hasRequiredIsPure;function requireIsPure(){return hasRequiredIsPure||(hasRequiredIsPure=1,isPure=!1),isPure}var defineGlobalProperty,hasRequiredDefineGlobalProperty;function requireDefineGlobalProperty(){if(hasRequiredDefineGlobalProperty)return defineGlobalProperty;hasRequiredDefineGlobalProperty=1;var globalThis2=requireGlobalThis(),defineProperty=Object.defineProperty;return defineGlobalProperty=function(key,value){try{defineProperty(globalThis2,key,{value,configurable:!0,writable:!0})}catch{globalThis2[key]=value}return value},defineGlobalProperty}var hasRequiredSharedStore;function requireSharedStore(){if(hasRequiredSharedStore)return sharedStore.exports;hasRequiredSharedStore=1;var IS_PURE=requireIsPure(),globalThis2=requireGlobalThis(),defineGlobalProperty2=requireDefineGlobalProperty(),SHARED="__core-js_shared__",store=sharedStore.exports=globalThis2[SHARED]||defineGlobalProperty2(SHARED,{});return(store.versions||(store.versions=[])).push({version:"3.47.0",mode:IS_PURE?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"}),sharedStore.exports}var shared,hasRequiredShared;function requireShared(){if(hasRequiredShared)return shared;hasRequiredShared=1;var store=requireSharedStore();return shared=function(key,value){return store[key]||(store[key]=value||{})},shared}var toObject,hasRequiredToObject;function requireToObject(){if(hasRequiredToObject)return toObject;hasRequiredToObject=1;var requireObjectCoercible2=requireRequireObjectCoercible(),$Object=Object;return toObject=function(argument){return $Object(requireObjectCoercible2(argument))},toObject}var hasOwnProperty_1,hasRequiredHasOwnProperty;function requireHasOwnProperty(){if(hasRequiredHasOwnProperty)return hasOwnProperty_1;hasRequiredHasOwnProperty=1;var uncurryThis=requireFunctionUncurryThis(),toObject2=requireToObject(),hasOwnProperty=uncurryThis({}.hasOwnProperty);return hasOwnProperty_1=Object.hasOwn||function(it,key){return hasOwnProperty(toObject2(it),key)},hasOwnProperty_1}var uid,hasRequiredUid;function requireUid(){if(hasRequiredUid)return uid;hasRequiredUid=1;var uncurryThis=requireFunctionUncurryThis(),id=0,postfix=Math.random(),toString2=uncurryThis(1.1.toString);return uid=function(key){return"Symbol("+(key===void 0?"":key)+")_"+toString2(++id+postfix,36)},uid}var wellKnownSymbol,hasRequiredWellKnownSymbol;function requireWellKnownSymbol(){if(hasRequiredWellKnownSymbol)return wellKnownSymbol;hasRequiredWellKnownSymbol=1;var globalThis2=requireGlobalThis(),shared2=requireShared(),hasOwn=requireHasOwnProperty(),uid2=requireUid(),NATIVE_SYMBOL=requireSymbolConstructorDetection(),USE_SYMBOL_AS_UID=requireUseSymbolAsUid(),Symbol2=globalThis2.Symbol,WellKnownSymbolsStore=shared2("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol2.for||Symbol2:Symbol2&&Symbol2.withoutSetter||uid2;return wellKnownSymbol=function(name){return hasOwn(WellKnownSymbolsStore,name)||(WellKnownSymbolsStore[name]=NATIVE_SYMBOL&&hasOwn(Symbol2,name)?Symbol2[name]:createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]},wellKnownSymbol}var toPrimitive$1,hasRequiredToPrimitive;function requireToPrimitive(){if(hasRequiredToPrimitive)return toPrimitive$1;hasRequiredToPrimitive=1;var call=requireFunctionCall(),isObject2=requireIsObject(),isSymbol2=requireIsSymbol(),getMethod2=requireGetMethod(),ordinaryToPrimitive2=requireOrdinaryToPrimitive(),wellKnownSymbol2=requireWellKnownSymbol(),$TypeError=TypeError,TO_PRIMITIVE=wellKnownSymbol2("toPrimitive");return toPrimitive$1=function(input,pref){if(!isObject2(input)||isSymbol2(input))return input;var exoticToPrim=getMethod2(input,TO_PRIMITIVE),result;if(exoticToPrim){if(pref===void 0&&(pref="default"),result=call(exoticToPrim,input,pref),!isObject2(result)||isSymbol2(result))return result;throw new $TypeError("Can't convert object to primitive value")}return pref===void 0&&(pref="number"),ordinaryToPrimitive2(input,pref)},toPrimitive$1}var toPropertyKey$1,hasRequiredToPropertyKey;function requireToPropertyKey(){if(hasRequiredToPropertyKey)return toPropertyKey$1;hasRequiredToPropertyKey=1;var toPrimitive2=requireToPrimitive(),isSymbol2=requireIsSymbol();return toPropertyKey$1=function(argument){var key=toPrimitive2(argument,"string");return isSymbol2(key)?key:key+""},toPropertyKey$1}var documentCreateElement,hasRequiredDocumentCreateElement;function requireDocumentCreateElement(){if(hasRequiredDocumentCreateElement)return documentCreateElement;hasRequiredDocumentCreateElement=1;var globalThis2=requireGlobalThis(),isObject2=requireIsObject(),document2=globalThis2.document,EXISTS=isObject2(document2)&&isObject2(document2.createElement);return documentCreateElement=function(it){return EXISTS?document2.createElement(it):{}},documentCreateElement}var ie8DomDefine,hasRequiredIe8DomDefine;function requireIe8DomDefine(){if(hasRequiredIe8DomDefine)return ie8DomDefine;hasRequiredIe8DomDefine=1;var DESCRIPTORS=requireDescriptors(),fails2=requireFails(),createElement=requireDocumentCreateElement();return ie8DomDefine=!DESCRIPTORS&&!fails2(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!==7}),ie8DomDefine}var hasRequiredObjectGetOwnPropertyDescriptor;function requireObjectGetOwnPropertyDescriptor(){if(hasRequiredObjectGetOwnPropertyDescriptor)return objectGetOwnPropertyDescriptor;hasRequiredObjectGetOwnPropertyDescriptor=1;var DESCRIPTORS=requireDescriptors(),call=requireFunctionCall(),propertyIsEnumerableModule=requireObjectPropertyIsEnumerable(),createPropertyDescriptor2=requireCreatePropertyDescriptor(),toIndexedObject2=requireToIndexedObject(),toPropertyKey2=requireToPropertyKey(),hasOwn=requireHasOwnProperty(),IE8_DOM_DEFINE=requireIe8DomDefine(),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;return objectGetOwnPropertyDescriptor.f=DESCRIPTORS?$getOwnPropertyDescriptor:function(O2,P){if(O2=toIndexedObject2(O2),P=toPropertyKey2(P),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(O2,P)}catch{}if(hasOwn(O2,P))return createPropertyDescriptor2(!call(propertyIsEnumerableModule.f,O2,P),O2[P])},objectGetOwnPropertyDescriptor}var objectDefineProperty={},v8PrototypeDefineBug,hasRequiredV8PrototypeDefineBug;function requireV8PrototypeDefineBug(){if(hasRequiredV8PrototypeDefineBug)return v8PrototypeDefineBug;hasRequiredV8PrototypeDefineBug=1;var DESCRIPTORS=requireDescriptors(),fails2=requireFails();return v8PrototypeDefineBug=DESCRIPTORS&&fails2(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),v8PrototypeDefineBug}var anObject,hasRequiredAnObject;function requireAnObject(){if(hasRequiredAnObject)return anObject;hasRequiredAnObject=1;var isObject2=requireIsObject(),$String=String,$TypeError=TypeError;return anObject=function(argument){if(isObject2(argument))return argument;throw new $TypeError($String(argument)+" is not an object")},anObject}var hasRequiredObjectDefineProperty;function requireObjectDefineProperty(){if(hasRequiredObjectDefineProperty)return objectDefineProperty;hasRequiredObjectDefineProperty=1;var DESCRIPTORS=requireDescriptors(),IE8_DOM_DEFINE=requireIe8DomDefine(),V8_PROTOTYPE_DEFINE_BUG=requireV8PrototypeDefineBug(),anObject2=requireAnObject(),toPropertyKey2=requireToPropertyKey(),$TypeError=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE="configurable",WRITABLE="writable";return objectDefineProperty.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?function(O2,P,Attributes){if(anObject2(O2),P=toPropertyKey2(P),anObject2(Attributes),typeof O2=="function"&&P==="prototype"&&"value"in Attributes&&WRITABLE in Attributes&&!Attributes[WRITABLE]){var current=$getOwnPropertyDescriptor(O2,P);current&&current[WRITABLE]&&(O2[P]=Attributes.value,Attributes={configurable:CONFIGURABLE in Attributes?Attributes[CONFIGURABLE]:current[CONFIGURABLE],enumerable:ENUMERABLE in Attributes?Attributes[ENUMERABLE]:current[ENUMERABLE],writable:!1})}return $defineProperty(O2,P,Attributes)}:$defineProperty:function(O2,P,Attributes){if(anObject2(O2),P=toPropertyKey2(P),anObject2(Attributes),IE8_DOM_DEFINE)try{return $defineProperty(O2,P,Attributes)}catch{}if("get"in Attributes||"set"in Attributes)throw new $TypeError("Accessors not supported");return"value"in Attributes&&(O2[P]=Attributes.value),O2},objectDefineProperty}var createNonEnumerableProperty,hasRequiredCreateNonEnumerableProperty;function requireCreateNonEnumerableProperty(){if(hasRequiredCreateNonEnumerableProperty)return createNonEnumerableProperty;hasRequiredCreateNonEnumerableProperty=1;var DESCRIPTORS=requireDescriptors(),definePropertyModule=requireObjectDefineProperty(),createPropertyDescriptor2=requireCreatePropertyDescriptor();return createNonEnumerableProperty=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor2(1,value))}:function(object,key,value){return object[key]=value,object},createNonEnumerableProperty}var makeBuiltIn={exports:{}},functionName,hasRequiredFunctionName;function requireFunctionName(){if(hasRequiredFunctionName)return functionName;hasRequiredFunctionName=1;var DESCRIPTORS=requireDescriptors(),hasOwn=requireHasOwnProperty(),FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn(FunctionPrototype,"name"),PROPER=EXISTS&&(function(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS||DESCRIPTORS&&getDescriptor(FunctionPrototype,"name").configurable);return functionName={EXISTS,PROPER,CONFIGURABLE},functionName}var inspectSource,hasRequiredInspectSource;function requireInspectSource(){if(hasRequiredInspectSource)return inspectSource;hasRequiredInspectSource=1;var uncurryThis=requireFunctionUncurryThis(),isCallable2=requireIsCallable(),store=requireSharedStore(),functionToString=uncurryThis(Function.toString);return isCallable2(store.inspectSource)||(store.inspectSource=function(it){return functionToString(it)}),inspectSource=store.inspectSource,inspectSource}var weakMapBasicDetection,hasRequiredWeakMapBasicDetection;function requireWeakMapBasicDetection(){if(hasRequiredWeakMapBasicDetection)return weakMapBasicDetection;hasRequiredWeakMapBasicDetection=1;var globalThis2=requireGlobalThis(),isCallable2=requireIsCallable(),WeakMap=globalThis2.WeakMap;return weakMapBasicDetection=isCallable2(WeakMap)&&/native code/.test(String(WeakMap)),weakMapBasicDetection}var sharedKey,hasRequiredSharedKey;function requireSharedKey(){if(hasRequiredSharedKey)return sharedKey;hasRequiredSharedKey=1;var shared2=requireShared(),uid2=requireUid(),keys=shared2("keys");return sharedKey=function(key){return keys[key]||(keys[key]=uid2(key))},sharedKey}var hiddenKeys,hasRequiredHiddenKeys;function requireHiddenKeys(){return hasRequiredHiddenKeys||(hasRequiredHiddenKeys=1,hiddenKeys={}),hiddenKeys}var internalState,hasRequiredInternalState;function requireInternalState(){if(hasRequiredInternalState)return internalState;hasRequiredInternalState=1;var NATIVE_WEAK_MAP=requireWeakMapBasicDetection(),globalThis2=requireGlobalThis(),isObject2=requireIsObject(),createNonEnumerableProperty2=requireCreateNonEnumerableProperty(),hasOwn=requireHasOwnProperty(),shared2=requireSharedStore(),sharedKey2=requireSharedKey(),hiddenKeys2=requireHiddenKeys(),OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError2=globalThis2.TypeError,WeakMap=globalThis2.WeakMap,set,get,has,enforce=function(it){return has(it)?get(it):set(it,{})},getterFor=function(TYPE){return function(it){var state;if(!isObject2(it)||(state=get(it)).type!==TYPE)throw new TypeError2("Incompatible receiver, "+TYPE+" required");return state}};if(NATIVE_WEAK_MAP||shared2.state){var store=shared2.state||(shared2.state=new WeakMap);store.get=store.get,store.has=store.has,store.set=store.set,set=function(it,metadata){if(store.has(it))throw new TypeError2(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,store.set(it,metadata),metadata},get=function(it){return store.get(it)||{}},has=function(it){return store.has(it)}}else{var STATE=sharedKey2("state");hiddenKeys2[STATE]=!0,set=function(it,metadata){if(hasOwn(it,STATE))throw new TypeError2(OBJECT_ALREADY_INITIALIZED);return metadata.facade=it,createNonEnumerableProperty2(it,STATE,metadata),metadata},get=function(it){return hasOwn(it,STATE)?it[STATE]:{}},has=function(it){return hasOwn(it,STATE)}}return internalState={set,get,has,enforce,getterFor},internalState}var hasRequiredMakeBuiltIn;function requireMakeBuiltIn(){if(hasRequiredMakeBuiltIn)return makeBuiltIn.exports;hasRequiredMakeBuiltIn=1;var uncurryThis=requireFunctionUncurryThis(),fails2=requireFails(),isCallable2=requireIsCallable(),hasOwn=requireHasOwnProperty(),DESCRIPTORS=requireDescriptors(),CONFIGURABLE_FUNCTION_NAME=requireFunctionName().CONFIGURABLE,inspectSource2=requireInspectSource(),InternalStateModule=requireInternalState(),enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,$String=String,defineProperty=Object.defineProperty,stringSlice=uncurryThis("".slice),replace=uncurryThis("".replace),join=uncurryThis([].join),CONFIGURABLE_LENGTH=DESCRIPTORS&&!fails2(function(){return defineProperty(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$1=makeBuiltIn.exports=function(value,name,options){stringSlice($String(name),0,7)==="Symbol("&&(name="["+replace($String(name),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),options&&options.getter&&(name="get "+name),options&&options.setter&&(name="set "+name),(!hasOwn(value,"name")||CONFIGURABLE_FUNCTION_NAME&&value.name!==name)&&(DESCRIPTORS?defineProperty(value,"name",{value:name,configurable:!0}):value.name=name),CONFIGURABLE_LENGTH&&options&&hasOwn(options,"arity")&&value.length!==options.arity&&defineProperty(value,"length",{value:options.arity});try{options&&hasOwn(options,"constructor")&&options.constructor?DESCRIPTORS&&defineProperty(value,"prototype",{writable:!1}):value.prototype&&(value.prototype=void 0)}catch{}var state=enforceInternalState(value);return hasOwn(state,"source")||(state.source=join(TEMPLATE,typeof name=="string"?name:"")),value};return Function.prototype.toString=makeBuiltIn$1(function(){return isCallable2(this)&&getInternalState(this).source||inspectSource2(this)},"toString"),makeBuiltIn.exports}var defineBuiltIn,hasRequiredDefineBuiltIn;function requireDefineBuiltIn(){if(hasRequiredDefineBuiltIn)return defineBuiltIn;hasRequiredDefineBuiltIn=1;var isCallable2=requireIsCallable(),definePropertyModule=requireObjectDefineProperty(),makeBuiltIn2=requireMakeBuiltIn(),defineGlobalProperty2=requireDefineGlobalProperty();return defineBuiltIn=function(O2,key,value,options){options||(options={});var simple=options.enumerable,name=options.name!==void 0?options.name:key;if(isCallable2(value)&&makeBuiltIn2(value,name,options),options.global)simple?O2[key]=value:defineGlobalProperty2(key,value);else{try{options.unsafe?O2[key]&&(simple=!0):delete O2[key]}catch{}simple?O2[key]=value:definePropertyModule.f(O2,key,{value,enumerable:!1,configurable:!options.nonConfigurable,writable:!options.nonWritable})}return O2},defineBuiltIn}var objectGetOwnPropertyNames={},mathTrunc,hasRequiredMathTrunc;function requireMathTrunc(){if(hasRequiredMathTrunc)return mathTrunc;hasRequiredMathTrunc=1;var ceil=Math.ceil,floor=Math.floor;return mathTrunc=Math.trunc||function(x){var n2=+x;return(n2>0?floor:ceil)(n2)},mathTrunc}var toIntegerOrInfinity,hasRequiredToIntegerOrInfinity;function requireToIntegerOrInfinity(){if(hasRequiredToIntegerOrInfinity)return toIntegerOrInfinity;hasRequiredToIntegerOrInfinity=1;var trunc=requireMathTrunc();return toIntegerOrInfinity=function(argument){var number=+argument;return number!==number||number===0?0:trunc(number)},toIntegerOrInfinity}var toAbsoluteIndex,hasRequiredToAbsoluteIndex;function requireToAbsoluteIndex(){if(hasRequiredToAbsoluteIndex)return toAbsoluteIndex;hasRequiredToAbsoluteIndex=1;var toIntegerOrInfinity2=requireToIntegerOrInfinity(),max=Math.max,min=Math.min;return toAbsoluteIndex=function(index2,length){var integer=toIntegerOrInfinity2(index2);return integer<0?max(integer+length,0):min(integer,length)},toAbsoluteIndex}var toLength,hasRequiredToLength;function requireToLength(){if(hasRequiredToLength)return toLength;hasRequiredToLength=1;var toIntegerOrInfinity2=requireToIntegerOrInfinity(),min=Math.min;return toLength=function(argument){var len=toIntegerOrInfinity2(argument);return len>0?min(len,9007199254740991):0},toLength}var lengthOfArrayLike,hasRequiredLengthOfArrayLike;function requireLengthOfArrayLike(){if(hasRequiredLengthOfArrayLike)return lengthOfArrayLike;hasRequiredLengthOfArrayLike=1;var toLength2=requireToLength();return lengthOfArrayLike=function(obj){return toLength2(obj.length)},lengthOfArrayLike}var arrayIncludes,hasRequiredArrayIncludes;function requireArrayIncludes(){if(hasRequiredArrayIncludes)return arrayIncludes;hasRequiredArrayIncludes=1;var toIndexedObject2=requireToIndexedObject(),toAbsoluteIndex2=requireToAbsoluteIndex(),lengthOfArrayLike2=requireLengthOfArrayLike(),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var O2=toIndexedObject2($this),length=lengthOfArrayLike2(O2);if(length===0)return!IS_INCLUDES&&-1;var index2=toAbsoluteIndex2(fromIndex,length),value;if(IS_INCLUDES&&el!==el){for(;length>index2;)if(value=O2[index2++],value!==value)return!0}else for(;length>index2;index2++)if((IS_INCLUDES||index2 in O2)&&O2[index2]===el)return IS_INCLUDES||index2||0;return!IS_INCLUDES&&-1}};return arrayIncludes={includes:createMethod(!0),indexOf:createMethod(!1)},arrayIncludes}var objectKeysInternal,hasRequiredObjectKeysInternal;function requireObjectKeysInternal(){if(hasRequiredObjectKeysInternal)return objectKeysInternal;hasRequiredObjectKeysInternal=1;var uncurryThis=requireFunctionUncurryThis(),hasOwn=requireHasOwnProperty(),toIndexedObject2=requireToIndexedObject(),indexOf=requireArrayIncludes().indexOf,hiddenKeys2=requireHiddenKeys(),push=uncurryThis([].push);return objectKeysInternal=function(object,names){var O2=toIndexedObject2(object),i2=0,result=[],key;for(key in O2)!hasOwn(hiddenKeys2,key)&&hasOwn(O2,key)&&push(result,key);for(;names.length>i2;)hasOwn(O2,key=names[i2++])&&(~indexOf(result,key)||push(result,key));return result},objectKeysInternal}var enumBugKeys,hasRequiredEnumBugKeys;function requireEnumBugKeys(){return hasRequiredEnumBugKeys||(hasRequiredEnumBugKeys=1,enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),enumBugKeys}var hasRequiredObjectGetOwnPropertyNames;function requireObjectGetOwnPropertyNames(){if(hasRequiredObjectGetOwnPropertyNames)return objectGetOwnPropertyNames;hasRequiredObjectGetOwnPropertyNames=1;var internalObjectKeys=requireObjectKeysInternal(),enumBugKeys2=requireEnumBugKeys(),hiddenKeys2=enumBugKeys2.concat("length","prototype");return objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(O2){return internalObjectKeys(O2,hiddenKeys2)},objectGetOwnPropertyNames}var objectGetOwnPropertySymbols={},hasRequiredObjectGetOwnPropertySymbols;function requireObjectGetOwnPropertySymbols(){return hasRequiredObjectGetOwnPropertySymbols||(hasRequiredObjectGetOwnPropertySymbols=1,objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols),objectGetOwnPropertySymbols}var ownKeys$3,hasRequiredOwnKeys;function requireOwnKeys(){if(hasRequiredOwnKeys)return ownKeys$3;hasRequiredOwnKeys=1;var getBuiltIn2=requireGetBuiltIn(),uncurryThis=requireFunctionUncurryThis(),getOwnPropertyNamesModule=requireObjectGetOwnPropertyNames(),getOwnPropertySymbolsModule=requireObjectGetOwnPropertySymbols(),anObject2=requireAnObject(),concat=uncurryThis([].concat);return ownKeys$3=getBuiltIn2("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject2(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?concat(keys,getOwnPropertySymbols(it)):keys},ownKeys$3}var copyConstructorProperties,hasRequiredCopyConstructorProperties;function requireCopyConstructorProperties(){if(hasRequiredCopyConstructorProperties)return copyConstructorProperties;hasRequiredCopyConstructorProperties=1;var hasOwn=requireHasOwnProperty(),ownKeys2=requireOwnKeys(),getOwnPropertyDescriptorModule=requireObjectGetOwnPropertyDescriptor(),definePropertyModule=requireObjectDefineProperty();return copyConstructorProperties=function(target,source,exceptions){for(var keys=ownKeys2(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i2=0;i2<keys.length;i2++){var key=keys[i2];!hasOwn(target,key)&&!(exceptions&&hasOwn(exceptions,key))&&defineProperty(target,key,getOwnPropertyDescriptor(source,key))}},copyConstructorProperties}var isForced_1,hasRequiredIsForced;function requireIsForced(){if(hasRequiredIsForced)return isForced_1;hasRequiredIsForced=1;var fails2=requireFails(),isCallable2=requireIsCallable(),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value===POLYFILL?!0:value===NATIVE?!1:isCallable2(detection)?fails2(detection):!!detection},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";return isForced_1=isForced,isForced_1}var _export,hasRequired_export;function require_export(){if(hasRequired_export)return _export;hasRequired_export=1;var globalThis2=requireGlobalThis(),getOwnPropertyDescriptor=requireObjectGetOwnPropertyDescriptor().f,createNonEnumerableProperty2=requireCreateNonEnumerableProperty(),defineBuiltIn2=requireDefineBuiltIn(),defineGlobalProperty2=requireDefineGlobalProperty(),copyConstructorProperties2=requireCopyConstructorProperties(),isForced=requireIsForced();return _export=function(options,source){var TARGET=options.target,GLOBAL=options.global,STATIC=options.stat,FORCED,target,key,targetProperty,sourceProperty,descriptor;if(GLOBAL?target=globalThis2:STATIC?target=globalThis2[TARGET]||defineGlobalProperty2(TARGET,{}):target=globalThis2[TARGET]&&globalThis2[TARGET].prototype,target)for(key in source){if(sourceProperty=source[key],options.dontCallGetSet?(descriptor=getOwnPropertyDescriptor(target,key),targetProperty=descriptor&&descriptor.value):targetProperty=target[key],FORCED=isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced),!FORCED&&targetProperty!==void 0){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties2(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty2(sourceProperty,"sham",!0),defineBuiltIn2(target,key,sourceProperty,options)}},_export}var environment,hasRequiredEnvironment;function requireEnvironment(){if(hasRequiredEnvironment)return environment;hasRequiredEnvironment=1;var globalThis2=requireGlobalThis(),userAgent=requireEnvironmentUserAgent(),classof2=requireClassofRaw(),userAgentStartsWith=function(string){return userAgent.slice(0,string.length)===string};return environment=(function(){return userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis2.Bun&&typeof Bun.version=="string"?"BUN":globalThis2.Deno&&typeof Deno.version=="object"?"DENO":classof2(globalThis2.process)==="process"?"NODE":globalThis2.window&&globalThis2.document?"BROWSER":"REST"})(),environment}var environmentIsNode,hasRequiredEnvironmentIsNode;function requireEnvironmentIsNode(){if(hasRequiredEnvironmentIsNode)return environmentIsNode;hasRequiredEnvironmentIsNode=1;var ENVIRONMENT=requireEnvironment();return environmentIsNode=ENVIRONMENT==="NODE",environmentIsNode}var path,hasRequiredPath;function requirePath(){if(hasRequiredPath)return path;hasRequiredPath=1;var globalThis2=requireGlobalThis();return path=globalThis2,path}var functionUncurryThisAccessor,hasRequiredFunctionUncurryThisAccessor;function requireFunctionUncurryThisAccessor(){if(hasRequiredFunctionUncurryThisAccessor)return functionUncurryThisAccessor;hasRequiredFunctionUncurryThisAccessor=1;var uncurryThis=requireFunctionUncurryThis(),aCallable2=requireACallable();return functionUncurryThisAccessor=function(object,key,method){try{return uncurryThis(aCallable2(Object.getOwnPropertyDescriptor(object,key)[method]))}catch{}},functionUncurryThisAccessor}var isPossiblePrototype,hasRequiredIsPossiblePrototype;function requireIsPossiblePrototype(){if(hasRequiredIsPossiblePrototype)return isPossiblePrototype;hasRequiredIsPossiblePrototype=1;var isObject2=requireIsObject();return isPossiblePrototype=function(argument){return isObject2(argument)||argument===null},isPossiblePrototype}var aPossiblePrototype,hasRequiredAPossiblePrototype;function requireAPossiblePrototype(){if(hasRequiredAPossiblePrototype)return aPossiblePrototype;hasRequiredAPossiblePrototype=1;var isPossiblePrototype2=requireIsPossiblePrototype(),$String=String,$TypeError=TypeError;return aPossiblePrototype=function(argument){if(isPossiblePrototype2(argument))return argument;throw new $TypeError("Can't set "+$String(argument)+" as a prototype")},aPossiblePrototype}var objectSetPrototypeOf,hasRequiredObjectSetPrototypeOf;function requireObjectSetPrototypeOf(){if(hasRequiredObjectSetPrototypeOf)return objectSetPrototypeOf;hasRequiredObjectSetPrototypeOf=1;var uncurryThisAccessor=requireFunctionUncurryThisAccessor(),isObject2=requireIsObject(),requireObjectCoercible2=requireRequireObjectCoercible(),aPossiblePrototype2=requireAPossiblePrototype();return objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?(function(){var CORRECT_SETTER=!1,test={},setter;try{setter=uncurryThisAccessor(Object.prototype,"__proto__","set"),setter(test,[]),CORRECT_SETTER=test instanceof Array}catch{}return function(O2,proto){return requireObjectCoercible2(O2),aPossiblePrototype2(proto),isObject2(O2)&&(CORRECT_SETTER?setter(O2,proto):O2.__proto__=proto),O2}})():void 0),objectSetPrototypeOf}var setToStringTag,hasRequiredSetToStringTag;function requireSetToStringTag(){if(hasRequiredSetToStringTag)return setToStringTag;hasRequiredSetToStringTag=1;var defineProperty=requireObjectDefineProperty().f,hasOwn=requireHasOwnProperty(),wellKnownSymbol2=requireWellKnownSymbol(),TO_STRING_TAG=wellKnownSymbol2("toStringTag");return setToStringTag=function(target,TAG,STATIC){target&&!STATIC&&(target=target.prototype),target&&!hasOwn(target,TO_STRING_TAG)&&defineProperty(target,TO_STRING_TAG,{configurable:!0,value:TAG})},setToStringTag}var defineBuiltInAccessor,hasRequiredDefineBuiltInAccessor;function requireDefineBuiltInAccessor(){if(hasRequiredDefineBuiltInAccessor)return defineBuiltInAccessor;hasRequiredDefineBuiltInAccessor=1;var makeBuiltIn2=requireMakeBuiltIn(),defineProperty=requireObjectDefineProperty();return defineBuiltInAccessor=function(target,name,descriptor){return descriptor.get&&makeBuiltIn2(descriptor.get,name,{getter:!0}),descriptor.set&&makeBuiltIn2(descriptor.set,name,{setter:!0}),defineProperty.f(target,name,descriptor)},defineBuiltInAccessor}var setSpecies,hasRequiredSetSpecies;function requireSetSpecies(){if(hasRequiredSetSpecies)return setSpecies;hasRequiredSetSpecies=1;var getBuiltIn2=requireGetBuiltIn(),defineBuiltInAccessor2=requireDefineBuiltInAccessor(),wellKnownSymbol2=requireWellKnownSymbol(),DESCRIPTORS=requireDescriptors(),SPECIES=wellKnownSymbol2("species");return setSpecies=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn2(CONSTRUCTOR_NAME);DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineBuiltInAccessor2(Constructor,SPECIES,{configurable:!0,get:function(){return this}})},setSpecies}var anInstance,hasRequiredAnInstance;function requireAnInstance(){if(hasRequiredAnInstance)return anInstance;hasRequiredAnInstance=1;var isPrototypeOf=requireObjectIsPrototypeOf(),$TypeError=TypeError;return anInstance=function(it,Prototype){if(isPrototypeOf(Prototype,it))return it;throw new $TypeError("Incorrect invocation")},anInstance}var toStringTagSupport,hasRequiredToStringTagSupport;function requireToStringTagSupport(){if(hasRequiredToStringTagSupport)return toStringTagSupport;hasRequiredToStringTagSupport=1;var wellKnownSymbol2=requireWellKnownSymbol(),TO_STRING_TAG=wellKnownSymbol2("toStringTag"),test={};return test[TO_STRING_TAG]="z",toStringTagSupport=String(test)==="[object z]",toStringTagSupport}var classof,hasRequiredClassof;function requireClassof(){if(hasRequiredClassof)return classof;hasRequiredClassof=1;var TO_STRING_TAG_SUPPORT=requireToStringTagSupport(),isCallable2=requireIsCallable(),classofRaw2=requireClassofRaw(),wellKnownSymbol2=requireWellKnownSymbol(),TO_STRING_TAG=wellKnownSymbol2("toStringTag"),$Object=Object,CORRECT_ARGUMENTS=classofRaw2((function(){return arguments})())==="Arguments",tryGet=function(it,key){try{return it[key]}catch{}};return classof=TO_STRING_TAG_SUPPORT?classofRaw2:function(it){var O2,tag,result;return it===void 0?"Undefined":it===null?"Null":typeof(tag=tryGet(O2=$Object(it),TO_STRING_TAG))=="string"?tag:CORRECT_ARGUMENTS?classofRaw2(O2):(result=classofRaw2(O2))==="Object"&&isCallable2(O2.callee)?"Arguments":result},classof}var isConstructor,hasRequiredIsConstructor;function requireIsConstructor(){if(hasRequiredIsConstructor)return isConstructor;hasRequiredIsConstructor=1;var uncurryThis=requireFunctionUncurryThis(),fails2=requireFails(),isCallable2=requireIsCallable(),classof2=requireClassof(),getBuiltIn2=requireGetBuiltIn(),inspectSource2=requireInspectSource(),noop2=function(){},construct=getBuiltIn2("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop2),isConstructorModern=function(argument){if(!isCallable2(argument))return!1;try{return construct(noop2,[],argument),!0}catch{return!1}},isConstructorLegacy=function(argument){if(!isCallable2(argument))return!1;switch(classof2(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource2(argument))}catch{return!0}};return isConstructorLegacy.sham=!0,isConstructor=!construct||fails2(function(){var called;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){called=!0})||called})?isConstructorLegacy:isConstructorModern,isConstructor}var aConstructor,hasRequiredAConstructor;function requireAConstructor(){if(hasRequiredAConstructor)return aConstructor;hasRequiredAConstructor=1;var isConstructor2=requireIsConstructor(),tryToString2=requireTryToString(),$TypeError=TypeError;return aConstructor=function(argument){if(isConstructor2(argument))return argument;throw new $TypeError(tryToString2(argument)+" is not a constructor")},aConstructor}var speciesConstructor,hasRequiredSpeciesConstructor;function requireSpeciesConstructor(){if(hasRequiredSpeciesConstructor)return speciesConstructor;hasRequiredSpeciesConstructor=1;var anObject2=requireAnObject(),aConstructor2=requireAConstructor(),isNullOrUndefined2=requireIsNullOrUndefined(),wellKnownSymbol2=requireWellKnownSymbol(),SPECIES=wellKnownSymbol2("species");return speciesConstructor=function(O2,defaultConstructor){var C=anObject2(O2).constructor,S;return C===void 0||isNullOrUndefined2(S=anObject2(C)[SPECIES])?defaultConstructor:aConstructor2(S)},speciesConstructor}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){if(hasRequiredFunctionApply)return functionApply;hasRequiredFunctionApply=1;var NATIVE_BIND=requireFunctionBindNative(),FunctionPrototype=Function.prototype,apply=FunctionPrototype.apply,call=FunctionPrototype.call;return functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND?call.bind(apply):function(){return call.apply(apply,arguments)}),functionApply}var functionUncurryThisClause,hasRequiredFunctionUncurryThisClause;function requireFunctionUncurryThisClause(){if(hasRequiredFunctionUncurryThisClause)return functionUncurryThisClause;hasRequiredFunctionUncurryThisClause=1;var classofRaw2=requireClassofRaw(),uncurryThis=requireFunctionUncurryThis();return functionUncurryThisClause=function(fn){if(classofRaw2(fn)==="Function")return uncurryThis(fn)},functionUncurryThisClause}var functionBindContext,hasRequiredFunctionBindContext;function requireFunctionBindContext(){if(hasRequiredFunctionBindContext)return functionBindContext;hasRequiredFunctionBindContext=1;var uncurryThis=requireFunctionUncurryThisClause(),aCallable2=requireACallable(),NATIVE_BIND=requireFunctionBindNative(),bind=uncurryThis(uncurryThis.bind);return functionBindContext=function(fn,that){return aCallable2(fn),that===void 0?fn:NATIVE_BIND?bind(fn,that):function(){return fn.apply(that,arguments)}},functionBindContext}var html,hasRequiredHtml;function requireHtml(){if(hasRequiredHtml)return html;hasRequiredHtml=1;var getBuiltIn2=requireGetBuiltIn();return html=getBuiltIn2("document","documentElement"),html}var arraySlice,hasRequiredArraySlice;function requireArraySlice(){if(hasRequiredArraySlice)return arraySlice;hasRequiredArraySlice=1;var uncurryThis=requireFunctionUncurryThis();return arraySlice=uncurryThis([].slice),arraySlice}var validateArgumentsLength,hasRequiredValidateArgumentsLength;function requireValidateArgumentsLength(){if(hasRequiredValidateArgumentsLength)return validateArgumentsLength;hasRequiredValidateArgumentsLength=1;var $TypeError=TypeError;return validateArgumentsLength=function(passed,required){if(passed<required)throw new $TypeError("Not enough arguments");return passed},validateArgumentsLength}var environmentIsIos,hasRequiredEnvironmentIsIos;function requireEnvironmentIsIos(){if(hasRequiredEnvironmentIsIos)return environmentIsIos;hasRequiredEnvironmentIsIos=1;var userAgent=requireEnvironmentUserAgent();return environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent),environmentIsIos}var task,hasRequiredTask;function requireTask(){if(hasRequiredTask)return task;hasRequiredTask=1;var globalThis2=requireGlobalThis(),apply=requireFunctionApply(),bind=requireFunctionBindContext(),isCallable2=requireIsCallable(),hasOwn=requireHasOwnProperty(),fails2=requireFails(),html2=requireHtml(),arraySlice2=requireArraySlice(),createElement=requireDocumentCreateElement(),validateArgumentsLength2=requireValidateArgumentsLength(),IS_IOS=requireEnvironmentIsIos(),IS_NODE=requireEnvironmentIsNode(),set=globalThis2.setImmediate,clear=globalThis2.clearImmediate,process2=globalThis2.process,Dispatch=globalThis2.Dispatch,Function2=globalThis2.Function,MessageChannel=globalThis2.MessageChannel,String2=globalThis2.String,counter=0,queue2={},ONREADYSTATECHANGE="onreadystatechange",$location,defer,channel,port;fails2(function(){$location=globalThis2.location});var run=function(id){if(hasOwn(queue2,id)){var fn=queue2[id];delete queue2[id],fn()}},runner=function(id){return function(){run(id)}},eventListener=function(event){run(event.data)},globalPostMessageDefer=function(id){globalThis2.postMessage(String2(id),$location.protocol+"//"+$location.host)};return(!set||!clear)&&(set=function(handler){validateArgumentsLength2(arguments.length,1);var fn=isCallable2(handler)?handler:Function2(handler),args=arraySlice2(arguments,1);return queue2[++counter]=function(){apply(fn,void 0,args)},defer(counter),counter},clear=function(id){delete queue2[id]},IS_NODE?defer=function(id){process2.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis2.addEventListener&&isCallable2(globalThis2.postMessage)&&!globalThis2.importScripts&&$location&&$location.protocol!=="file:"&&!fails2(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis2.addEventListener("message",eventListener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(id){html2.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html2.removeChild(this),run(id)}}:defer=function(id){setTimeout(runner(id),0)}),task={set,clear},task}var safeGetBuiltIn,hasRequiredSafeGetBuiltIn;function requireSafeGetBuiltIn(){if(hasRequiredSafeGetBuiltIn)return safeGetBuiltIn;hasRequiredSafeGetBuiltIn=1;var globalThis2=requireGlobalThis(),DESCRIPTORS=requireDescriptors(),getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;return safeGetBuiltIn=function(name){if(!DESCRIPTORS)return globalThis2[name];var descriptor=getOwnPropertyDescriptor(globalThis2,name);return descriptor&&descriptor.value},safeGetBuiltIn}var queue,hasRequiredQueue;function requireQueue(){if(hasRequiredQueue)return queue;hasRequiredQueue=1;var Queue=function(){this.head=null,this.tail=null};return Queue.prototype={add:function(item){var entry={item,next:null},tail=this.tail;tail?tail.next=entry:this.head=entry,this.tail=entry},get:function(){var entry=this.head;if(entry){var next=this.head=entry.next;return next===null&&(this.tail=null),entry.item}}},queue=Queue,queue}var environmentIsIosPebble,hasRequiredEnvironmentIsIosPebble;function requireEnvironmentIsIosPebble(){if(hasRequiredEnvironmentIsIosPebble)return environmentIsIosPebble;hasRequiredEnvironmentIsIosPebble=1;var userAgent=requireEnvironmentUserAgent();return environmentIsIosPebble=/ipad|iphone|ipod/i.test(userAgent)&&typeof Pebble<"u",environmentIsIosPebble}var environmentIsWebosWebkit,hasRequiredEnvironmentIsWebosWebkit;function requireEnvironmentIsWebosWebkit(){if(hasRequiredEnvironmentIsWebosWebkit)return environmentIsWebosWebkit;hasRequiredEnvironmentIsWebosWebkit=1;var userAgent=requireEnvironmentUserAgent();return environmentIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent),environmentIsWebosWebkit}var microtask_1,hasRequiredMicrotask;function requireMicrotask(){if(hasRequiredMicrotask)return microtask_1;hasRequiredMicrotask=1;var globalThis2=requireGlobalThis(),safeGetBuiltIn2=requireSafeGetBuiltIn(),bind=requireFunctionBindContext(),macrotask=requireTask().set,Queue=requireQueue(),IS_IOS=requireEnvironmentIsIos(),IS_IOS_PEBBLE=requireEnvironmentIsIosPebble(),IS_WEBOS_WEBKIT=requireEnvironmentIsWebosWebkit(),IS_NODE=requireEnvironmentIsNode(),MutationObserver=globalThis2.MutationObserver||globalThis2.WebKitMutationObserver,document2=globalThis2.document,process2=globalThis2.process,Promise2=globalThis2.Promise,microtask=safeGetBuiltIn2("queueMicrotask"),notify,toggle,node2,promise,then;if(!microtask){var queue2=new Queue,flush=function(){var parent,fn;for(IS_NODE&&(parent=process2.domain)&&parent.exit();fn=queue2.get();)try{fn()}catch(error){throw queue2.head&&notify(),error}parent&&parent.enter()};!IS_IOS&&!IS_NODE&&!IS_WEBOS_WEBKIT&&MutationObserver&&document2?(toggle=!0,node2=document2.createTextNode(""),new MutationObserver(flush).observe(node2,{characterData:!0}),notify=function(){node2.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise2&&Promise2.resolve?(promise=Promise2.resolve(void 0),promise.constructor=Promise2,then=bind(promise.then,promise),notify=function(){then(flush)}):IS_NODE?notify=function(){process2.nextTick(flush)}:(macrotask=bind(macrotask,globalThis2),notify=function(){macrotask(flush)}),microtask=function(fn){queue2.head||notify(),queue2.add(fn)}}return microtask_1=microtask,microtask_1}var hostReportErrors,hasRequiredHostReportErrors;function requireHostReportErrors(){return hasRequiredHostReportErrors||(hasRequiredHostReportErrors=1,hostReportErrors=function(a2,b){try{arguments.length===1?console.error(a2):console.error(a2,b)}catch{}}),hostReportErrors}var perform,hasRequiredPerform;function requirePerform(){return hasRequiredPerform||(hasRequiredPerform=1,perform=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}),perform}var promiseNativeConstructor,hasRequiredPromiseNativeConstructor;function requirePromiseNativeConstructor(){if(hasRequiredPromiseNativeConstructor)return promiseNativeConstructor;hasRequiredPromiseNativeConstructor=1;var globalThis2=requireGlobalThis();return promiseNativeConstructor=globalThis2.Promise,promiseNativeConstructor}var promiseConstructorDetection,hasRequiredPromiseConstructorDetection;function requirePromiseConstructorDetection(){if(hasRequiredPromiseConstructorDetection)return promiseConstructorDetection;hasRequiredPromiseConstructorDetection=1;var globalThis2=requireGlobalThis(),NativePromiseConstructor=requirePromiseNativeConstructor(),isCallable2=requireIsCallable(),isForced=requireIsForced(),inspectSource2=requireInspectSource(),wellKnownSymbol2=requireWellKnownSymbol(),ENVIRONMENT=requireEnvironment(),IS_PURE=requireIsPure(),V8_VERSION=requireEnvironmentV8Version(),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,SPECIES=wellKnownSymbol2("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT=isCallable2(globalThis2.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR=isForced("Promise",function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource2(NativePromiseConstructor),GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(NativePromiseConstructor);if(!GLOBAL_CORE_JS_PROMISE&&V8_VERSION===66||IS_PURE&&!(NativePromisePrototype.catch&&NativePromisePrototype.finally))return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)){var promise=new NativePromiseConstructor(function(resolve){resolve(1)}),FakePromise=function(exec){exec(function(){},function(){})},constructor=promise.constructor={};if(constructor[SPECIES]=FakePromise,SUBCLASSING=promise.then(function(){})instanceof FakePromise,!SUBCLASSING)return!0}return!GLOBAL_CORE_JS_PROMISE&&(ENVIRONMENT==="BROWSER"||ENVIRONMENT==="DENO")&&!NATIVE_PROMISE_REJECTION_EVENT});return promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT,SUBCLASSING},promiseConstructorDetection}var newPromiseCapability={},hasRequiredNewPromiseCapability;function requireNewPromiseCapability(){if(hasRequiredNewPromiseCapability)return newPromiseCapability;hasRequiredNewPromiseCapability=1;var aCallable2=requireACallable(),$TypeError=TypeError,PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==void 0||reject!==void 0)throw new $TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aCallable2(resolve),this.reject=aCallable2(reject)};return newPromiseCapability.f=function(C){return new PromiseCapability(C)},newPromiseCapability}var hasRequiredEs_promise_constructor;function requireEs_promise_constructor(){if(hasRequiredEs_promise_constructor)return es_promise_constructor;hasRequiredEs_promise_constructor=1;var $=require_export(),IS_PURE=requireIsPure(),IS_NODE=requireEnvironmentIsNode(),globalThis2=requireGlobalThis(),path2=requirePath(),call=requireFunctionCall(),defineBuiltIn2=requireDefineBuiltIn(),setPrototypeOf=requireObjectSetPrototypeOf(),setToStringTag2=requireSetToStringTag(),setSpecies2=requireSetSpecies(),aCallable2=requireACallable(),isCallable2=requireIsCallable(),isObject2=requireIsObject(),anInstance2=requireAnInstance(),speciesConstructor2=requireSpeciesConstructor(),task2=requireTask().set,microtask=requireMicrotask(),hostReportErrors2=requireHostReportErrors(),perform2=requirePerform(),Queue=requireQueue(),InternalStateModule=requireInternalState(),NativePromiseConstructor=requirePromiseNativeConstructor(),PromiseConstructorDetection=requirePromiseConstructorDetection(),newPromiseCapabilityModule=requireNewPromiseCapability(),PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),setInternalState=InternalStateModule.set,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,PromiseConstructor=NativePromiseConstructor,PromisePrototype=NativePromisePrototype,TypeError2=globalThis2.TypeError,document2=globalThis2.document,process2=globalThis2.process,newPromiseCapability2=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability2,DISPATCH_EVENT=!!(document2&&document2.createEvent&&globalThis2.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(it){var then;return isObject2(it)&&isCallable2(then=it.then)?then:!1},callReaction=function(reaction,state){var value=state.value,ok=state.state===FULFILLED,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain,result,then,exited;try{handler?(ok||(state.rejection===UNHANDLED&&onHandleUnhandled(state),state.rejection=HANDLED),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(new TypeError2("Promise-chain cycle")):(then=isThenable(result))?call(then,result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}},notify=function(state,isReject){state.notified||(state.notified=!0,microtask(function(){for(var reactions=state.reactions,reaction;reaction=reactions.get();)callReaction(reaction,state);state.notified=!1,isReject&&!state.rejection&&onUnhandled(state)}))},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?(event=document2.createEvent("Event"),event.promise=promise,event.reason=reason,event.initEvent(name,!1,!0),globalThis2.dispatchEvent(event)):event={promise,reason},!NATIVE_PROMISE_REJECTION_EVENT&&(handler=globalThis2["on"+name])?handler(event):name===UNHANDLED_REJECTION&&hostReportErrors2("Unhandled promise rejection",reason)},onUnhandled=function(state){call(task2,globalThis2,function(){var promise=state.facade,value=state.value,IS_UNHANDLED=isUnhandled(state),result;if(IS_UNHANDLED&&(result=perform2(function(){IS_NODE?process2.emit("unhandledRejection",value,promise):dispatchEvent(UNHANDLED_REJECTION,promise,value)}),state.rejection=IS_NODE||isUnhandled(state)?UNHANDLED:HANDLED,result.error))throw result.value})},isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent},onHandleUnhandled=function(state){call(task2,globalThis2,function(){var promise=state.facade;IS_NODE?process2.emit("rejectionHandled",promise):dispatchEvent(REJECTION_HANDLED,promise,state.value)})},bind=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}},internalReject=function(state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=REJECTED,notify(state,!0))},internalResolve=function(state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(state.facade===value)throw new TypeError2("Promise can't be resolved itself");var then=isThenable(value);then?microtask(function(){var wrapper={done:!1};try{call(then,value,bind(internalResolve,wrapper,state),bind(internalReject,wrapper,state))}catch(error){internalReject(wrapper,error,state)}}):(state.value=value,state.state=FULFILLED,notify(state,!1))}catch(error){internalReject({done:!1},error,state)}}};if(FORCED_PROMISE_CONSTRUCTOR&&(PromiseConstructor=function(executor){anInstance2(this,PromisePrototype),aCallable2(executor),call(Internal,this);var state=getInternalPromiseState(this);try{executor(bind(internalResolve,state),bind(internalReject,state))}catch(error){internalReject(state,error)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:null})},Internal.prototype=defineBuiltIn2(PromisePrototype,"then",function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability2(speciesConstructor2(this,PromiseConstructor));return state.parent=!0,reaction.ok=isCallable2(onFulfilled)?onFulfilled:!0,reaction.fail=isCallable2(onRejected)&&onRejected,reaction.domain=IS_NODE?process2.domain:void 0,state.state===PENDING?state.reactions.add(reaction):microtask(function(){callReaction(reaction,state)}),reaction.promise}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalPromiseState(promise);this.promise=promise,this.resolve=bind(internalResolve,state),this.reject=bind(internalReject,state)},newPromiseCapabilityModule.f=newPromiseCapability2=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},!IS_PURE&&isCallable2(NativePromiseConstructor)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn2(NativePromisePrototype,"then",function(onFulfilled,onRejected){var that=this;return new PromiseConstructor(function(resolve,reject){call(nativeThen,that,resolve,reject)}).then(onFulfilled,onRejected)},{unsafe:!0});try{delete NativePromisePrototype.constructor}catch{}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromisePrototype)}return $({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{Promise:PromiseConstructor}),PromiseWrapper=path2.Promise,setToStringTag2(PromiseConstructor,PROMISE,!1,!0),setSpecies2(PROMISE),es_promise_constructor}var es_promise_all={},iterators,hasRequiredIterators;function requireIterators(){return hasRequiredIterators||(hasRequiredIterators=1,iterators={}),iterators}var isArrayIteratorMethod,hasRequiredIsArrayIteratorMethod;function requireIsArrayIteratorMethod(){if(hasRequiredIsArrayIteratorMethod)return isArrayIteratorMethod;hasRequiredIsArrayIteratorMethod=1;var wellKnownSymbol2=requireWellKnownSymbol(),Iterators=requireIterators(),ITERATOR=wellKnownSymbol2("iterator"),ArrayPrototype=Array.prototype;return isArrayIteratorMethod=function(it){return it!==void 0&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)},isArrayIteratorMethod}var getIteratorMethod,hasRequiredGetIteratorMethod;function requireGetIteratorMethod(){if(hasRequiredGetIteratorMethod)return getIteratorMethod;hasRequiredGetIteratorMethod=1;var classof2=requireClassof(),getMethod2=requireGetMethod(),isNullOrUndefined2=requireIsNullOrUndefined(),Iterators=requireIterators(),wellKnownSymbol2=requireWellKnownSymbol(),ITERATOR=wellKnownSymbol2("iterator");return getIteratorMethod=function(it){if(!isNullOrUndefined2(it))return getMethod2(it,ITERATOR)||getMethod2(it,"@@iterator")||Iterators[classof2(it)]},getIteratorMethod}var getIterator,hasRequiredGetIterator;function requireGetIterator(){if(hasRequiredGetIterator)return getIterator;hasRequiredGetIterator=1;var call=requireFunctionCall(),aCallable2=requireACallable(),anObject2=requireAnObject(),tryToString2=requireTryToString(),getIteratorMethod2=requireGetIteratorMethod(),$TypeError=TypeError;return getIterator=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod2(argument):usingIterator;if(aCallable2(iteratorMethod))return anObject2(call(iteratorMethod,argument));throw new $TypeError(tryToString2(argument)+" is not iterable")},getIterator}var iteratorClose,hasRequiredIteratorClose;function requireIteratorClose(){if(hasRequiredIteratorClose)return iteratorClose;hasRequiredIteratorClose=1;var call=requireFunctionCall(),anObject2=requireAnObject(),getMethod2=requireGetMethod();return iteratorClose=function(iterator,kind,value){var innerResult,innerError;anObject2(iterator);try{if(innerResult=getMethod2(iterator,"return"),!innerResult){if(kind==="throw")throw value;return value}innerResult=call(innerResult,iterator)}catch(error){innerError=!0,innerResult=error}if(kind==="throw")throw value;if(innerError)throw innerResult;return anObject2(innerResult),value},iteratorClose}var iterate,hasRequiredIterate;function requireIterate(){if(hasRequiredIterate)return iterate;hasRequiredIterate=1;var bind=requireFunctionBindContext(),call=requireFunctionCall(),anObject2=requireAnObject(),tryToString2=requireTryToString(),isArrayIteratorMethod2=requireIsArrayIteratorMethod(),lengthOfArrayLike2=requireLengthOfArrayLike(),isPrototypeOf=requireObjectIsPrototypeOf(),getIterator2=requireGetIterator(),getIteratorMethod2=requireGetIteratorMethod(),iteratorClose2=requireIteratorClose(),$TypeError=TypeError,Result=function(stopped,result){this.stopped=stopped,this.result=result},ResultPrototype=Result.prototype;return iterate=function(iterable,unboundFunction,options){var that=options&&options.that,AS_ENTRIES=!!(options&&options.AS_ENTRIES),IS_RECORD=!!(options&&options.IS_RECORD),IS_ITERATOR=!!(options&&options.IS_ITERATOR),INTERRUPTED=!!(options&&options.INTERRUPTED),fn=bind(unboundFunction,that),iterator,iterFn,index2,length,result,next,step,stop=function(condition){return iterator&&iteratorClose2(iterator,"normal"),new Result(!0,condition)},callFn=function(value){return AS_ENTRIES?(anObject2(value),INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])):INTERRUPTED?fn(value,stop):fn(value)};if(IS_RECORD)iterator=iterable.iterator;else if(IS_ITERATOR)iterator=iterable;else{if(iterFn=getIteratorMethod2(iterable),!iterFn)throw new $TypeError(tryToString2(iterable)+" is not iterable");if(isArrayIteratorMethod2(iterFn)){for(index2=0,length=lengthOfArrayLike2(iterable);length>index2;index2++)if(result=callFn(iterable[index2]),result&&isPrototypeOf(ResultPrototype,result))return result;return new Result(!1)}iterator=getIterator2(iterable,iterFn)}for(next=IS_RECORD?iterable.next:iterator.next;!(step=call(next,iterator)).done;){try{result=callFn(step.value)}catch(error){iteratorClose2(iterator,"throw",error)}if(typeof result=="object"&&result&&isPrototypeOf(ResultPrototype,result))return result}return new Result(!1)},iterate}var checkCorrectnessOfIteration,hasRequiredCheckCorrectnessOfIteration;function requireCheckCorrectnessOfIteration(){if(hasRequiredCheckCorrectnessOfIteration)return checkCorrectnessOfIteration;hasRequiredCheckCorrectnessOfIteration=1;var wellKnownSymbol2=requireWellKnownSymbol(),ITERATOR=wellKnownSymbol2("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch{}return checkCorrectnessOfIteration=function(exec,SKIP_CLOSING){try{if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1}catch{return!1}var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch{}return ITERATION_SUPPORT},checkCorrectnessOfIteration}var promiseStaticsIncorrectIteration,hasRequiredPromiseStaticsIncorrectIteration;function requirePromiseStaticsIncorrectIteration(){if(hasRequiredPromiseStaticsIncorrectIteration)return promiseStaticsIncorrectIteration;hasRequiredPromiseStaticsIncorrectIteration=1;var NativePromiseConstructor=requirePromiseNativeConstructor(),checkCorrectnessOfIteration2=requireCheckCorrectnessOfIteration(),FORCED_PROMISE_CONSTRUCTOR=requirePromiseConstructorDetection().CONSTRUCTOR;return promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR||!checkCorrectnessOfIteration2(function(iterable){NativePromiseConstructor.all(iterable).then(void 0,function(){})}),promiseStaticsIncorrectIteration}var hasRequiredEs_promise_all;function requireEs_promise_all(){if(hasRequiredEs_promise_all)return es_promise_all;hasRequiredEs_promise_all=1;var $=require_export(),call=requireFunctionCall(),aCallable2=requireACallable(),newPromiseCapabilityModule=requireNewPromiseCapability(),perform2=requirePerform(),iterate2=requireIterate(),PROMISE_STATICS_INCORRECT_ITERATION=requirePromiseStaticsIncorrectIteration();return $({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{all:function(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform2(function(){var $promiseResolve=aCallable2(C.resolve),values=[],counter=0,remaining=1;iterate2(iterable,function(promise){var index2=counter++,alreadyCalled=!1;remaining++,call($promiseResolve,C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index2]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise}}),es_promise_all}var es_promise_catch={},hasRequiredEs_promise_catch;function requireEs_promise_catch(){if(hasRequiredEs_promise_catch)return es_promise_catch;hasRequiredEs_promise_catch=1;var $=require_export(),IS_PURE=requireIsPure(),FORCED_PROMISE_CONSTRUCTOR=requirePromiseConstructorDetection().CONSTRUCTOR,NativePromiseConstructor=requirePromiseNativeConstructor(),getBuiltIn2=requireGetBuiltIn(),isCallable2=requireIsCallable(),defineBuiltIn2=requireDefineBuiltIn(),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR,real:!0},{catch:function(onRejected){return this.then(void 0,onRejected)}}),!IS_PURE&&isCallable2(NativePromiseConstructor)){var method=getBuiltIn2("Promise").prototype.catch;NativePromisePrototype.catch!==method&&defineBuiltIn2(NativePromisePrototype,"catch",method,{unsafe:!0})}return es_promise_catch}var es_promise_race={},hasRequiredEs_promise_race;function requireEs_promise_race(){if(hasRequiredEs_promise_race)return es_promise_race;hasRequiredEs_promise_race=1;var $=require_export(),call=requireFunctionCall(),aCallable2=requireACallable(),newPromiseCapabilityModule=requireNewPromiseCapability(),perform2=requirePerform(),iterate2=requireIterate(),PROMISE_STATICS_INCORRECT_ITERATION=requirePromiseStaticsIncorrectIteration();return $({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{race:function(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),reject=capability.reject,result=perform2(function(){var $promiseResolve=aCallable2(C.resolve);iterate2(iterable,function(promise){call($promiseResolve,C,promise).then(capability.resolve,reject)})});return result.error&&reject(result.value),capability.promise}}),es_promise_race}var es_promise_reject={},hasRequiredEs_promise_reject;function requireEs_promise_reject(){if(hasRequiredEs_promise_reject)return es_promise_reject;hasRequiredEs_promise_reject=1;var $=require_export(),newPromiseCapabilityModule=requireNewPromiseCapability(),FORCED_PROMISE_CONSTRUCTOR=requirePromiseConstructorDetection().CONSTRUCTOR;return $({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{reject:function(r2){var capability=newPromiseCapabilityModule.f(this),capabilityReject=capability.reject;return capabilityReject(r2),capability.promise}}),es_promise_reject}var es_promise_resolve={},promiseResolve,hasRequiredPromiseResolve;function requirePromiseResolve(){if(hasRequiredPromiseResolve)return promiseResolve;hasRequiredPromiseResolve=1;var anObject2=requireAnObject(),isObject2=requireIsObject(),newPromiseCapability2=requireNewPromiseCapability();return promiseResolve=function(C,x){if(anObject2(C),isObject2(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability2.f(C),resolve=promiseCapability.resolve;return resolve(x),promiseCapability.promise},promiseResolve}var hasRequiredEs_promise_resolve;function requireEs_promise_resolve(){if(hasRequiredEs_promise_resolve)return es_promise_resolve;hasRequiredEs_promise_resolve=1;var $=require_export(),getBuiltIn2=requireGetBuiltIn(),IS_PURE=requireIsPure(),NativePromiseConstructor=requirePromiseNativeConstructor(),FORCED_PROMISE_CONSTRUCTOR=requirePromiseConstructorDetection().CONSTRUCTOR,promiseResolve2=requirePromiseResolve(),PromiseConstructorWrapper=getBuiltIn2("Promise"),CHECK_WRAPPER=IS_PURE&&!FORCED_PROMISE_CONSTRUCTOR;return $({target:"Promise",stat:!0,forced:IS_PURE||FORCED_PROMISE_CONSTRUCTOR},{resolve:function(x){return promiseResolve2(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor:this,x)}}),es_promise_resolve}var hasRequiredEs_promise;function requireEs_promise(){return hasRequiredEs_promise||(hasRequiredEs_promise=1,requireEs_promise_constructor(),requireEs_promise_all(),requireEs_promise_catch(),requireEs_promise_race(),requireEs_promise_reject(),requireEs_promise_resolve()),es_promise}requireEs_promise();function asyncGeneratorStep(n2,t2,e2,r2,o2,a2,c2){try{var i2=n2[a2](c2),u2=i2.value}catch(n3){return void e2(n3)}i2.done?t2(u2):Promise.resolve(u2).then(r2,o2)}function _asyncToGenerator(n2){return function(){var t2=this,e2=arguments;return new Promise(function(r2,o2){var a2=n2.apply(t2,e2);function _next(n3){asyncGeneratorStep(a2,r2,o2,_next,_throw,"next",n3)}function _throw(n3){asyncGeneratorStep(a2,r2,o2,_next,_throw,"throw",n3)}_next(void 0)})}}var es_string_match={},es_regexp_exec={},toString,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString;hasRequiredToString=1;var classof2=requireClassof(),$String=String;return toString=function(argument){if(classof2(argument)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String(argument)},toString}var regexpFlags,hasRequiredRegexpFlags;function requireRegexpFlags(){if(hasRequiredRegexpFlags)return regexpFlags;hasRequiredRegexpFlags=1;var anObject2=requireAnObject();return regexpFlags=function(){var that=anObject2(this),result="";return that.hasIndices&&(result+="d"),that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.dotAll&&(result+="s"),that.unicode&&(result+="u"),that.unicodeSets&&(result+="v"),that.sticky&&(result+="y"),result},regexpFlags}var regexpStickyHelpers,hasRequiredRegexpStickyHelpers;function requireRegexpStickyHelpers(){if(hasRequiredRegexpStickyHelpers)return regexpStickyHelpers;hasRequiredRegexpStickyHelpers=1;var fails2=requireFails(),globalThis2=requireGlobalThis(),$RegExp=globalThis2.RegExp,UNSUPPORTED_Y=fails2(function(){var re=$RegExp("a","y");return re.lastIndex=2,re.exec("abcd")!==null}),MISSED_STICKY=UNSUPPORTED_Y||fails2(function(){return!$RegExp("a","y").sticky}),BROKEN_CARET=UNSUPPORTED_Y||fails2(function(){var re=$RegExp("^r","gy");return re.lastIndex=2,re.exec("str")!==null});return regexpStickyHelpers={BROKEN_CARET,MISSED_STICKY,UNSUPPORTED_Y},regexpStickyHelpers}var objectDefineProperties={},objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var internalObjectKeys=requireObjectKeysInternal(),enumBugKeys2=requireEnumBugKeys();return objectKeys=Object.keys||function(O2){return internalObjectKeys(O2,enumBugKeys2)},objectKeys}var hasRequiredObjectDefineProperties;function requireObjectDefineProperties(){if(hasRequiredObjectDefineProperties)return objectDefineProperties;hasRequiredObjectDefineProperties=1;var DESCRIPTORS=requireDescriptors(),V8_PROTOTYPE_DEFINE_BUG=requireV8PrototypeDefineBug(),definePropertyModule=requireObjectDefineProperty(),anObject2=requireAnObject(),toIndexedObject2=requireToIndexedObject(),objectKeys2=requireObjectKeys();return objectDefineProperties.f=DESCRIPTORS&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(O2,Properties){anObject2(O2);for(var props=toIndexedObject2(Properties),keys=objectKeys2(Properties),length=keys.length,index2=0,key;length>index2;)definePropertyModule.f(O2,key=keys[index2++],props[key]);return O2},objectDefineProperties}var objectCreate,hasRequiredObjectCreate;function requireObjectCreate(){if(hasRequiredObjectCreate)return objectCreate;hasRequiredObjectCreate=1;var anObject2=requireAnObject(),definePropertiesModule=requireObjectDefineProperties(),enumBugKeys2=requireEnumBugKeys(),hiddenKeys2=requireHiddenKeys(),html2=requireHtml(),documentCreateElement2=requireDocumentCreateElement(),sharedKey2=requireSharedKey(),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(activeXDocument2){activeXDocument2.write(scriptTag("")),activeXDocument2.close();var temp=activeXDocument2.parentWindow.Object;return activeXDocument2=null,temp},NullProtoObjectViaIFrame=function(){var iframe=documentCreateElement2("iframe"),JS="java"+SCRIPT+":",iframeDocument;return iframe.style.display="none",html2.appendChild(iframe),iframe.src=String(JS),iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var length=enumBugKeys2.length;length--;)delete NullProtoObject[PROTOTYPE][enumBugKeys2[length]];return NullProtoObject()};return hiddenKeys2[IE_PROTO]=!0,objectCreate=Object.create||function(O2,Properties){var result;return O2!==null?(EmptyConstructor[PROTOTYPE]=anObject2(O2),result=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,result[IE_PROTO]=O2):result=NullProtoObject(),Properties===void 0?result:definePropertiesModule.f(result,Properties)},objectCreate}var regexpUnsupportedDotAll,hasRequiredRegexpUnsupportedDotAll;function requireRegexpUnsupportedDotAll(){if(hasRequiredRegexpUnsupportedDotAll)return regexpUnsupportedDotAll;hasRequiredRegexpUnsupportedDotAll=1;var fails2=requireFails(),globalThis2=requireGlobalThis(),$RegExp=globalThis2.RegExp;return regexpUnsupportedDotAll=fails2(function(){var re=$RegExp(".","s");return!(re.dotAll&&re.test(`
`)&&re.flags==="s")}),regexpUnsupportedDotAll}var regexpUnsupportedNcg,hasRequiredRegexpUnsupportedNcg;function requireRegexpUnsupportedNcg(){if(hasRequiredRegexpUnsupportedNcg)return regexpUnsupportedNcg;hasRequiredRegexpUnsupportedNcg=1;var fails2=requireFails(),globalThis2=requireGlobalThis(),$RegExp=globalThis2.RegExp;return regexpUnsupportedNcg=fails2(function(){var re=$RegExp("(?<a>b)","g");return re.exec("b").groups.a!=="b"||"b".replace(re,"$<a>c")!=="bc"}),regexpUnsupportedNcg}var regexpExec,hasRequiredRegexpExec;function requireRegexpExec(){if(hasRequiredRegexpExec)return regexpExec;hasRequiredRegexpExec=1;var call=requireFunctionCall(),uncurryThis=requireFunctionUncurryThis(),toString2=requireToString(),regexpFlags2=requireRegexpFlags(),stickyHelpers=requireRegexpStickyHelpers(),shared2=requireShared(),create=requireObjectCreate(),getInternalState=requireInternalState().get,UNSUPPORTED_DOT_ALL=requireRegexpUnsupportedDotAll(),UNSUPPORTED_NCG=requireRegexpUnsupportedNcg(),nativeReplace=shared2("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt=uncurryThis("".charAt),indexOf=uncurryThis("".indexOf),replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice),UPDATES_LAST_INDEX_WRONG=(function(){var re1=/a/,re2=/b*/g;return call(nativeExec,re1,"a"),call(nativeExec,re2,"a"),re1.lastIndex!==0||re2.lastIndex!==0})(),UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;return PATCH&&(patchedExec=function(string){var re=this,state=getInternalState(re),str=toString2(string),raw=state.raw,result,reCopy,lastIndex,match,i2,object,group;if(raw)return raw.lastIndex=re.lastIndex,result=call(patchedExec,raw,str),re.lastIndex=raw.lastIndex,result;var groups=state.groups,sticky=UNSUPPORTED_Y&&re.sticky,flags=call(regexpFlags2,re),source=re.source,charsAdded=0,strCopy=str;if(sticky&&(flags=replace(flags,"y",""),indexOf(flags,"g")===-1&&(flags+="g"),strCopy=stringSlice(str,re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&charAt(str,re.lastIndex-1)!==`
`)&&(source="(?: "+source+")",strCopy=" "+strCopy,charsAdded++),reCopy=new RegExp("^(?:"+source+")",flags)),NPCG_INCLUDED&&(reCopy=new RegExp("^"+source+"$(?!\\s)",flags)),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=call(nativeExec,sticky?reCopy:re,strCopy),sticky?match?(match.input=stringSlice(match.input,charsAdded),match[0]=stringSlice(match[0],charsAdded),match.index=re.lastIndex,re.lastIndex+=match[0].length):re.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&call(nativeReplace,match[0],reCopy,function(){for(i2=1;i2<arguments.length-2;i2++)arguments[i2]===void 0&&(match[i2]=void 0)}),match&&groups)for(match.groups=object=create(null),i2=0;i2<groups.length;i2++)group=groups[i2],object[group[0]]=match[group[1]];return match}),regexpExec=patchedExec,regexpExec}var hasRequiredEs_regexp_exec;function requireEs_regexp_exec(){if(hasRequiredEs_regexp_exec)return es_regexp_exec;hasRequiredEs_regexp_exec=1;var $=require_export(),exec=requireRegexpExec();return $({target:"RegExp",proto:!0,forced:/./.exec!==exec},{exec}),es_regexp_exec}var fixRegexpWellKnownSymbolLogic,hasRequiredFixRegexpWellKnownSymbolLogic;function requireFixRegexpWellKnownSymbolLogic(){if(hasRequiredFixRegexpWellKnownSymbolLogic)return fixRegexpWellKnownSymbolLogic;hasRequiredFixRegexpWellKnownSymbolLogic=1,requireEs_regexp_exec();var call=requireFunctionCall(),defineBuiltIn2=requireDefineBuiltIn(),regexpExec2=requireRegexpExec(),fails2=requireFails(),wellKnownSymbol2=requireWellKnownSymbol(),createNonEnumerableProperty2=requireCreateNonEnumerableProperty(),SPECIES=wellKnownSymbol2("species"),RegExpPrototype=RegExp.prototype;return fixRegexpWellKnownSymbolLogic=function(KEY,exec,FORCED,SHAM){var SYMBOL=wellKnownSymbol2(KEY),DELEGATES_TO_SYMBOL=!fails2(function(){var O2={};return O2[SYMBOL]=function(){return 7},""[KEY](O2)!==7}),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails2(function(){var execCalled=!1,re=/a/;if(KEY==="split"){var constructor={};constructor[SPECIES]=function(){return re},re={constructor,flags:""},re[SYMBOL]=/./[SYMBOL]}return re.exec=function(){return execCalled=!0,null},re[SYMBOL](""),!execCalled});if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||FORCED){var nativeRegExpMethod=/./[SYMBOL],methods=exec(SYMBOL,""[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){var $exec=regexp.exec;return $exec===regexpExec2||$exec===RegExpPrototype.exec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:call(nativeRegExpMethod,regexp,str,arg2)}:{done:!0,value:call(nativeMethod,str,regexp,arg2)}:{done:!1}});defineBuiltIn2(String.prototype,KEY,methods[0]),defineBuiltIn2(RegExpPrototype,SYMBOL,methods[1])}SHAM&&createNonEnumerableProperty2(RegExpPrototype[SYMBOL],"sham",!0)},fixRegexpWellKnownSymbolLogic}var stringMultibyte,hasRequiredStringMultibyte;function requireStringMultibyte(){if(hasRequiredStringMultibyte)return stringMultibyte;hasRequiredStringMultibyte=1;var uncurryThis=requireFunctionUncurryThis(),toIntegerOrInfinity2=requireToIntegerOrInfinity(),toString2=requireToString(),requireObjectCoercible2=requireRequireObjectCoercible(),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),stringSlice=uncurryThis("".slice),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var S=toString2(requireObjectCoercible2($this)),position=toIntegerOrInfinity2(pos),size=S.length,first,second;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=charCodeAt(S,position),first<55296||first>56319||position+1===size||(second=charCodeAt(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt(S,position):first:CONVERT_TO_STRING?stringSlice(S,position,position+2):(first-55296<<10)+(second-56320)+65536)}};return stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},stringMultibyte}var advanceStringIndex,hasRequiredAdvanceStringIndex;function requireAdvanceStringIndex(){if(hasRequiredAdvanceStringIndex)return advanceStringIndex;hasRequiredAdvanceStringIndex=1;var charAt=requireStringMultibyte().charAt;return advanceStringIndex=function(S,index2,unicode){return index2+(unicode?charAt(S,index2).length:1)},advanceStringIndex}var regexpFlagsDetection,hasRequiredRegexpFlagsDetection;function requireRegexpFlagsDetection(){if(hasRequiredRegexpFlagsDetection)return regexpFlagsDetection;hasRequiredRegexpFlagsDetection=1;var globalThis2=requireGlobalThis(),fails2=requireFails(),RegExp2=globalThis2.RegExp,FLAGS_GETTER_IS_CORRECT=!fails2(function(){var INDICES_SUPPORT=!0;try{RegExp2(".","d")}catch{INDICES_SUPPORT=!1}var O2={},calls="",expected=INDICES_SUPPORT?"dgimsy":"gimsy",addGetter=function(key2,chr){Object.defineProperty(O2,key2,{get:function(){return calls+=chr,!0}})},pairs={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};INDICES_SUPPORT&&(pairs.hasIndices="d");for(var key in pairs)addGetter(key,pairs[key]);var result=Object.getOwnPropertyDescriptor(RegExp2.prototype,"flags").get.call(O2);return result!==expected||calls!==expected});return regexpFlagsDetection={correct:FLAGS_GETTER_IS_CORRECT},regexpFlagsDetection}var regexpGetFlags,hasRequiredRegexpGetFlags;function requireRegexpGetFlags(){if(hasRequiredRegexpGetFlags)return regexpGetFlags;hasRequiredRegexpGetFlags=1;var call=requireFunctionCall(),hasOwn=requireHasOwnProperty(),isPrototypeOf=requireObjectIsPrototypeOf(),regExpFlagsDetection=requireRegexpFlagsDetection(),regExpFlagsGetterImplementation=requireRegexpFlags(),RegExpPrototype=RegExp.prototype;return regexpGetFlags=regExpFlagsDetection.correct?function(it){return it.flags}:function(it){return!regExpFlagsDetection.correct&&isPrototypeOf(RegExpPrototype,it)&&!hasOwn(it,"flags")?call(regExpFlagsGetterImplementation,it):it.flags},regexpGetFlags}var regexpExecAbstract,hasRequiredRegexpExecAbstract;function requireRegexpExecAbstract(){if(hasRequiredRegexpExecAbstract)return regexpExecAbstract;hasRequiredRegexpExecAbstract=1;var call=requireFunctionCall(),anObject2=requireAnObject(),isCallable2=requireIsCallable(),classof2=requireClassofRaw(),regexpExec2=requireRegexpExec(),$TypeError=TypeError;return regexpExecAbstract=function(R,S){var exec=R.exec;if(isCallable2(exec)){var result=call(exec,R,S);return result!==null&&anObject2(result),result}if(classof2(R)==="RegExp")return call(regexpExec2,R,S);throw new $TypeError("RegExp#exec called on incompatible receiver")},regexpExecAbstract}var hasRequiredEs_string_match;function requireEs_string_match(){if(hasRequiredEs_string_match)return es_string_match;hasRequiredEs_string_match=1;var call=requireFunctionCall(),uncurryThis=requireFunctionUncurryThis(),fixRegExpWellKnownSymbolLogic=requireFixRegexpWellKnownSymbolLogic(),anObject2=requireAnObject(),isObject2=requireIsObject(),toLength2=requireToLength(),toString2=requireToString(),requireObjectCoercible2=requireRequireObjectCoercible(),getMethod2=requireGetMethod(),advanceStringIndex2=requireAdvanceStringIndex(),getRegExpFlags=requireRegexpGetFlags(),regExpExec=requireRegexpExecAbstract(),stringIndexOf=uncurryThis("".indexOf);return fixRegExpWellKnownSymbolLogic("match",function(MATCH,nativeMatch,maybeCallNative){return[function(regexp){var O2=requireObjectCoercible2(this),matcher=isObject2(regexp)?getMethod2(regexp,MATCH):void 0;return matcher?call(matcher,regexp,O2):new RegExp(regexp)[MATCH](toString2(O2))},function(string){var rx=anObject2(this),S=toString2(string),res=maybeCallNative(nativeMatch,rx,S);if(res.done)return res.value;var flags=toString2(getRegExpFlags(rx));if(stringIndexOf(flags,"g")===-1)return regExpExec(rx,S);var fullUnicode=stringIndexOf(flags,"u")!==-1;rx.lastIndex=0;for(var A=[],n2=0,result;(result=regExpExec(rx,S))!==null;){var matchStr=toString2(result[0]);A[n2]=matchStr,matchStr===""&&(rx.lastIndex=advanceStringIndex2(S,toLength2(rx.lastIndex),fullUnicode)),n2++}return n2===0?null:A}]}),es_string_match}requireEs_string_match();var es_string_replace={},getSubstitution,hasRequiredGetSubstitution;function requireGetSubstitution(){if(hasRequiredGetSubstitution)return getSubstitution;hasRequiredGetSubstitution=1;var uncurryThis=requireFunctionUncurryThis(),toObject2=requireToObject(),floor=Math.floor,charAt=uncurryThis("".charAt),replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g;return getSubstitution=function(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m2=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return namedCaptures!==void 0&&(namedCaptures=toObject2(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),replace(replacement,symbols,function(match,ch){var capture;switch(charAt(ch,0)){case"$":return"$";case"&":return matched;case"`":return stringSlice(str,0,position);case"'":return stringSlice(str,tailPos);case"<":capture=namedCaptures[stringSlice(ch,1,-1)];break;default:var n2=+ch;if(n2===0)return match;if(n2>m2){var f2=floor(n2/10);return f2===0?match:f2<=m2?captures[f2-1]===void 0?charAt(ch,1):captures[f2-1]+charAt(ch,1):match}capture=captures[n2-1]}return capture===void 0?"":capture})},getSubstitution}var hasRequiredEs_string_replace;function requireEs_string_replace(){if(hasRequiredEs_string_replace)return es_string_replace;hasRequiredEs_string_replace=1;var apply=requireFunctionApply(),call=requireFunctionCall(),uncurryThis=requireFunctionUncurryThis(),fixRegExpWellKnownSymbolLogic=requireFixRegexpWellKnownSymbolLogic(),fails2=requireFails(),anObject2=requireAnObject(),isCallable2=requireIsCallable(),isObject2=requireIsObject(),toIntegerOrInfinity2=requireToIntegerOrInfinity(),toLength2=requireToLength(),toString2=requireToString(),requireObjectCoercible2=requireRequireObjectCoercible(),advanceStringIndex2=requireAdvanceStringIndex(),getMethod2=requireGetMethod(),getSubstitution2=requireGetSubstitution(),getRegExpFlags=requireRegexpGetFlags(),regExpExec=requireRegexpExecAbstract(),wellKnownSymbol2=requireWellKnownSymbol(),REPLACE=wellKnownSymbol2("replace"),max=Math.max,min=Math.min,concat=uncurryThis([].concat),push=uncurryThis([].push),stringIndexOf=uncurryThis("".indexOf),stringSlice=uncurryThis("".slice),maybeToString=function(it){return it===void 0?it:String(it)},REPLACE_KEEPS_$0=(function(){return"a".replace(/./,"$0")==="$0"})(),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=(function(){return/./[REPLACE]?/./[REPLACE]("a","$0")==="":!1})(),REPLACE_SUPPORTS_NAMED_GROUPS=!fails2(function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"".replace(re,"$<a>")!=="7"});return fixRegExpWellKnownSymbolLogic("replace",function(_2,nativeReplace,maybeCallNative){var UNSAFE_SUBSTITUTE=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(searchValue,replaceValue){var O2=requireObjectCoercible2(this),replacer=isObject2(searchValue)?getMethod2(searchValue,REPLACE):void 0;return replacer?call(replacer,searchValue,O2,replaceValue):call(nativeReplace,toString2(O2),searchValue,replaceValue)},function(string,replaceValue){var rx=anObject2(this),S=toString2(string);if(typeof replaceValue=="string"&&stringIndexOf(replaceValue,UNSAFE_SUBSTITUTE)===-1&&stringIndexOf(replaceValue,"$<")===-1){var res=maybeCallNative(nativeReplace,rx,S,replaceValue);if(res.done)return res.value}var functionalReplace=isCallable2(replaceValue);functionalReplace||(replaceValue=toString2(replaceValue));var flags=toString2(getRegExpFlags(rx)),global=stringIndexOf(flags,"g")!==-1,fullUnicode;global&&(fullUnicode=stringIndexOf(flags,"u")!==-1,rx.lastIndex=0);for(var results=[],result;result=regExpExec(rx,S),!(result===null||(push(results,result),!global));){var matchStr=toString2(result[0]);matchStr===""&&(rx.lastIndex=advanceStringIndex2(S,toLength2(rx.lastIndex),fullUnicode))}for(var accumulatedResult="",nextSourcePosition=0,i2=0;i2<results.length;i2++){result=results[i2];for(var matched=toString2(result[0]),position=max(min(toIntegerOrInfinity2(result.index),S.length),0),captures=[],replacement,j=1;j<result.length;j++)push(captures,maybeToString(result[j]));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=concat([matched],captures,position,S);namedCaptures!==void 0&&push(replacerArgs,namedCaptures),replacement=toString2(apply(replaceValue,void 0,replacerArgs))}else replacement=getSubstitution2(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=stringSlice(S,nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+stringSlice(S,nextSourcePosition)}]},!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE),es_string_replace}requireEs_string_replace();var es_string_startsWith={},isRegexp,hasRequiredIsRegexp;function requireIsRegexp(){if(hasRequiredIsRegexp)return isRegexp;hasRequiredIsRegexp=1;var isObject2=requireIsObject(),classof2=requireClassofRaw(),wellKnownSymbol2=requireWellKnownSymbol(),MATCH=wellKnownSymbol2("match");return isRegexp=function(it){var isRegExp;return isObject2(it)&&((isRegExp=it[MATCH])!==void 0?!!isRegExp:classof2(it)==="RegExp")},isRegexp}var notARegexp,hasRequiredNotARegexp;function requireNotARegexp(){if(hasRequiredNotARegexp)return notARegexp;hasRequiredNotARegexp=1;var isRegExp=requireIsRegexp(),$TypeError=TypeError;return notARegexp=function(it){if(isRegExp(it))throw new $TypeError("The method doesn't accept regular expressions");return it},notARegexp}var correctIsRegexpLogic,hasRequiredCorrectIsRegexpLogic;function requireCorrectIsRegexpLogic(){if(hasRequiredCorrectIsRegexpLogic)return correctIsRegexpLogic;hasRequiredCorrectIsRegexpLogic=1;var wellKnownSymbol2=requireWellKnownSymbol(),MATCH=wellKnownSymbol2("match");return correctIsRegexpLogic=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch{try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch{}}return!1},correctIsRegexpLogic}var hasRequiredEs_string_startsWith;function requireEs_string_startsWith(){if(hasRequiredEs_string_startsWith)return es_string_startsWith;hasRequiredEs_string_startsWith=1;var $=require_export(),uncurryThis=requireFunctionUncurryThisClause(),getOwnPropertyDescriptor=requireObjectGetOwnPropertyDescriptor().f,toLength2=requireToLength(),toString2=requireToString(),notARegExp=requireNotARegexp(),requireObjectCoercible2=requireRequireObjectCoercible(),correctIsRegExpLogic=requireCorrectIsRegexpLogic(),IS_PURE=requireIsPure(),stringSlice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith"),MDN_POLYFILL_BUG=!IS_PURE&&!CORRECT_IS_REGEXP_LOGIC&&!!(function(){var descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith");return descriptor&&!descriptor.writable})();return $({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(searchString){var that=toString2(requireObjectCoercible2(this));notARegExp(searchString);var index2=toLength2(min(arguments.length>1?arguments[1]:void 0,that.length)),search=toString2(searchString);return stringSlice(that,index2,index2+search.length)===search}}),es_string_startsWith}requireEs_string_startsWith();var addToUnscopables,hasRequiredAddToUnscopables;function requireAddToUnscopables(){if(hasRequiredAddToUnscopables)return addToUnscopables;hasRequiredAddToUnscopables=1;var wellKnownSymbol2=requireWellKnownSymbol(),create=requireObjectCreate(),defineProperty=requireObjectDefineProperty().f,UNSCOPABLES=wellKnownSymbol2("unscopables"),ArrayPrototype=Array.prototype;return ArrayPrototype[UNSCOPABLES]===void 0&&defineProperty(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)}),addToUnscopables=function(key){ArrayPrototype[UNSCOPABLES][key]=!0},addToUnscopables}var correctPrototypeGetter,hasRequiredCorrectPrototypeGetter;function requireCorrectPrototypeGetter(){if(hasRequiredCorrectPrototypeGetter)return correctPrototypeGetter;hasRequiredCorrectPrototypeGetter=1;var fails2=requireFails();return correctPrototypeGetter=!fails2(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}),correctPrototypeGetter}var objectGetPrototypeOf,hasRequiredObjectGetPrototypeOf;function requireObjectGetPrototypeOf(){if(hasRequiredObjectGetPrototypeOf)return objectGetPrototypeOf;hasRequiredObjectGetPrototypeOf=1;var hasOwn=requireHasOwnProperty(),isCallable2=requireIsCallable(),toObject2=requireToObject(),sharedKey2=requireSharedKey(),CORRECT_PROTOTYPE_GETTER=requireCorrectPrototypeGetter(),IE_PROTO=sharedKey2("IE_PROTO"),$Object=Object,ObjectPrototype=$Object.prototype;return objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(O2){var object=toObject2(O2);if(hasOwn(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;return isCallable2(constructor)&&object instanceof constructor?constructor.prototype:object instanceof $Object?ObjectPrototype:null},objectGetPrototypeOf}var iteratorsCore,hasRequiredIteratorsCore;function requireIteratorsCore(){if(hasRequiredIteratorsCore)return iteratorsCore;hasRequiredIteratorsCore=1;var fails2=requireFails(),isCallable2=requireIsCallable(),isObject2=requireIsObject(),create=requireObjectCreate(),getPrototypeOf=requireObjectGetPrototypeOf(),defineBuiltIn2=requireDefineBuiltIn(),wellKnownSymbol2=requireWellKnownSymbol(),IS_PURE=requireIsPure(),ITERATOR=wellKnownSymbol2("iterator"),BUGGY_SAFARI_ITERATORS=!1,IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS=!0);var NEW_ITERATOR_PROTOTYPE=!isObject2(IteratorPrototype)||fails2(function(){var test={};return IteratorPrototype[ITERATOR].call(test)!==test});return NEW_ITERATOR_PROTOTYPE?IteratorPrototype={}:IS_PURE&&(IteratorPrototype=create(IteratorPrototype)),isCallable2(IteratorPrototype[ITERATOR])||defineBuiltIn2(IteratorPrototype,ITERATOR,function(){return this}),iteratorsCore={IteratorPrototype,BUGGY_SAFARI_ITERATORS},iteratorsCore}var iteratorCreateConstructor,hasRequiredIteratorCreateConstructor;function requireIteratorCreateConstructor(){if(hasRequiredIteratorCreateConstructor)return iteratorCreateConstructor;hasRequiredIteratorCreateConstructor=1;var IteratorPrototype=requireIteratorsCore().IteratorPrototype,create=requireObjectCreate(),createPropertyDescriptor2=requireCreatePropertyDescriptor(),setToStringTag2=requireSetToStringTag(),Iterators=requireIterators(),returnThis=function(){return this};return iteratorCreateConstructor=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor2(+!ENUMERABLE_NEXT,next)}),setToStringTag2(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor},iteratorCreateConstructor}var iteratorDefine,hasRequiredIteratorDefine;function requireIteratorDefine(){if(hasRequiredIteratorDefine)return iteratorDefine;hasRequiredIteratorDefine=1;var $=require_export(),call=requireFunctionCall(),IS_PURE=requireIsPure(),FunctionName=requireFunctionName(),isCallable2=requireIsCallable(),createIteratorConstructor=requireIteratorCreateConstructor(),getPrototypeOf=requireObjectGetPrototypeOf(),setPrototypeOf=requireObjectSetPrototypeOf(),setToStringTag2=requireSetToStringTag(),createNonEnumerableProperty2=requireCreateNonEnumerableProperty(),defineBuiltIn2=requireDefineBuiltIn(),wellKnownSymbol2=requireWellKnownSymbol(),Iterators=requireIterators(),IteratorsCore=requireIteratorsCore(),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol2("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this};return iteratorDefine=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function(){return new IteratorConstructor(this,KIND)};case VALUES:return function(){return new IteratorConstructor(this,KIND)};case ENTRIES:return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator=NAME==="Array"&&IterablePrototype.entries||nativeIterator,CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),CurrentIteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(!IS_PURE&&getPrototypeOf(CurrentIteratorPrototype)!==IteratorPrototype&&(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable2(CurrentIteratorPrototype[ITERATOR])||defineBuiltIn2(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag2(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),PROPER_FUNCTION_NAME&&DEFAULT===VALUES&&nativeIterator&&nativeIterator.name!==VALUES&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty2(IterablePrototype,"name",VALUES):(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return call(nativeIterator,this)})),DEFAULT)if(methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&defineBuiltIn2(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return(!IS_PURE||FORCED)&&IterablePrototype[ITERATOR]!==defaultIterator&&defineBuiltIn2(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods},iteratorDefine}var createIterResultObject,hasRequiredCreateIterResultObject;function requireCreateIterResultObject(){return hasRequiredCreateIterResultObject||(hasRequiredCreateIterResultObject=1,createIterResultObject=function(value,done){return{value,done}}),createIterResultObject}var es_array_iterator,hasRequiredEs_array_iterator;function requireEs_array_iterator(){if(hasRequiredEs_array_iterator)return es_array_iterator;hasRequiredEs_array_iterator=1;var toIndexedObject2=requireToIndexedObject(),addToUnscopables2=requireAddToUnscopables(),Iterators=requireIterators(),InternalStateModule=requireInternalState(),defineProperty=requireObjectDefineProperty().f,defineIterator=requireIteratorDefine(),createIterResultObject2=requireCreateIterResultObject(),IS_PURE=requireIsPure(),DESCRIPTORS=requireDescriptors(),ARRAY_ITERATOR="Array Iterator",setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor(ARRAY_ITERATOR);es_array_iterator=defineIterator(Array,"Array",function(iterated,kind){setInternalState(this,{type:ARRAY_ITERATOR,target:toIndexedObject2(iterated),index:0,kind})},function(){var state=getInternalState(this),target=state.target,index2=state.index++;if(!target||index2>=target.length)return state.target=null,createIterResultObject2(void 0,!0);switch(state.kind){case"keys":return createIterResultObject2(index2,!1);case"values":return createIterResultObject2(target[index2],!1)}return createIterResultObject2([index2,target[index2]],!1)},"values");var values=Iterators.Arguments=Iterators.Array;if(addToUnscopables2("keys"),addToUnscopables2("values"),addToUnscopables2("entries"),!IS_PURE&&DESCRIPTORS&&values.name!=="values")try{defineProperty(values,"name",{value:"values"})}catch{}return es_array_iterator}requireEs_array_iterator();var web_domCollections_iterator={},domIterables,hasRequiredDomIterables;function requireDomIterables(){return hasRequiredDomIterables||(hasRequiredDomIterables=1,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),domIterables}var domTokenListPrototype,hasRequiredDomTokenListPrototype;function requireDomTokenListPrototype(){if(hasRequiredDomTokenListPrototype)return domTokenListPrototype;hasRequiredDomTokenListPrototype=1;var documentCreateElement2=requireDocumentCreateElement(),classList=documentCreateElement2("span").classList,DOMTokenListPrototype=classList&&classList.constructor&&classList.constructor.prototype;return domTokenListPrototype=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype,domTokenListPrototype}var hasRequiredWeb_domCollections_iterator;function requireWeb_domCollections_iterator(){if(hasRequiredWeb_domCollections_iterator)return web_domCollections_iterator;hasRequiredWeb_domCollections_iterator=1;var globalThis2=requireGlobalThis(),DOMIterables=requireDomIterables(),DOMTokenListPrototype=requireDomTokenListPrototype(),ArrayIteratorMethods=requireEs_array_iterator(),createNonEnumerableProperty2=requireCreateNonEnumerableProperty(),setToStringTag2=requireSetToStringTag(),wellKnownSymbol2=requireWellKnownSymbol(),ITERATOR=wellKnownSymbol2("iterator"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(CollectionPrototype,COLLECTION_NAME2){if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty2(CollectionPrototype,ITERATOR,ArrayValues)}catch{CollectionPrototype[ITERATOR]=ArrayValues}if(setToStringTag2(CollectionPrototype,COLLECTION_NAME2,!0),DOMIterables[COLLECTION_NAME2]){for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty2(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch{CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(globalThis2[COLLECTION_NAME]&&globalThis2[COLLECTION_NAME].prototype,COLLECTION_NAME);return handlePrototype(DOMTokenListPrototype,"DOMTokenList"),web_domCollections_iterator}requireWeb_domCollections_iterator();function toPrimitive(t2,r2){if(_typeof$1(t2)!="object"||!t2)return t2;var e2=t2[Symbol.toPrimitive];if(e2!==void 0){var i2=e2.call(t2,r2);if(_typeof$1(i2)!="object")return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r2==="string"?String:Number)(t2)}function toPropertyKey(t2){var i2=toPrimitive(t2,"string");return _typeof$1(i2)=="symbol"?i2:i2+""}function _defineProperty(e2,r2,t2){return(r2=toPropertyKey(r2))in e2?Object.defineProperty(e2,r2,{value:t2,enumerable:!0,configurable:!0,writable:!0}):e2[r2]=t2,e2}var es_array_reduce={},arrayReduce,hasRequiredArrayReduce;function requireArrayReduce(){if(hasRequiredArrayReduce)return arrayReduce;hasRequiredArrayReduce=1;var aCallable2=requireACallable(),toObject2=requireToObject(),IndexedObject=requireIndexedObject(),lengthOfArrayLike2=requireLengthOfArrayLike(),$TypeError=TypeError,REDUCE_EMPTY="Reduce of empty array with no initial value",createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){var O2=toObject2(that),self2=IndexedObject(O2),length=lengthOfArrayLike2(O2);if(aCallable2(callbackfn),length===0&&argumentsLength<2)throw new $TypeError(REDUCE_EMPTY);var index2=IS_RIGHT?length-1:0,i2=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index2 in self2){memo=self2[index2],index2+=i2;break}if(index2+=i2,IS_RIGHT?index2<0:length<=index2)throw new $TypeError(REDUCE_EMPTY)}for(;IS_RIGHT?index2>=0:length>index2;index2+=i2)index2 in self2&&(memo=callbackfn(memo,self2[index2],index2,O2));return memo}};return arrayReduce={left:createMethod(!1),right:createMethod(!0)},arrayReduce}var arrayMethodIsStrict,hasRequiredArrayMethodIsStrict;function requireArrayMethodIsStrict(){if(hasRequiredArrayMethodIsStrict)return arrayMethodIsStrict;hasRequiredArrayMethodIsStrict=1;var fails2=requireFails();return arrayMethodIsStrict=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails2(function(){method.call(null,argument||function(){return 1},1)})},arrayMethodIsStrict}var hasRequiredEs_array_reduce;function requireEs_array_reduce(){if(hasRequiredEs_array_reduce)return es_array_reduce;hasRequiredEs_array_reduce=1;var $=require_export(),$reduce=requireArrayReduce().left,arrayMethodIsStrict2=requireArrayMethodIsStrict(),CHROME_VERSION=requireEnvironmentV8Version(),IS_NODE=requireEnvironmentIsNode(),CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED=CHROME_BUG||!arrayMethodIsStrict2("reduce");return $({target:"Array",proto:!0,forced:FORCED},{reduce:function(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}}),es_array_reduce}requireEs_array_reduce();var es_string_endsWith={},hasRequiredEs_string_endsWith;function requireEs_string_endsWith(){if(hasRequiredEs_string_endsWith)return es_string_endsWith;hasRequiredEs_string_endsWith=1;var $=require_export(),uncurryThis=requireFunctionUncurryThisClause(),getOwnPropertyDescriptor=requireObjectGetOwnPropertyDescriptor().f,toLength2=requireToLength(),toString2=requireToString(),notARegExp=requireNotARegexp(),requireObjectCoercible2=requireRequireObjectCoercible(),correctIsRegExpLogic=requireCorrectIsRegexpLogic(),IS_PURE=requireIsPure(),slice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("endsWith"),MDN_POLYFILL_BUG=!IS_PURE&&!CORRECT_IS_REGEXP_LOGIC&&!!(function(){var descriptor=getOwnPropertyDescriptor(String.prototype,"endsWith");return descriptor&&!descriptor.writable})();return $({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{endsWith:function(searchString){var that=toString2(requireObjectCoercible2(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:void 0,len=that.length,end=endPosition===void 0?len:min(toLength2(endPosition),len),search=toString2(searchString);return slice(that,end-search.length,end)===search}}),es_string_endsWith}requireEs_string_endsWith();var es_string_split={},hasRequiredEs_string_split;function requireEs_string_split(){if(hasRequiredEs_string_split)return es_string_split;hasRequiredEs_string_split=1;var call=requireFunctionCall(),uncurryThis=requireFunctionUncurryThis(),fixRegExpWellKnownSymbolLogic=requireFixRegexpWellKnownSymbolLogic(),anObject2=requireAnObject(),isObject2=requireIsObject(),requireObjectCoercible2=requireRequireObjectCoercible(),speciesConstructor2=requireSpeciesConstructor(),advanceStringIndex2=requireAdvanceStringIndex(),toLength2=requireToLength(),toString2=requireToString(),getMethod2=requireGetMethod(),regExpExec=requireRegexpExecAbstract(),stickyHelpers=requireRegexpStickyHelpers(),fails2=requireFails(),UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,MAX_UINT32=4294967295,min=Math.min,push=uncurryThis([].push),stringSlice=uncurryThis("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails2(function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return result.length!==2||result[0]!=="a"||result[1]!=="b"}),BUGGY="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;return fixRegExpWellKnownSymbolLogic("split",function(SPLIT,nativeSplit,maybeCallNative){var internalSplit="0".split(void 0,0).length?function(separator,limit){return separator===void 0&&limit===0?[]:call(nativeSplit,this,separator,limit)}:nativeSplit;return[function(separator,limit){var O2=requireObjectCoercible2(this),splitter=isObject2(separator)?getMethod2(separator,SPLIT):void 0;return splitter?call(splitter,separator,O2,limit):call(internalSplit,toString2(O2),separator,limit)},function(string,limit){var rx=anObject2(this),S=toString2(string);if(!BUGGY){var res=maybeCallNative(internalSplit,rx,S,limit,internalSplit!==nativeSplit);if(res.done)return res.value}var C=speciesConstructor2(rx,RegExp),unicodeMatching=rx.unicode,flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(UNSUPPORTED_Y?"g":"y"),splitter=new C(UNSUPPORTED_Y?"^(?:"+rx.source+")":rx,flags),lim=limit===void 0?MAX_UINT32:limit>>>0;if(lim===0)return[];if(S.length===0)return regExpExec(splitter,S)===null?[S]:[];for(var p2=0,q=0,A=[];q<S.length;){splitter.lastIndex=UNSUPPORTED_Y?0:q;var z=regExpExec(splitter,UNSUPPORTED_Y?stringSlice(S,q):S),e2;if(z===null||(e2=min(toLength2(splitter.lastIndex+(UNSUPPORTED_Y?q:0)),S.length))===p2)q=advanceStringIndex2(S,q,unicodeMatching);else{if(push(A,stringSlice(S,p2,q)),A.length===lim)return A;for(var i2=1;i2<=z.length-1;i2++)if(push(A,z[i2]),A.length===lim)return A;q=p2=e2}}return push(A,stringSlice(S,p2)),A}]},BUGGY||!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y),es_string_split}requireEs_string_split();var raf={exports:{}},performanceNow$1={exports:{}},performanceNow=performanceNow$1.exports,hasRequiredPerformanceNow;function requirePerformanceNow(){return hasRequiredPerformanceNow||(hasRequiredPerformanceNow=1,(function(){var getNanoSeconds,hrtime,loadTime,moduleLoadTime,nodeLoadTime,upTime;typeof performance<"u"&&performance!==null&&performance.now?performanceNow$1.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow$1.exports=function(){return(getNanoSeconds()-nodeLoadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),hr[0]*1e9+hr[1]},moduleLoadTime=getNanoSeconds(),upTime=process.uptime()*1e9,nodeLoadTime=moduleLoadTime-upTime):Date.now?(performanceNow$1.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(performanceNow$1.exports=function(){return new Date().getTime()-loadTime},loadTime=new Date().getTime())}).call(performanceNow)),performanceNow$1.exports}var hasRequiredRaf;function requireRaf(){if(hasRequiredRaf)return raf.exports;hasRequiredRaf=1;for(var now=requirePerformanceNow(),root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf$1=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i2=0;!raf$1&&i2<vendors.length;i2++)raf$1=root[vendors[i2]+"Request"+suffix],caf=root[vendors[i2]+"Cancel"+suffix]||root[vendors[i2]+"CancelRequest"+suffix];if(!raf$1||!caf){var last=0,id=0,queue2=[],frameDuration=1e3/60;raf$1=function(callback){if(queue2.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue2.slice(0);queue2.length=0;for(var i3=0;i3<cp.length;i3++)if(!cp[i3].cancelled)try{cp[i3].callback(last)}catch(e2){setTimeout(function(){throw e2},0)}},Math.round(next))}return queue2.push({handle:++id,callback,cancelled:!1}),id},caf=function(handle){for(var i3=0;i3<queue2.length;i3++)queue2[i3].handle===handle&&(queue2[i3].cancelled=!0)}}return raf.exports=function(fn){return raf$1.call(root,fn)},raf.exports.cancel=function(){caf.apply(root,arguments)},raf.exports.polyfill=function(object){object||(object=root),object.requestAnimationFrame=raf$1,object.cancelAnimationFrame=caf},raf.exports}var rafExports=requireRaf();const requestAnimationFrame=getDefaultExportFromCjs(rafExports);var es_string_trim={},whitespaces,hasRequiredWhitespaces;function requireWhitespaces(){return hasRequiredWhitespaces||(hasRequiredWhitespaces=1,whitespaces=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),whitespaces}var stringTrim,hasRequiredStringTrim;function requireStringTrim(){if(hasRequiredStringTrim)return stringTrim;hasRequiredStringTrim=1;var uncurryThis=requireFunctionUncurryThis(),requireObjectCoercible2=requireRequireObjectCoercible(),toString2=requireToString(),whitespaces2=requireWhitespaces(),replace=uncurryThis("".replace),ltrim=RegExp("^["+whitespaces2+"]+"),rtrim=RegExp("(^|[^"+whitespaces2+"])["+whitespaces2+"]+$"),createMethod=function(TYPE){return function($this){var string=toString2(requireObjectCoercible2($this));return TYPE&1&&(string=replace(string,ltrim,"")),TYPE&2&&(string=replace(string,rtrim,"$1")),string}};return stringTrim={start:createMethod(1),end:createMethod(2),trim:createMethod(3)},stringTrim}var stringTrimForced,hasRequiredStringTrimForced;function requireStringTrimForced(){if(hasRequiredStringTrimForced)return stringTrimForced;hasRequiredStringTrimForced=1;var PROPER_FUNCTION_NAME=requireFunctionName().PROPER,fails2=requireFails(),whitespaces2=requireWhitespaces(),non="âÂá ";return stringTrimForced=function(METHOD_NAME){return fails2(function(){return!!whitespaces2[METHOD_NAME]()||non[METHOD_NAME]()!==non||PROPER_FUNCTION_NAME&&whitespaces2[METHOD_NAME].name!==METHOD_NAME})},stringTrimForced}var hasRequiredEs_string_trim;function requireEs_string_trim(){if(hasRequiredEs_string_trim)return es_string_trim;hasRequiredEs_string_trim=1;var $=require_export(),$trim=requireStringTrim().trim,forcedStringTrimMethod=requireStringTrimForced();return $({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function(){return $trim(this)}}),es_string_trim}requireEs_string_trim();var rgbcolor,hasRequiredRgbcolor;function requireRgbcolor(){return hasRequiredRgbcolor||(hasRequiredRgbcolor=1,rgbcolor=function(color_string){this.ok=!1,this.alpha=1,color_string.charAt(0)=="#"&&(color_string=color_string.substr(1,6)),color_string=color_string.replace(/ /g,""),color_string=color_string.toLowerCase();var simple_colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};color_string=simple_colors[color_string]||color_string;for(var color_defs=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(bits2){return[parseInt(bits2[1]),parseInt(bits2[2]),parseInt(bits2[3]),parseFloat(bits2[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(bits2){return[parseInt(bits2[1]),parseInt(bits2[2]),parseInt(bits2[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(bits2){return[parseInt(bits2[1],16),parseInt(bits2[2],16),parseInt(bits2[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(bits2){return[parseInt(bits2[1]+bits2[1],16),parseInt(bits2[2]+bits2[2],16),parseInt(bits2[3]+bits2[3],16)]}}],i2=0;i2<color_defs.length;i2++){var re=color_defs[i2].re,processor=color_defs[i2].process,bits=re.exec(color_string);if(bits){var channels=processor(bits);this.r=channels[0],this.g=channels[1],this.b=channels[2],channels.length>3&&(this.alpha=channels[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var r2=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);return r2.length==1&&(r2="0"+r2),g.length==1&&(g="0"+g),b.length==1&&(b="0"+b),"#"+r2+g+b},this.getHelpXML=function(){for(var examples=new Array,i3=0;i3<color_defs.length;i3++)for(var example=color_defs[i3].example,j=0;j<example.length;j++)examples[examples.length]=example[j];for(var sc in simple_colors)examples[examples.length]=sc;var xml=document.createElement("ul");xml.setAttribute("id","rgbcolor-examples");for(var i3=0;i3<examples.length;i3++)try{var list_item=document.createElement("li"),list_color=new RGBColor(examples[i3]),example_div=document.createElement("div");example_div.style.cssText="margin: 3px; border: 1px solid black; background:"+list_color.toHex()+"; color:"+list_color.toHex(),example_div.appendChild(document.createTextNode("test"));var list_item_value=document.createTextNode(" "+examples[i3]+" -> "+list_color.toRGB()+" -> "+list_color.toHex());list_item.appendChild(example_div),list_item.appendChild(list_item_value),xml.appendChild(list_item)}catch{}return xml}}),rgbcolor}var rgbcolorExports=requireRgbcolor();const RGBColor$1=getDefaultExportFromCjs(rgbcolorExports);var es_array_indexOf={},hasRequiredEs_array_indexOf;function requireEs_array_indexOf(){if(hasRequiredEs_array_indexOf)return es_array_indexOf;hasRequiredEs_array_indexOf=1;var $=require_export(),uncurryThis=requireFunctionUncurryThisClause(),$indexOf=requireArrayIncludes().indexOf,arrayMethodIsStrict2=requireArrayMethodIsStrict(),nativeIndexOf=uncurryThis([].indexOf),NEGATIVE_ZERO=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0,FORCED=NEGATIVE_ZERO||!arrayMethodIsStrict2("indexOf");return $({target:"Array",proto:!0,forced:FORCED},{indexOf:function(searchElement){var fromIndex=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?nativeIndexOf(this,searchElement,fromIndex)||0:$indexOf(this,searchElement,fromIndex)}}),es_array_indexOf}requireEs_array_indexOf();var es_string_includes={},hasRequiredEs_string_includes;function requireEs_string_includes(){if(hasRequiredEs_string_includes)return es_string_includes;hasRequiredEs_string_includes=1;var $=require_export(),uncurryThis=requireFunctionUncurryThis(),notARegExp=requireNotARegexp(),requireObjectCoercible2=requireRequireObjectCoercible(),toString2=requireToString(),correctIsRegExpLogic=requireCorrectIsRegexpLogic(),stringIndexOf=uncurryThis("".indexOf);return $({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function(searchString){return!!~stringIndexOf(toString2(requireObjectCoercible2(this)),toString2(notARegExp(searchString)),arguments.length>1?arguments[1]:void 0)}}),es_string_includes}requireEs_string_includes();var es_array_reverse={},isArray,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray;hasRequiredIsArray=1;var classof2=requireClassofRaw();return isArray=Array.isArray||function(argument){return classof2(argument)==="Array"},isArray}var hasRequiredEs_array_reverse;function requireEs_array_reverse(){if(hasRequiredEs_array_reverse)return es_array_reverse;hasRequiredEs_array_reverse=1;var $=require_export(),uncurryThis=requireFunctionUncurryThis(),isArray2=requireIsArray(),nativeReverse=uncurryThis([].reverse),test=[1,2];return $({target:"Array",proto:!0,forced:String(test)===String(test.reverse())},{reverse:function(){return isArray2(this)&&(this.length=this.length),nativeReverse(this)}}),es_array_reverse}requireEs_array_reverse();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(r2,e2){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t2,r3){t2.__proto__=r3}||function(t2,r3){for(var e3 in r3)Object.prototype.hasOwnProperty.call(r3,e3)&&(t2[e3]=r3[e3])})(r2,e2)};function r(r2,e2){if(typeof e2!="function"&&e2!==null)throw new TypeError("Class extends value "+String(e2)+" is not a constructor or null");function i2(){this.constructor=r2}t(r2,e2),r2.prototype=e2===null?Object.create(e2):(i2.prototype=e2.prototype,new i2)}function e(t2){var r2="";Array.isArray(t2)||(t2=[t2]);for(var e2=0;e2<t2.length;e2++){var i2=t2[e2];if(i2.type===_.CLOSE_PATH)r2+="z";else if(i2.type===_.HORIZ_LINE_TO)r2+=(i2.relative?"h":"H")+i2.x;else if(i2.type===_.VERT_LINE_TO)r2+=(i2.relative?"v":"V")+i2.y;else if(i2.type===_.MOVE_TO)r2+=(i2.relative?"m":"M")+i2.x+" "+i2.y;else if(i2.type===_.LINE_TO)r2+=(i2.relative?"l":"L")+i2.x+" "+i2.y;else if(i2.type===_.CURVE_TO)r2+=(i2.relative?"c":"C")+i2.x1+" "+i2.y1+" "+i2.x2+" "+i2.y2+" "+i2.x+" "+i2.y;else if(i2.type===_.SMOOTH_CURVE_TO)r2+=(i2.relative?"s":"S")+i2.x2+" "+i2.y2+" "+i2.x+" "+i2.y;else if(i2.type===_.QUAD_TO)r2+=(i2.relative?"q":"Q")+i2.x1+" "+i2.y1+" "+i2.x+" "+i2.y;else if(i2.type===_.SMOOTH_QUAD_TO)r2+=(i2.relative?"t":"T")+i2.x+" "+i2.y;else{if(i2.type!==_.ARC)throw new Error('Unexpected command type "'+i2.type+'" at index '+e2+".");r2+=(i2.relative?"a":"A")+i2.rX+" "+i2.rY+" "+i2.xRot+" "+ +i2.lArcFlag+" "+ +i2.sweepFlag+" "+i2.x+" "+i2.y}}return r2}function i(t2,r2){var e2=t2[0],i2=t2[1];return[e2*Math.cos(r2)-i2*Math.sin(r2),e2*Math.sin(r2)+i2*Math.cos(r2)]}function a(){for(var t2=[],r2=0;r2<arguments.length;r2++)t2[r2]=arguments[r2];for(var e2=0;e2<t2.length;e2++)if(typeof t2[e2]!="number")throw new Error("assertNumbers arguments["+e2+"] is not a number. "+typeof t2[e2]+" == typeof "+t2[e2]);return!0}var n=Math.PI;function o(t2,r2,e2){t2.lArcFlag=t2.lArcFlag===0?0:1,t2.sweepFlag=t2.sweepFlag===0?0:1;var a2=t2.rX,o2=t2.rY,s2=t2.x,u2=t2.y;a2=Math.abs(t2.rX),o2=Math.abs(t2.rY);var h2=i([(r2-s2)/2,(e2-u2)/2],-t2.xRot/180*n),c2=h2[0],y2=h2[1],p2=Math.pow(c2,2)/Math.pow(a2,2)+Math.pow(y2,2)/Math.pow(o2,2);1<p2&&(a2*=Math.sqrt(p2),o2*=Math.sqrt(p2)),t2.rX=a2,t2.rY=o2;var m2=Math.pow(a2,2)*Math.pow(y2,2)+Math.pow(o2,2)*Math.pow(c2,2),O2=(t2.lArcFlag!==t2.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(a2,2)*Math.pow(o2,2)-m2)/m2)),l2=a2*y2/o2*O2,T2=-o2*c2/a2*O2,v2=i([l2,T2],t2.xRot/180*n);t2.cX=v2[0]+(r2+s2)/2,t2.cY=v2[1]+(e2+u2)/2,t2.phi1=Math.atan2((y2-T2)/o2,(c2-l2)/a2),t2.phi2=Math.atan2((-y2-T2)/o2,(-c2-l2)/a2),t2.sweepFlag===0&&t2.phi2>t2.phi1&&(t2.phi2-=2*n),t2.sweepFlag===1&&t2.phi2<t2.phi1&&(t2.phi2+=2*n),t2.phi1*=180/n,t2.phi2*=180/n}function s(t2,r2,e2){a(t2,r2,e2);var i2=t2*t2+r2*r2-e2*e2;if(0>i2)return[];if(i2===0)return[[t2*e2/(t2*t2+r2*r2),r2*e2/(t2*t2+r2*r2)]];var n2=Math.sqrt(i2);return[[(t2*e2+r2*n2)/(t2*t2+r2*r2),(r2*e2-t2*n2)/(t2*t2+r2*r2)],[(t2*e2-r2*n2)/(t2*t2+r2*r2),(r2*e2+t2*n2)/(t2*t2+r2*r2)]]}var u,h=Math.PI/180;function c$1(t2,r2,e2){return(1-e2)*t2+e2*r2}function y(t2,r2,e2,i2){return t2+Math.cos(i2/180*n)*r2+Math.sin(i2/180*n)*e2}function p(t2,r2,e2,i2){var a2=1e-6,n2=r2-t2,o2=e2-r2,s2=3*n2+3*(i2-e2)-6*o2,u2=6*(o2-n2),h2=3*n2;return Math.abs(s2)<a2?[-h2/u2]:(function(t3,r3,e3){var i3=t3*t3/4-r3;if(i3<-e3)return[];if(i3<=e3)return[-t3/2];var a3=Math.sqrt(i3);return[-t3/2-a3,-t3/2+a3]})(u2/s2,h2/s2,a2)}function m$1(t2,r2,e2,i2,a2){var n2=1-a2;return t2*(n2*n2*n2)+r2*(3*n2*n2*a2)+e2*(3*n2*a2*a2)+i2*(a2*a2*a2)}(function(t2){function r2(){return u2((function(t3,r3,e3){return t3.relative&&(t3.x1!==void 0&&(t3.x1+=r3),t3.y1!==void 0&&(t3.y1+=e3),t3.x2!==void 0&&(t3.x2+=r3),t3.y2!==void 0&&(t3.y2+=e3),t3.x!==void 0&&(t3.x+=r3),t3.y!==void 0&&(t3.y+=e3),t3.relative=!1),t3}))}function e2(){var t3=NaN,r3=NaN,e3=NaN,i2=NaN;return u2((function(a2,n3,o2){return a2.type&_.SMOOTH_CURVE_TO&&(a2.type=_.CURVE_TO,t3=isNaN(t3)?n3:t3,r3=isNaN(r3)?o2:r3,a2.x1=a2.relative?n3-t3:2*n3-t3,a2.y1=a2.relative?o2-r3:2*o2-r3),a2.type&_.CURVE_TO?(t3=a2.relative?n3+a2.x2:a2.x2,r3=a2.relative?o2+a2.y2:a2.y2):(t3=NaN,r3=NaN),a2.type&_.SMOOTH_QUAD_TO&&(a2.type=_.QUAD_TO,e3=isNaN(e3)?n3:e3,i2=isNaN(i2)?o2:i2,a2.x1=a2.relative?n3-e3:2*n3-e3,a2.y1=a2.relative?o2-i2:2*o2-i2),a2.type&_.QUAD_TO?(e3=a2.relative?n3+a2.x1:a2.x1,i2=a2.relative?o2+a2.y1:a2.y1):(e3=NaN,i2=NaN),a2}))}function n2(){var t3=NaN,r3=NaN;return u2((function(e3,i2,a2){if(e3.type&_.SMOOTH_QUAD_TO&&(e3.type=_.QUAD_TO,t3=isNaN(t3)?i2:t3,r3=isNaN(r3)?a2:r3,e3.x1=e3.relative?i2-t3:2*i2-t3,e3.y1=e3.relative?a2-r3:2*a2-r3),e3.type&_.QUAD_TO){t3=e3.relative?i2+e3.x1:e3.x1,r3=e3.relative?a2+e3.y1:e3.y1;var n3=e3.x1,o2=e3.y1;e3.type=_.CURVE_TO,e3.x1=((e3.relative?0:i2)+2*n3)/3,e3.y1=((e3.relative?0:a2)+2*o2)/3,e3.x2=(e3.x+2*n3)/3,e3.y2=(e3.y+2*o2)/3}else t3=NaN,r3=NaN;return e3}))}function u2(t3){var r3=0,e3=0,i2=NaN,a2=NaN;return function(n3){if(isNaN(i2)&&!(n3.type&_.MOVE_TO))throw new Error("path must start with moveto");var o2=t3(n3,r3,e3,i2,a2);return n3.type&_.CLOSE_PATH&&(r3=i2,e3=a2),n3.x!==void 0&&(r3=n3.relative?r3+n3.x:n3.x),n3.y!==void 0&&(e3=n3.relative?e3+n3.y:n3.y),n3.type&_.MOVE_TO&&(i2=r3,a2=e3),o2}}function O2(t3,r3,e3,i2,n3,o2){return a(t3,r3,e3,i2,n3,o2),u2((function(a2,s2,u3,h2){var c2=a2.x1,y2=a2.x2,p2=a2.relative&&!isNaN(h2),m2=a2.x!==void 0?a2.x:p2?0:s2,O3=a2.y!==void 0?a2.y:p2?0:u3;function l3(t4){return t4*t4}a2.type&_.HORIZ_LINE_TO&&r3!==0&&(a2.type=_.LINE_TO,a2.y=a2.relative?0:u3),a2.type&_.VERT_LINE_TO&&e3!==0&&(a2.type=_.LINE_TO,a2.x=a2.relative?0:s2),a2.x!==void 0&&(a2.x=a2.x*t3+O3*e3+(p2?0:n3)),a2.y!==void 0&&(a2.y=m2*r3+a2.y*i2+(p2?0:o2)),a2.x1!==void 0&&(a2.x1=a2.x1*t3+a2.y1*e3+(p2?0:n3)),a2.y1!==void 0&&(a2.y1=c2*r3+a2.y1*i2+(p2?0:o2)),a2.x2!==void 0&&(a2.x2=a2.x2*t3+a2.y2*e3+(p2?0:n3)),a2.y2!==void 0&&(a2.y2=y2*r3+a2.y2*i2+(p2?0:o2));var T2=t3*i2-r3*e3;if(a2.xRot!==void 0&&(t3!==1||r3!==0||e3!==0||i2!==1))if(T2===0)delete a2.rX,delete a2.rY,delete a2.xRot,delete a2.lArcFlag,delete a2.sweepFlag,a2.type=_.LINE_TO;else{var v2=a2.xRot*Math.PI/180,f2=Math.sin(v2),N2=Math.cos(v2),x=1/l3(a2.rX),d=1/l3(a2.rY),E=l3(N2)*x+l3(f2)*d,A=2*f2*N2*(x-d),C=l3(f2)*x+l3(N2)*d,M=E*i2*i2-A*r3*i2+C*r3*r3,R=A*(t3*i2+r3*e3)-2*(E*e3*i2+C*t3*r3),g=E*e3*e3-A*t3*e3+C*t3*t3,I=(Math.atan2(R,M-g)+Math.PI)%Math.PI/2,S=Math.sin(I),L=Math.cos(I);a2.rX=Math.abs(T2)/Math.sqrt(M*l3(L)+R*S*L+g*l3(S)),a2.rY=Math.abs(T2)/Math.sqrt(M*l3(S)-R*S*L+g*l3(L)),a2.xRot=180*I/Math.PI}return a2.sweepFlag!==void 0&&0>T2&&(a2.sweepFlag=+!a2.sweepFlag),a2}))}function l2(){return function(t3){var r3={};for(var e3 in t3)r3[e3]=t3[e3];return r3}}t2.ROUND=function(t3){function r3(r4){return Math.round(r4*t3)/t3}return t3===void 0&&(t3=1e13),a(t3),function(t4){return t4.x1!==void 0&&(t4.x1=r3(t4.x1)),t4.y1!==void 0&&(t4.y1=r3(t4.y1)),t4.x2!==void 0&&(t4.x2=r3(t4.x2)),t4.y2!==void 0&&(t4.y2=r3(t4.y2)),t4.x!==void 0&&(t4.x=r3(t4.x)),t4.y!==void 0&&(t4.y=r3(t4.y)),t4.rX!==void 0&&(t4.rX=r3(t4.rX)),t4.rY!==void 0&&(t4.rY=r3(t4.rY)),t4}},t2.TO_ABS=r2,t2.TO_REL=function(){return u2((function(t3,r3,e3){return t3.relative||(t3.x1!==void 0&&(t3.x1-=r3),t3.y1!==void 0&&(t3.y1-=e3),t3.x2!==void 0&&(t3.x2-=r3),t3.y2!==void 0&&(t3.y2-=e3),t3.x!==void 0&&(t3.x-=r3),t3.y!==void 0&&(t3.y-=e3),t3.relative=!0),t3}))},t2.NORMALIZE_HVZ=function(t3,r3,e3){return t3===void 0&&(t3=!0),r3===void 0&&(r3=!0),e3===void 0&&(e3=!0),u2((function(i2,a2,n3,o2,s2){if(isNaN(o2)&&!(i2.type&_.MOVE_TO))throw new Error("path must start with moveto");return r3&&i2.type&_.HORIZ_LINE_TO&&(i2.type=_.LINE_TO,i2.y=i2.relative?0:n3),e3&&i2.type&_.VERT_LINE_TO&&(i2.type=_.LINE_TO,i2.x=i2.relative?0:a2),t3&&i2.type&_.CLOSE_PATH&&(i2.type=_.LINE_TO,i2.x=i2.relative?o2-a2:o2,i2.y=i2.relative?s2-n3:s2),i2.type&_.ARC&&(i2.rX===0||i2.rY===0)&&(i2.type=_.LINE_TO,delete i2.rX,delete i2.rY,delete i2.xRot,delete i2.lArcFlag,delete i2.sweepFlag),i2}))},t2.NORMALIZE_ST=e2,t2.QT_TO_C=n2,t2.INFO=u2,t2.SANITIZE=function(t3){t3===void 0&&(t3=0),a(t3);var r3=NaN,e3=NaN,i2=NaN,n3=NaN;return u2((function(a2,o2,s2,u3,h2){var c2=Math.abs,y2=!1,p2=0,m2=0;if(a2.type&_.SMOOTH_CURVE_TO&&(p2=isNaN(r3)?0:o2-r3,m2=isNaN(e3)?0:s2-e3),a2.type&(_.CURVE_TO|_.SMOOTH_CURVE_TO)?(r3=a2.relative?o2+a2.x2:a2.x2,e3=a2.relative?s2+a2.y2:a2.y2):(r3=NaN,e3=NaN),a2.type&_.SMOOTH_QUAD_TO?(i2=isNaN(i2)?o2:2*o2-i2,n3=isNaN(n3)?s2:2*s2-n3):a2.type&_.QUAD_TO?(i2=a2.relative?o2+a2.x1:a2.x1,n3=a2.relative?s2+a2.y1:a2.y2):(i2=NaN,n3=NaN),a2.type&_.LINE_COMMANDS||a2.type&_.ARC&&(a2.rX===0||a2.rY===0||!a2.lArcFlag)||a2.type&_.CURVE_TO||a2.type&_.SMOOTH_CURVE_TO||a2.type&_.QUAD_TO||a2.type&_.SMOOTH_QUAD_TO){var O3=a2.x===void 0?0:a2.relative?a2.x:a2.x-o2,l3=a2.y===void 0?0:a2.relative?a2.y:a2.y-s2;p2=isNaN(i2)?a2.x1===void 0?p2:a2.relative?a2.x:a2.x1-o2:i2-o2,m2=isNaN(n3)?a2.y1===void 0?m2:a2.relative?a2.y:a2.y1-s2:n3-s2;var T2=a2.x2===void 0?0:a2.relative?a2.x:a2.x2-o2,v2=a2.y2===void 0?0:a2.relative?a2.y:a2.y2-s2;c2(O3)<=t3&&c2(l3)<=t3&&c2(p2)<=t3&&c2(m2)<=t3&&c2(T2)<=t3&&c2(v2)<=t3&&(y2=!0)}return a2.type&_.CLOSE_PATH&&c2(o2-u3)<=t3&&c2(s2-h2)<=t3&&(y2=!0),y2?[]:a2}))},t2.MATRIX=O2,t2.ROTATE=function(t3,r3,e3){r3===void 0&&(r3=0),e3===void 0&&(e3=0),a(t3,r3,e3);var i2=Math.sin(t3),n3=Math.cos(t3);return O2(n3,i2,-i2,n3,r3-r3*n3+e3*i2,e3-r3*i2-e3*n3)},t2.TRANSLATE=function(t3,r3){return r3===void 0&&(r3=0),a(t3,r3),O2(1,0,0,1,t3,r3)},t2.SCALE=function(t3,r3){return r3===void 0&&(r3=t3),a(t3,r3),O2(t3,0,0,r3,0,0)},t2.SKEW_X=function(t3){return a(t3),O2(1,0,Math.atan(t3),1,0,0)},t2.SKEW_Y=function(t3){return a(t3),O2(1,Math.atan(t3),0,1,0,0)},t2.X_AXIS_SYMMETRY=function(t3){return t3===void 0&&(t3=0),a(t3),O2(-1,0,0,1,t3,0)},t2.Y_AXIS_SYMMETRY=function(t3){return t3===void 0&&(t3=0),a(t3),O2(1,0,0,-1,0,t3)},t2.A_TO_C=function(){return u2((function(t3,r3,e3){return _.ARC===t3.type?(function(t4,r4,e4){var a2,n3,s2,u3;t4.cX||o(t4,r4,e4);for(var y2=Math.min(t4.phi1,t4.phi2),p2=Math.max(t4.phi1,t4.phi2)-y2,m2=Math.ceil(p2/90),O3=new Array(m2),l3=r4,T2=e4,v2=0;v2<m2;v2++){var f2=c$1(t4.phi1,t4.phi2,v2/m2),N2=c$1(t4.phi1,t4.phi2,(v2+1)/m2),x=N2-f2,d=4/3*Math.tan(x*h/4),E=[Math.cos(f2*h)-d*Math.sin(f2*h),Math.sin(f2*h)+d*Math.cos(f2*h)],A=E[0],C=E[1],M=[Math.cos(N2*h),Math.sin(N2*h)],R=M[0],g=M[1],I=[R+d*Math.sin(N2*h),g-d*Math.cos(N2*h)],S=I[0],L=I[1];O3[v2]={relative:t4.relative,type:_.CURVE_TO};var H=function(r5,e5){var a3=i([r5*t4.rX,e5*t4.rY],t4.xRot),n4=a3[0],o2=a3[1];return[t4.cX+n4,t4.cY+o2]};a2=H(A,C),O3[v2].x1=a2[0],O3[v2].y1=a2[1],n3=H(S,L),O3[v2].x2=n3[0],O3[v2].y2=n3[1],s2=H(R,g),O3[v2].x=s2[0],O3[v2].y=s2[1],t4.relative&&(O3[v2].x1-=l3,O3[v2].y1-=T2,O3[v2].x2-=l3,O3[v2].y2-=T2,O3[v2].x-=l3,O3[v2].y-=T2),l3=(u3=[O3[v2].x,O3[v2].y])[0],T2=u3[1]}return O3})(t3,t3.relative?0:r3,t3.relative?0:e3):t3}))},t2.ANNOTATE_ARCS=function(){return u2((function(t3,r3,e3){return t3.relative&&(r3=0,e3=0),_.ARC===t3.type&&o(t3,r3,e3),t3}))},t2.CLONE=l2,t2.CALCULATE_BOUNDS=function(){var t3=function(t4){var r3={};for(var e3 in t4)r3[e3]=t4[e3];return r3},i2=r2(),a2=n2(),h2=e2(),c2=u2((function(r3,e3,n3){var u3=h2(a2(i2(t3(r3))));function O3(t4){t4>c2.maxX&&(c2.maxX=t4),t4<c2.minX&&(c2.minX=t4)}function l3(t4){t4>c2.maxY&&(c2.maxY=t4),t4<c2.minY&&(c2.minY=t4)}if(u3.type&_.DRAWING_COMMANDS&&(O3(e3),l3(n3)),u3.type&_.HORIZ_LINE_TO&&O3(u3.x),u3.type&_.VERT_LINE_TO&&l3(u3.y),u3.type&_.LINE_TO&&(O3(u3.x),l3(u3.y)),u3.type&_.CURVE_TO){O3(u3.x),l3(u3.y);for(var T2=0,v2=p(e3,u3.x1,u3.x2,u3.x);T2<v2.length;T2++)0<(w=v2[T2])&&1>w&&O3(m$1(e3,u3.x1,u3.x2,u3.x,w));for(var f2=0,N2=p(n3,u3.y1,u3.y2,u3.y);f2<N2.length;f2++)0<(w=N2[f2])&&1>w&&l3(m$1(n3,u3.y1,u3.y2,u3.y,w))}if(u3.type&_.ARC){O3(u3.x),l3(u3.y),o(u3,e3,n3);for(var x=u3.xRot/180*Math.PI,d=Math.cos(x)*u3.rX,E=Math.sin(x)*u3.rX,A=-Math.sin(x)*u3.rY,C=Math.cos(x)*u3.rY,M=u3.phi1<u3.phi2?[u3.phi1,u3.phi2]:-180>u3.phi2?[u3.phi2+360,u3.phi1+360]:[u3.phi2,u3.phi1],R=M[0],g=M[1],I=function(t4){var r4=t4[0],e4=t4[1],i3=180*Math.atan2(e4,r4)/Math.PI;return i3<R?i3+360:i3},S=0,L=s(A,-d,0).map(I);S<L.length;S++)(w=L[S])>R&&w<g&&O3(y(u3.cX,d,A,w));for(var H=0,U=s(C,-E,0).map(I);H<U.length;H++){var w;(w=U[H])>R&&w<g&&l3(y(u3.cY,E,C,w))}}return r3}));return c2.minX=1/0,c2.maxX=-1/0,c2.minY=1/0,c2.maxY=-1/0,c2}})(u||(u={}));var O,l=(function(){function t2(){}return t2.prototype.round=function(t3){return this.transform(u.ROUND(t3))},t2.prototype.toAbs=function(){return this.transform(u.TO_ABS())},t2.prototype.toRel=function(){return this.transform(u.TO_REL())},t2.prototype.normalizeHVZ=function(t3,r2,e2){return this.transform(u.NORMALIZE_HVZ(t3,r2,e2))},t2.prototype.normalizeST=function(){return this.transform(u.NORMALIZE_ST())},t2.prototype.qtToC=function(){return this.transform(u.QT_TO_C())},t2.prototype.aToC=function(){return this.transform(u.A_TO_C())},t2.prototype.sanitize=function(t3){return this.transform(u.SANITIZE(t3))},t2.prototype.translate=function(t3,r2){return this.transform(u.TRANSLATE(t3,r2))},t2.prototype.scale=function(t3,r2){return this.transform(u.SCALE(t3,r2))},t2.prototype.rotate=function(t3,r2,e2){return this.transform(u.ROTATE(t3,r2,e2))},t2.prototype.matrix=function(t3,r2,e2,i2,a2,n2){return this.transform(u.MATRIX(t3,r2,e2,i2,a2,n2))},t2.prototype.skewX=function(t3){return this.transform(u.SKEW_X(t3))},t2.prototype.skewY=function(t3){return this.transform(u.SKEW_Y(t3))},t2.prototype.xSymmetry=function(t3){return this.transform(u.X_AXIS_SYMMETRY(t3))},t2.prototype.ySymmetry=function(t3){return this.transform(u.Y_AXIS_SYMMETRY(t3))},t2.prototype.annotateArcs=function(){return this.transform(u.ANNOTATE_ARCS())},t2})(),T=function(t2){return t2===" "||t2==="	"||t2==="\r"||t2===`
`},v=function(t2){return 48<=t2.charCodeAt(0)&&t2.charCodeAt(0)<=57},f=(function(t2){function e2(){var r2=t2.call(this)||this;return r2.curNumber="",r2.curCommandType=-1,r2.curCommandRelative=!1,r2.canParseCommandOrComma=!0,r2.curNumberHasExp=!1,r2.curNumberHasExpDigits=!1,r2.curNumberHasDecimal=!1,r2.curArgs=[],r2}return r(e2,t2),e2.prototype.finish=function(t3){if(t3===void 0&&(t3=[]),this.parse(" ",t3),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t3},e2.prototype.parse=function(t3,r2){var e3=this;r2===void 0&&(r2=[]);for(var i2=function(t4){r2.push(t4),e3.curArgs.length=0,e3.canParseCommandOrComma=!0},a2=0;a2<t3.length;a2++){var n2=t3[a2],o2=!(this.curCommandType!==_.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),s2=v(n2)&&(this.curNumber==="0"&&n2==="0"||o2);if(!v(n2)||s2)if(n2!=="e"&&n2!=="E")if(n2!=="-"&&n2!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(n2!=="."||this.curNumberHasExp||this.curNumberHasDecimal||o2){if(this.curNumber&&this.curCommandType!==-1){var u2=Number(this.curNumber);if(isNaN(u2))throw new SyntaxError("Invalid number ending at "+a2);if(this.curCommandType===_.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>u2)throw new SyntaxError('Expected positive number, got "'+u2+'" at index "'+a2+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a2+'"')}this.curArgs.push(u2),this.curArgs.length===N[this.curCommandType]&&(_.HORIZ_LINE_TO===this.curCommandType?i2({type:_.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u2}):_.VERT_LINE_TO===this.curCommandType?i2({type:_.VERT_LINE_TO,relative:this.curCommandRelative,y:u2}):this.curCommandType===_.MOVE_TO||this.curCommandType===_.LINE_TO||this.curCommandType===_.SMOOTH_QUAD_TO?(i2({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),_.MOVE_TO===this.curCommandType&&(this.curCommandType=_.LINE_TO)):this.curCommandType===_.CURVE_TO?i2({type:_.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===_.SMOOTH_CURVE_TO?i2({type:_.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.QUAD_TO?i2({type:_.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.ARC&&i2({type:_.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!T(n2))if(n2===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(n2!=="+"&&n2!=="-"&&n2!==".")if(s2)this.curNumber=n2,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+a2+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+n2+'" at index '+a2+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,n2!=="z"&&n2!=="Z")if(n2==="h"||n2==="H")this.curCommandType=_.HORIZ_LINE_TO,this.curCommandRelative=n2==="h";else if(n2==="v"||n2==="V")this.curCommandType=_.VERT_LINE_TO,this.curCommandRelative=n2==="v";else if(n2==="m"||n2==="M")this.curCommandType=_.MOVE_TO,this.curCommandRelative=n2==="m";else if(n2==="l"||n2==="L")this.curCommandType=_.LINE_TO,this.curCommandRelative=n2==="l";else if(n2==="c"||n2==="C")this.curCommandType=_.CURVE_TO,this.curCommandRelative=n2==="c";else if(n2==="s"||n2==="S")this.curCommandType=_.SMOOTH_CURVE_TO,this.curCommandRelative=n2==="s";else if(n2==="q"||n2==="Q")this.curCommandType=_.QUAD_TO,this.curCommandRelative=n2==="q";else if(n2==="t"||n2==="T")this.curCommandType=_.SMOOTH_QUAD_TO,this.curCommandRelative=n2==="t";else{if(n2!=="a"&&n2!=="A")throw new SyntaxError('Unexpected character "'+n2+'" at index '+a2+".");this.curCommandType=_.ARC,this.curCommandRelative=n2==="a"}else r2.push({type:_.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=n2,this.curNumberHasDecimal=n2==="."}else this.curNumber+=n2,this.curNumberHasDecimal=!0;else this.curNumber+=n2;else this.curNumber+=n2,this.curNumberHasExp=!0;else this.curNumber+=n2,this.curNumberHasExpDigits=this.curNumberHasExp}return r2},e2.prototype.transform=function(t3){return Object.create(this,{parse:{value:function(r2,e3){e3===void 0&&(e3=[]);for(var i2=0,a2=Object.getPrototypeOf(this).parse.call(this,r2);i2<a2.length;i2++){var n2=a2[i2],o2=t3(n2);Array.isArray(o2)?e3.push.apply(e3,o2):e3.push(o2)}return e3}}})},e2})(l),_=(function(t2){function i2(r2){var e2=t2.call(this)||this;return e2.commands=typeof r2=="string"?i2.parse(r2):r2,e2}return r(i2,t2),i2.prototype.encode=function(){return i2.encode(this.commands)},i2.prototype.getBounds=function(){var t3=u.CALCULATE_BOUNDS();return this.transform(t3),t3},i2.prototype.transform=function(t3){for(var r2=[],e2=0,i3=this.commands;e2<i3.length;e2++){var a2=t3(i3[e2]);Array.isArray(a2)?r2.push.apply(r2,a2):r2.push(a2)}return this.commands=r2,this},i2.encode=function(t3){return e(t3)},i2.parse=function(t3){var r2=new f,e2=[];return r2.parse(t3,e2),r2.finish(e2),e2},i2.CLOSE_PATH=1,i2.MOVE_TO=2,i2.HORIZ_LINE_TO=4,i2.VERT_LINE_TO=8,i2.LINE_TO=16,i2.CURVE_TO=32,i2.SMOOTH_CURVE_TO=64,i2.QUAD_TO=128,i2.SMOOTH_QUAD_TO=256,i2.ARC=512,i2.LINE_COMMANDS=i2.LINE_TO|i2.HORIZ_LINE_TO|i2.VERT_LINE_TO,i2.DRAWING_COMMANDS=i2.HORIZ_LINE_TO|i2.VERT_LINE_TO|i2.LINE_TO|i2.CURVE_TO|i2.SMOOTH_CURVE_TO|i2.QUAD_TO|i2.SMOOTH_QUAD_TO|i2.ARC,i2})(l),N=((O={})[_.MOVE_TO]=2,O[_.LINE_TO]=2,O[_.HORIZ_LINE_TO]=1,O[_.VERT_LINE_TO]=1,O[_.CLOSE_PATH]=0,O[_.QUAD_TO]=4,O[_.SMOOTH_QUAD_TO]=2,O[_.CURVE_TO]=6,O[_.SMOOTH_CURVE_TO]=4,O[_.ARC]=7,O),es_regexp_toString={},hasRequiredEs_regexp_toString;function requireEs_regexp_toString(){if(hasRequiredEs_regexp_toString)return es_regexp_toString;hasRequiredEs_regexp_toString=1;var PROPER_FUNCTION_NAME=requireFunctionName().PROPER,defineBuiltIn2=requireDefineBuiltIn(),anObject2=requireAnObject(),$toString=requireToString(),fails2=requireFails(),getRegExpFlags=requireRegexpGetFlags(),TO_STRING="toString",RegExpPrototype=RegExp.prototype,nativeToString=RegExpPrototype[TO_STRING],NOT_GENERIC=fails2(function(){return nativeToString.call({source:"a",flags:"b"})!=="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME&&nativeToString.name!==TO_STRING;return(NOT_GENERIC||INCORRECT_NAME)&&defineBuiltIn2(RegExpPrototype,TO_STRING,function(){var R=anObject2(this),pattern=$toString(R.source),flags=$toString(getRegExpFlags(R));return"/"+pattern+"/"+flags},{unsafe:!0}),es_regexp_toString}requireEs_regexp_toString();function _typeof(obj){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(obj2){return typeof obj2}:_typeof=function(obj2){return obj2&&typeof Symbol=="function"&&obj2.constructor===Symbol&&obj2!==Symbol.prototype?"symbol":typeof obj2},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var mulTable=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shgTable=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function getImageDataFromCanvas(canvas,topX,topY,width,height){if(typeof canvas=="string"&&(canvas=document.getElementById(canvas)),!canvas||_typeof(canvas)!=="object"||!("getContext"in canvas))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var context=canvas.getContext("2d");try{return context.getImageData(topX,topY,width,height)}catch(e2){throw new Error("unable to access image data: "+e2)}}function processCanvasRGBA(canvas,topX,topY,width,height,radius){if(!(isNaN(radius)||radius<1)){radius|=0;var imageData=getImageDataFromCanvas(canvas,topX,topY,width,height);imageData=processImageDataRGBA(imageData,topX,topY,width,height,radius),canvas.getContext("2d").putImageData(imageData,topX,topY)}}function processImageDataRGBA(imageData,topX,topY,width,height,radius){for(var pixels=imageData.data,div=2*radius+1,widthMinus1=width-1,heightMinus1=height-1,radiusPlus1=radius+1,sumFactor=radiusPlus1*(radiusPlus1+1)/2,stackStart=new BlurStack,stack=stackStart,stackEnd,i2=1;i2<div;i2++)stack=stack.next=new BlurStack,i2===radiusPlus1&&(stackEnd=stack);stack.next=stackStart;for(var stackIn=null,stackOut=null,yw=0,yi=0,mulSum=mulTable[radius],shgSum=shgTable[radius],y2=0;y2<height;y2++){stack=stackStart;for(var pr=pixels[yi],pg=pixels[yi+1],pb=pixels[yi+2],pa=pixels[yi+3],_i=0;_i<radiusPlus1;_i++)stack.r=pr,stack.g=pg,stack.b=pb,stack.a=pa,stack=stack.next;for(var rInSum=0,gInSum=0,bInSum=0,aInSum=0,rOutSum=radiusPlus1*pr,gOutSum=radiusPlus1*pg,bOutSum=radiusPlus1*pb,aOutSum=radiusPlus1*pa,rSum=sumFactor*pr,gSum=sumFactor*pg,bSum=sumFactor*pb,aSum=sumFactor*pa,_i2=1;_i2<radiusPlus1;_i2++){var p2=yi+((widthMinus1<_i2?widthMinus1:_i2)<<2),r2=pixels[p2],g=pixels[p2+1],b=pixels[p2+2],a2=pixels[p2+3],rbs=radiusPlus1-_i2;rSum+=(stack.r=r2)*rbs,gSum+=(stack.g=g)*rbs,bSum+=(stack.b=b)*rbs,aSum+=(stack.a=a2)*rbs,rInSum+=r2,gInSum+=g,bInSum+=b,aInSum+=a2,stack=stack.next}stackIn=stackStart,stackOut=stackEnd;for(var x=0;x<width;x++){var paInitial=aSum*mulSum>>>shgSum;if(pixels[yi+3]=paInitial,paInitial!==0){var _a2=255/paInitial;pixels[yi]=(rSum*mulSum>>>shgSum)*_a2,pixels[yi+1]=(gSum*mulSum>>>shgSum)*_a2,pixels[yi+2]=(bSum*mulSum>>>shgSum)*_a2}else pixels[yi]=pixels[yi+1]=pixels[yi+2]=0;rSum-=rOutSum,gSum-=gOutSum,bSum-=bOutSum,aSum-=aOutSum,rOutSum-=stackIn.r,gOutSum-=stackIn.g,bOutSum-=stackIn.b,aOutSum-=stackIn.a;var _p=x+radius+1;_p=yw+(_p<widthMinus1?_p:widthMinus1)<<2,rInSum+=stackIn.r=pixels[_p],gInSum+=stackIn.g=pixels[_p+1],bInSum+=stackIn.b=pixels[_p+2],aInSum+=stackIn.a=pixels[_p+3],rSum+=rInSum,gSum+=gInSum,bSum+=bInSum,aSum+=aInSum,stackIn=stackIn.next;var _stackOut=stackOut,_r=_stackOut.r,_g=_stackOut.g,_b=_stackOut.b,_a=_stackOut.a;rOutSum+=_r,gOutSum+=_g,bOutSum+=_b,aOutSum+=_a,rInSum-=_r,gInSum-=_g,bInSum-=_b,aInSum-=_a,stackOut=stackOut.next,yi+=4}yw+=width}for(var _x=0;_x<width;_x++){yi=_x<<2;var _pr=pixels[yi],_pg=pixels[yi+1],_pb=pixels[yi+2],_pa=pixels[yi+3],_rOutSum=radiusPlus1*_pr,_gOutSum=radiusPlus1*_pg,_bOutSum=radiusPlus1*_pb,_aOutSum=radiusPlus1*_pa,_rSum=sumFactor*_pr,_gSum=sumFactor*_pg,_bSum=sumFactor*_pb,_aSum=sumFactor*_pa;stack=stackStart;for(var _i3=0;_i3<radiusPlus1;_i3++)stack.r=_pr,stack.g=_pg,stack.b=_pb,stack.a=_pa,stack=stack.next;for(var yp=width,_gInSum=0,_bInSum=0,_aInSum=0,_rInSum=0,_i4=1;_i4<=radius;_i4++){yi=yp+_x<<2;var _rbs=radiusPlus1-_i4;_rSum+=(stack.r=_pr=pixels[yi])*_rbs,_gSum+=(stack.g=_pg=pixels[yi+1])*_rbs,_bSum+=(stack.b=_pb=pixels[yi+2])*_rbs,_aSum+=(stack.a=_pa=pixels[yi+3])*_rbs,_rInSum+=_pr,_gInSum+=_pg,_bInSum+=_pb,_aInSum+=_pa,stack=stack.next,_i4<heightMinus1&&(yp+=width)}yi=_x,stackIn=stackStart,stackOut=stackEnd;for(var _y=0;_y<height;_y++){var _p2=yi<<2;pixels[_p2+3]=_pa=_aSum*mulSum>>>shgSum,_pa>0?(_pa=255/_pa,pixels[_p2]=(_rSum*mulSum>>>shgSum)*_pa,pixels[_p2+1]=(_gSum*mulSum>>>shgSum)*_pa,pixels[_p2+2]=(_bSum*mulSum>>>shgSum)*_pa):pixels[_p2]=pixels[_p2+1]=pixels[_p2+2]=0,_rSum-=_rOutSum,_gSum-=_gOutSum,_bSum-=_bOutSum,_aSum-=_aOutSum,_rOutSum-=stackIn.r,_gOutSum-=stackIn.g,_bOutSum-=stackIn.b,_aOutSum-=stackIn.a,_p2=_x+((_p2=_y+radiusPlus1)<heightMinus1?_p2:heightMinus1)*width<<2,_rSum+=_rInSum+=stackIn.r=pixels[_p2],_gSum+=_gInSum+=stackIn.g=pixels[_p2+1],_bSum+=_bInSum+=stackIn.b=pixels[_p2+2],_aSum+=_aInSum+=stackIn.a=pixels[_p2+3],stackIn=stackIn.next,_rOutSum+=_pr=stackOut.r,_gOutSum+=_pg=stackOut.g,_bOutSum+=_pb=stackOut.b,_aOutSum+=_pa=stackOut.a,_rInSum-=_pr,_gInSum-=_pg,_bInSum-=_pb,_aInSum-=_pa,stackOut=stackOut.next,yi+=width}}return imageData}var BlurStack=function BlurStack2(){_classCallCheck(this,BlurStack2),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function offscreen(){var{DOMParser:DOMParserFallback}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},preset={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:DOMParserFallback,createCanvas(width,height){return new OffscreenCanvas(width,height)},createImage(url){return _asyncToGenerator(function*(){var response=yield fetch(url),blob=yield response.blob(),img=yield createImageBitmap(blob);return img})()}};return(typeof DOMParser<"u"||typeof DOMParserFallback>"u")&&Reflect.deleteProperty(preset,"DOMParser"),preset}function node(_ref){var{DOMParser:DOMParser2,canvas,fetch:fetch2}=_ref;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:DOMParser2,fetch:fetch2,createCanvas:canvas.createCanvas,createImage:canvas.loadImage}}var index=Object.freeze({__proto__:null,offscreen,node});function compressSpaces(str){return str.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(str){return str.replace(/^[\n \t]+/,"")}function trimRight(str){return str.replace(/[\n \t]+$/,"")}function toNumbers(str){var matches=(str||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return matches.map(parseFloat)}var allUppercase=/^[A-Z-]+$/;function normalizeAttributeName(name){return allUppercase.test(name)?name.toLowerCase():name}function parseExternalUrl(url){var urlMatch=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(url)||[];return urlMatch[2]||urlMatch[3]||urlMatch[4]}function normalizeColor(color){if(!color.startsWith("rgb"))return color;var rgbParts=3,normalizedColor=color.replace(/\d+(\.\d+)?/g,(num,isFloat)=>rgbParts--&&isFloat?String(Math.round(parseFloat(num))):num);return normalizedColor}var attributeRegex=/(\[[^\]]+\])/g,idRegex=/(#[^\s+>~.[:]+)/g,classRegex=/(\.[^\s+>~.[:]+)/g,pseudoElementRegex=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,pseudoClassWithBracketsRegex=/(:[\w-]+\([^)]*\))/gi,pseudoClassRegex=/(:[^\s+>~.[:]+)/g,elementRegex=/([^\s+>~.[:]+)/g;function findSelectorMatch(selector,regex){var matches=regex.exec(selector);return matches?[selector.replace(regex," "),matches.length]:[selector,0]}function getSelectorSpecificity(selector){var specificity=[0,0,0],currentSelector=selector.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),delta=0;return[currentSelector,delta]=findSelectorMatch(currentSelector,attributeRegex),specificity[1]+=delta,[currentSelector,delta]=findSelectorMatch(currentSelector,idRegex),specificity[0]+=delta,[currentSelector,delta]=findSelectorMatch(currentSelector,classRegex),specificity[1]+=delta,[currentSelector,delta]=findSelectorMatch(currentSelector,pseudoElementRegex),specificity[2]+=delta,[currentSelector,delta]=findSelectorMatch(currentSelector,pseudoClassWithBracketsRegex),specificity[1]+=delta,[currentSelector,delta]=findSelectorMatch(currentSelector,pseudoClassRegex),specificity[1]+=delta,currentSelector=currentSelector.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[currentSelector,delta]=findSelectorMatch(currentSelector,elementRegex),specificity[2]+=delta,specificity.join("")}var PSEUDO_ZERO=1e-8;function vectorMagnitude(v2){return Math.sqrt(Math.pow(v2[0],2)+Math.pow(v2[1],2))}function vectorsRatio(u2,v2){return(u2[0]*v2[0]+u2[1]*v2[1])/(vectorMagnitude(u2)*vectorMagnitude(v2))}function vectorsAngle(u2,v2){return(u2[0]*v2[1]<u2[1]*v2[0]?-1:1)*Math.acos(vectorsRatio(u2,v2))}function CB1(t2){return t2*t2*t2}function CB2(t2){return 3*t2*t2*(1-t2)}function CB3(t2){return 3*t2*(1-t2)*(1-t2)}function CB4(t2){return(1-t2)*(1-t2)*(1-t2)}function QB1(t2){return t2*t2}function QB2(t2){return 2*t2*(1-t2)}function QB3(t2){return(1-t2)*(1-t2)}class Property{constructor(document2,name,value){this.document=document2,this.name=name,this.value=value,this.isNormalizedColor=!1}static empty(document2){return new Property(document2,"EMPTY","")}split(){var separator=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:document2,name}=this;return compressSpaces(this.getString()).trim().split(separator).map(value=>new Property(document2,name,value))}hasValue(zeroIsValue){var{value}=this;return value!==null&&value!==""&&(zeroIsValue||value!==0)&&typeof value<"u"}isString(regexp){var{value}=this,result=typeof value=="string";return!result||!regexp?result:regexp.test(value)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var asString=this.getString();switch(!0){case asString.endsWith("px"):case/^[0-9]+$/.test(asString):return!0;default:return!1}}setValue(value){return this.value=value,this}getValue(def){return typeof def>"u"||this.hasValue()?this.value:def}getNumber(def){if(!this.hasValue())return typeof def>"u"?0:parseFloat(def);var{value}=this,n2=parseFloat(value);return this.isString(/%$/)&&(n2/=100),n2}getString(def){return typeof def>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(def)}getColor(def){var color=this.getString(def);return this.isNormalizedColor||(this.isNormalizedColor=!0,color=normalizeColor(color),this.value=color),color}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(axisOrIsFontSize){var processPercent=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[axis,isFontSize]=typeof axisOrIsFontSize=="boolean"?[void 0,axisOrIsFontSize]:[axisOrIsFontSize],{viewPort}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(viewPort.computeSize("x"),viewPort.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(viewPort.computeSize("x"),viewPort.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*viewPort.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*viewPort.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&isFontSize):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*viewPort.computeSize(axis);default:{var n2=this.getNumber();return processPercent&&n2<1?n2*viewPort.computeSize(axis):n2}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var asString=this.getString(),name=/#([^)'"]+)/.exec(asString);return name&&(name=name[1]),name||(name=asString),this.document.definitions[name]}getFillStyleDefinition(element,opacity){var def=this.getDefinition();if(!def)return null;if(typeof def.createGradient=="function")return def.createGradient(this.document.ctx,element,opacity);if(typeof def.createPattern=="function"){if(def.getHrefAttribute().hasValue()){var patternTransform=def.getAttribute("patternTransform");def=def.getHrefAttribute().getDefinition(),patternTransform.hasValue()&&def.getAttribute("patternTransform",!0).setValue(patternTransform.value)}return def.createPattern(this.document.ctx,element,opacity)}return null}getTextBaseline(){return this.hasValue()?Property.textBaselineMapping[this.getString()]:null}addOpacity(opacity){for(var value=this.getColor(),len=value.length,commas=0,i2=0;i2<len&&(value[i2]===","&&commas++,commas!==3);i2++);if(opacity.hasValue()&&this.isString()&&commas!==3){var color=new RGBColor$1(value);color.ok&&(color.alpha=opacity.getNumber(),value=color.toRGBA())}return new Property(this.document,this.name,value)}}Property.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class ViewPort{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(width,height){this.viewPorts.push({width,height})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts}=this;return viewPorts[viewPorts.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(d){return typeof d=="number"?d:d==="x"?this.width:d==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Point{constructor(x,y2){this.x=x,this.y=y2}static parse(point){var defaultValue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[x=defaultValue,y2=defaultValue]=toNumbers(point);return new Point(x,y2)}static parseScale(scale){var defaultValue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[x=defaultValue,y2=x]=toNumbers(scale);return new Point(x,y2)}static parsePath(path2){for(var points=toNumbers(path2),len=points.length,pathPoints=[],i2=0;i2<len;i2+=2)pathPoints.push(new Point(points[i2],points[i2+1]));return pathPoints}angleTo(point){return Math.atan2(point.y-this.y,point.x-this.x)}applyTransform(transform){var{x,y:y2}=this,xp=x*transform[0]+y2*transform[2]+transform[4],yp=x*transform[1]+y2*transform[3]+transform[5];this.x=xp,this.y=yp}}class Mouse{constructor(screen){this.screen=screen,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen,onClick,onMouseMove}=this,canvas=screen.ctx.canvas;canvas.onclick=onClick,canvas.onmousemove=onMouseMove,this.working=!0}}stop(){if(this.working){var canvas=this.screen.ctx.canvas;this.working=!1,canvas.onclick=null,canvas.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:document2,events,eventElements}=this,{style}=document2.ctx.canvas;style&&(style.cursor=""),events.forEach((_ref,i2)=>{for(var{run}=_ref,element=eventElements[i2];element;)run(element),element=element.parent}),this.events=[],this.eventElements=[]}}checkPath(element,ctx){if(!(!this.working||!ctx)){var{events,eventElements}=this;events.forEach((_ref2,i2)=>{var{x,y:y2}=_ref2;!eventElements[i2]&&ctx.isPointInPath&&ctx.isPointInPath(x,y2)&&(eventElements[i2]=element)})}}checkBoundingBox(element,boundingBox){if(!(!this.working||!boundingBox)){var{events,eventElements}=this;events.forEach((_ref3,i2)=>{var{x,y:y2}=_ref3;!eventElements[i2]&&boundingBox.isPointInBox(x,y2)&&(eventElements[i2]=element)})}}mapXY(x,y2){for(var{window:window2,ctx}=this.screen,point=new Point(x,y2),element=ctx.canvas;element;)point.x-=element.offsetLeft,point.y-=element.offsetTop,element=element.offsetParent;return window2.scrollX&&(point.x+=window2.scrollX),window2.scrollY&&(point.y+=window2.scrollY),point}onClick(event){var{x,y:y2}=this.mapXY(event.clientX,event.clientY);this.events.push({type:"onclick",x,y:y2,run(eventTarget){eventTarget.onClick&&eventTarget.onClick()}})}onMouseMove(event){var{x,y:y2}=this.mapXY(event.clientX,event.clientY);this.events.push({type:"onmousemove",x,y:y2,run(eventTarget){eventTarget.onMouseMove&&eventTarget.onMouseMove()}})}}var defaultWindow=typeof window<"u"?window:null,defaultFetch$1=typeof fetch<"u"?fetch.bind(void 0):null;class Screen{constructor(ctx){var{fetch:fetch2=defaultFetch$1,window:window2=defaultWindow}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=ctx,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ViewPort,this.mouse=new Mouse(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=window2,this.fetch=fetch2}wait(checker){this.waits.push(checker)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var isReadyLock=this.waits.every(_2=>_2());return isReadyLock&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=isReadyLock,isReadyLock}setDefaults(ctx){ctx.strokeStyle="rgba(0,0,0,0)",ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=4}setViewBox(_ref){var{document:document2,ctx,aspectRatio,width,desiredWidth,height,desiredHeight,minX=0,minY=0,refX,refY,clip=!1,clipX=0,clipY=0}=_ref,cleanAspectRatio=compressSpaces(aspectRatio).replace(/^defer\s/,""),[aspectRatioAlign,aspectRatioMeetOrSlice]=cleanAspectRatio.split(" "),align=aspectRatioAlign||"xMidYMid",meetOrSlice=aspectRatioMeetOrSlice||"meet",scaleX=width/desiredWidth,scaleY=height/desiredHeight,scaleMin=Math.min(scaleX,scaleY),scaleMax=Math.max(scaleX,scaleY),finalDesiredWidth=desiredWidth,finalDesiredHeight=desiredHeight;meetOrSlice==="meet"&&(finalDesiredWidth*=scaleMin,finalDesiredHeight*=scaleMin),meetOrSlice==="slice"&&(finalDesiredWidth*=scaleMax,finalDesiredHeight*=scaleMax);var refXProp=new Property(document2,"refX",refX),refYProp=new Property(document2,"refY",refY),hasRefs=refXProp.hasValue()&&refYProp.hasValue();if(hasRefs&&ctx.translate(-scaleMin*refXProp.getPixels("x"),-scaleMin*refYProp.getPixels("y")),clip){var scaledClipX=scaleMin*clipX,scaledClipY=scaleMin*clipY;ctx.beginPath(),ctx.moveTo(scaledClipX,scaledClipY),ctx.lineTo(width,scaledClipY),ctx.lineTo(width,height),ctx.lineTo(scaledClipX,height),ctx.closePath(),ctx.clip()}if(!hasRefs){var isMeetMinY=meetOrSlice==="meet"&&scaleMin===scaleY,isSliceMaxY=meetOrSlice==="slice"&&scaleMax===scaleY,isMeetMinX=meetOrSlice==="meet"&&scaleMin===scaleX,isSliceMaxX=meetOrSlice==="slice"&&scaleMax===scaleX;align.startsWith("xMid")&&(isMeetMinY||isSliceMaxY)&&ctx.translate(width/2-finalDesiredWidth/2,0),align.endsWith("YMid")&&(isMeetMinX||isSliceMaxX)&&ctx.translate(0,height/2-finalDesiredHeight/2),align.startsWith("xMax")&&(isMeetMinY||isSliceMaxY)&&ctx.translate(width-finalDesiredWidth,0),align.endsWith("YMax")&&(isMeetMinX||isSliceMaxX)&&ctx.translate(0,height-finalDesiredHeight)}switch(!0){case align==="none":ctx.scale(scaleX,scaleY);break;case meetOrSlice==="meet":ctx.scale(scaleMin,scaleMin);break;case meetOrSlice==="slice":ctx.scale(scaleMax,scaleMax);break}ctx.translate(-minX,-minY)}start(element){var{enableRedraw=!1,ignoreMouse=!1,ignoreAnimation=!1,ignoreDimensions=!1,ignoreClear=!1,forceRedraw,scaleWidth,scaleHeight,offsetX,offsetY}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE,mouse}=this,frameDuration=1e3/FRAMERATE;if(this.frameDuration=frameDuration,this.readyPromise=new Promise(resolve=>{this.resolveReady=resolve}),this.isReady()&&this.render(element,ignoreDimensions,ignoreClear,scaleWidth,scaleHeight,offsetX,offsetY),!!enableRedraw){var now=Date.now(),then=now,delta=0,tick=()=>{now=Date.now(),delta=now-then,delta>=frameDuration&&(then=now-delta%frameDuration,this.shouldUpdate(ignoreAnimation,forceRedraw)&&(this.render(element,ignoreDimensions,ignoreClear,scaleWidth,scaleHeight,offsetX,offsetY),mouse.runEvents())),this.intervalId=requestAnimationFrame(tick)};ignoreMouse||mouse.start(),this.intervalId=requestAnimationFrame(tick)}}stop(){this.intervalId&&(requestAnimationFrame.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(ignoreAnimation,forceRedraw){if(!ignoreAnimation){var{frameDuration}=this,shouldUpdate=this.animations.reduce((shouldUpdate2,animation)=>animation.update(frameDuration)||shouldUpdate2,!1);if(shouldUpdate)return!0}return!!(typeof forceRedraw=="function"&&forceRedraw()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(element,ignoreDimensions,ignoreClear,scaleWidth,scaleHeight,offsetX,offsetY){var{CLIENT_WIDTH,CLIENT_HEIGHT,viewPort,ctx,isFirstRender}=this,canvas=ctx.canvas;viewPort.clear(),canvas.width&&canvas.height?viewPort.setCurrent(canvas.width,canvas.height):viewPort.setCurrent(CLIENT_WIDTH,CLIENT_HEIGHT);var widthStyle=element.getStyle("width"),heightStyle=element.getStyle("height");!ignoreDimensions&&(isFirstRender||typeof scaleWidth!="number"&&typeof scaleHeight!="number")&&(widthStyle.hasValue()&&(canvas.width=widthStyle.getPixels("x"),canvas.style&&(canvas.style.width="".concat(canvas.width,"px"))),heightStyle.hasValue()&&(canvas.height=heightStyle.getPixels("y"),canvas.style&&(canvas.style.height="".concat(canvas.height,"px"))));var cWidth=canvas.clientWidth||canvas.width,cHeight=canvas.clientHeight||canvas.height;if(ignoreDimensions&&widthStyle.hasValue()&&heightStyle.hasValue()&&(cWidth=widthStyle.getPixels("x"),cHeight=heightStyle.getPixels("y")),viewPort.setCurrent(cWidth,cHeight),typeof offsetX=="number"&&element.getAttribute("x",!0).setValue(offsetX),typeof offsetY=="number"&&element.getAttribute("y",!0).setValue(offsetY),typeof scaleWidth=="number"||typeof scaleHeight=="number"){var viewBox=toNumbers(element.getAttribute("viewBox").getString()),xRatio=0,yRatio=0;if(typeof scaleWidth=="number"){var _widthStyle=element.getStyle("width");_widthStyle.hasValue()?xRatio=_widthStyle.getPixels("x")/scaleWidth:isNaN(viewBox[2])||(xRatio=viewBox[2]/scaleWidth)}if(typeof scaleHeight=="number"){var _heightStyle=element.getStyle("height");_heightStyle.hasValue()?yRatio=_heightStyle.getPixels("y")/scaleHeight:isNaN(viewBox[3])||(yRatio=viewBox[3]/scaleHeight)}xRatio||(xRatio=yRatio),yRatio||(yRatio=xRatio),element.getAttribute("width",!0).setValue(scaleWidth),element.getAttribute("height",!0).setValue(scaleHeight);var transformStyle=element.getStyle("transform",!0,!0);transformStyle.setValue("".concat(transformStyle.getString()," scale(").concat(1/xRatio,", ").concat(1/yRatio,")"))}ignoreClear||ctx.clearRect(0,0,cWidth,cHeight),element.render(ctx),isFirstRender&&(this.isFirstRender=!1)}}Screen.defaultWindow=defaultWindow;Screen.defaultFetch=defaultFetch$1;var{defaultFetch}=Screen,DefaultDOMParser=typeof DOMParser<"u"?DOMParser:null;class Parser{constructor(){var{fetch:fetch2=defaultFetch,DOMParser:DOMParser2=DefaultDOMParser}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=fetch2,this.DOMParser=DOMParser2}parse(resource){var _this=this;return _asyncToGenerator(function*(){return resource.startsWith("<")?_this.parseFromString(resource):_this.load(resource)})()}parseFromString(xml){var parser=new this.DOMParser;try{return this.checkDocument(parser.parseFromString(xml,"image/svg+xml"))}catch{return this.checkDocument(parser.parseFromString(xml,"text/xml"))}}checkDocument(document2){var parserError=document2.getElementsByTagName("parsererror")[0];if(parserError)throw new Error(parserError.textContent);return document2}load(url){var _this2=this;return _asyncToGenerator(function*(){var response=yield _this2.fetch(url),xml=yield response.text();return _this2.parseFromString(xml)})()}}class Translate{constructor(_2,point){this.type="translate",this.point=null,this.point=Point.parse(point)}apply(ctx){var{x,y:y2}=this.point;ctx.translate(x||0,y2||0)}unapply(ctx){var{x,y:y2}=this.point;ctx.translate(-1*x||0,-1*y2||0)}applyToPoint(point){var{x,y:y2}=this.point;point.applyTransform([1,0,0,1,x||0,y2||0])}}class Rotate{constructor(document2,rotate,transformOrigin){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var numbers=toNumbers(rotate);this.angle=new Property(document2,"angle",numbers[0]),this.originX=transformOrigin[0],this.originY=transformOrigin[1],this.cx=numbers[1]||0,this.cy=numbers[2]||0}apply(ctx){var{cx,cy,originX,originY,angle}=this,tx=cx+originX.getPixels("x"),ty=cy+originY.getPixels("y");ctx.translate(tx,ty),ctx.rotate(angle.getRadians()),ctx.translate(-tx,-ty)}unapply(ctx){var{cx,cy,originX,originY,angle}=this,tx=cx+originX.getPixels("x"),ty=cy+originY.getPixels("y");ctx.translate(tx,ty),ctx.rotate(-1*angle.getRadians()),ctx.translate(-tx,-ty)}applyToPoint(point){var{cx,cy,angle}=this,rad=angle.getRadians();point.applyTransform([1,0,0,1,cx||0,cy||0]),point.applyTransform([Math.cos(rad),Math.sin(rad),-Math.sin(rad),Math.cos(rad),0,0]),point.applyTransform([1,0,0,1,-cx||0,-cy||0])}}class Scale{constructor(_2,scale,transformOrigin){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var scaleSize=Point.parseScale(scale);(scaleSize.x===0||scaleSize.y===0)&&(scaleSize.x=PSEUDO_ZERO,scaleSize.y=PSEUDO_ZERO),this.scale=scaleSize,this.originX=transformOrigin[0],this.originY=transformOrigin[1]}apply(ctx){var{scale:{x,y:y2},originX,originY}=this,tx=originX.getPixels("x"),ty=originY.getPixels("y");ctx.translate(tx,ty),ctx.scale(x,y2||x),ctx.translate(-tx,-ty)}unapply(ctx){var{scale:{x,y:y2},originX,originY}=this,tx=originX.getPixels("x"),ty=originY.getPixels("y");ctx.translate(tx,ty),ctx.scale(1/x,1/y2||x),ctx.translate(-tx,-ty)}applyToPoint(point){var{x,y:y2}=this.scale;point.applyTransform([x||0,0,0,y2||0,0,0])}}class Matrix{constructor(_2,matrix,transformOrigin){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(matrix),this.originX=transformOrigin[0],this.originY=transformOrigin[1]}apply(ctx){var{originX,originY,matrix}=this,tx=originX.getPixels("x"),ty=originY.getPixels("y");ctx.translate(tx,ty),ctx.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),ctx.translate(-tx,-ty)}unapply(ctx){var{originX,originY,matrix}=this,a2=matrix[0],b=matrix[2],c2=matrix[4],d=matrix[1],e2=matrix[3],f2=matrix[5],g=0,h2=0,i2=1,det=1/(a2*(e2*i2-f2*h2)-b*(d*i2-f2*g)+c2*(d*h2-e2*g)),tx=originX.getPixels("x"),ty=originY.getPixels("y");ctx.translate(tx,ty),ctx.transform(det*(e2*i2-f2*h2),det*(f2*g-d*i2),det*(c2*h2-b*i2),det*(a2*i2-c2*g),det*(b*f2-c2*e2),det*(c2*d-a2*f2)),ctx.translate(-tx,-ty)}applyToPoint(point){point.applyTransform(this.matrix)}}class Skew extends Matrix{constructor(document2,skew,transformOrigin){super(document2,skew,transformOrigin),this.type="skew",this.angle=null,this.angle=new Property(document2,"angle",skew)}}class SkewX extends Skew{constructor(document2,skew,transformOrigin){super(document2,skew,transformOrigin),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class SkewY extends Skew{constructor(document2,skew,transformOrigin){super(document2,skew,transformOrigin),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function parseTransforms(transform){return compressSpaces(transform).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(transform){var[type,value]=transform.split("(");return[type.trim(),value.trim().replace(")","")]}class Transform{constructor(document2,transform,transformOrigin){this.document=document2,this.transforms=[];var data=parseTransforms(transform);data.forEach(transform2=>{if(transform2!=="none"){var[type,value]=parseTransform(transform2),TransformType=Transform.transformTypes[type];typeof TransformType<"u"&&this.transforms.push(new TransformType(this.document,value,transformOrigin))}})}static fromElement(document2,element){var transformStyle=element.getStyle("transform",!1,!0),[transformOriginXProperty,transformOriginYProperty=transformOriginXProperty]=element.getStyle("transform-origin",!1,!0).split(),transformOrigin=[transformOriginXProperty,transformOriginYProperty];return transformStyle.hasValue()?new Transform(document2,transformStyle.getString(),transformOrigin):null}apply(ctx){for(var{transforms}=this,len=transforms.length,i2=0;i2<len;i2++)transforms[i2].apply(ctx)}unapply(ctx){for(var{transforms}=this,len=transforms.length,i2=len-1;i2>=0;i2--)transforms[i2].unapply(ctx)}applyToPoint(point){for(var{transforms}=this,len=transforms.length,i2=0;i2<len;i2++)transforms[i2].applyToPoint(point)}}Transform.transformTypes={translate:Translate,rotate:Rotate,scale:Scale,matrix:Matrix,skewX:SkewX,skewY:SkewY};class Element{constructor(document2,node2){var captureTextNodes=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=document2,this.node=node2,this.captureTextNodes=captureTextNodes,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!node2||node2.nodeType!==1)){if(Array.from(node2.attributes).forEach(attribute=>{var nodeName=normalizeAttributeName(attribute.nodeName);this.attributes[nodeName]=new Property(document2,nodeName,attribute.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var styles=this.getAttribute("style").getString().split(";").map(_2=>_2.trim());styles.forEach(style=>{if(style){var[name,value]=style.split(":").map(_2=>_2.trim());this.styles[name]=new Property(document2,name,value)}})}var{definitions}=document2,id=this.getAttribute("id");id.hasValue()&&(definitions[id.getString()]||(definitions[id.getString()]=this)),Array.from(node2.childNodes).forEach(childNode=>{if(childNode.nodeType===1)this.addChild(childNode);else if(captureTextNodes&&(childNode.nodeType===3||childNode.nodeType===4)){var textNode=document2.createTextNode(childNode);textNode.getText().length>0&&this.addChild(textNode)}})}}getAttribute(name){var createIfNotExists=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,attr=this.attributes[name];if(!attr&&createIfNotExists){var _attr=new Property(this.document,name,"");return this.attributes[name]=_attr,_attr}return attr||Property.empty(this.document)}getHrefAttribute(){for(var key in this.attributes)if(key==="href"||key.endsWith(":href"))return this.attributes[key];return Property.empty(this.document)}getStyle(name){var createIfNotExists=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,skipAncestors=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,style=this.styles[name];if(style)return style;var attr=this.getAttribute(name);if(attr!=null&&attr.hasValue())return this.styles[name]=attr,attr;if(!skipAncestors){var{parent}=this;if(parent){var parentStyle=parent.getStyle(name);if(parentStyle!=null&&parentStyle.hasValue())return parentStyle}}if(createIfNotExists){var _style=new Property(this.document,name,"");return this.styles[name]=_style,_style}return style||Property.empty(this.document)}render(ctx){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(ctx.save(),this.getStyle("mask").hasValue()){var mask=this.getStyle("mask").getDefinition();mask&&(this.applyEffects(ctx),mask.apply(ctx,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var filter=this.getStyle("filter").getDefinition();filter&&(this.applyEffects(ctx),filter.apply(ctx,this))}else this.setContext(ctx),this.renderChildren(ctx),this.clearContext(ctx);ctx.restore()}}setContext(_2){}applyEffects(ctx){var transform=Transform.fromElement(this.document,this);transform&&transform.apply(ctx);var clipPathStyleProp=this.getStyle("clip-path",!1,!0);if(clipPathStyleProp.hasValue()){var clip=clipPathStyleProp.getDefinition();clip&&clip.apply(ctx)}}clearContext(_2){}renderChildren(ctx){this.children.forEach(child=>{child.render(ctx)})}addChild(childNode){var child=childNode instanceof Element?childNode:this.document.createElement(childNode);child.parent=this,Element.ignoreChildTypes.includes(child.type)||this.children.push(child)}matchesSelector(selector){var _node$getAttribute,{node:node2}=this;if(typeof node2.matches=="function")return node2.matches(selector);var styleClasses=(_node$getAttribute=node2.getAttribute)===null||_node$getAttribute===void 0?void 0:_node$getAttribute.call(node2,"class");return!styleClasses||styleClasses===""?!1:styleClasses.split(" ").some(styleClass=>".".concat(styleClass)===selector)}addStylesFromStyleDefinition(){var{styles,stylesSpecificity}=this.document;for(var selector in styles)if(!selector.startsWith("@")&&this.matchesSelector(selector)){var style=styles[selector],specificity=stylesSpecificity[selector];if(style)for(var name in style){var existingSpecificity=this.stylesSpecificity[name];typeof existingSpecificity>"u"&&(existingSpecificity="000"),specificity>=existingSpecificity&&(this.styles[name]=style[name],this.stylesSpecificity[name]=specificity)}}}removeStyles(element,ignoreStyles){var toRestore=ignoreStyles.reduce((toRestore2,name)=>{var styleProp=element.getStyle(name);if(!styleProp.hasValue())return toRestore2;var value=styleProp.getString();return styleProp.setValue(""),[...toRestore2,[name,value]]},[]);return toRestore}restoreStyles(element,styles){styles.forEach(_ref=>{var[name,value]=_ref;element.getStyle(name,!0).setValue(value)})}isFirstChild(){var _this$parent;return((_this$parent=this.parent)===null||_this$parent===void 0?void 0:_this$parent.children.indexOf(this))===0}}Element.ignoreChildTypes=["title"];class UnknownElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes)}}function wrapFontFamily(fontFamily){var trimmed=fontFamily.trim();return/^('|")/.test(trimmed)?trimmed:'"'.concat(trimmed,'"')}function prepareFontFamily(fontFamily){return typeof process>"u"?fontFamily:fontFamily.trim().split(",").map(wrapFontFamily).join(",")}function prepareFontStyle(fontStyle){if(!fontStyle)return"";var targetFontStyle=fontStyle.trim().toLowerCase();switch(targetFontStyle){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return targetFontStyle;default:return/^oblique\s+(-|)\d+deg$/.test(targetFontStyle)?targetFontStyle:""}}function prepareFontWeight(fontWeight){if(!fontWeight)return"";var targetFontWeight=fontWeight.trim().toLowerCase();switch(targetFontWeight){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return targetFontWeight;default:return/^[\d.]+$/.test(targetFontWeight)?targetFontWeight:""}}class Font{constructor(fontStyle,fontVariant,fontWeight,fontSize,fontFamily,inherit){var inheritFont=inherit?typeof inherit=="string"?Font.parse(inherit):inherit:{};this.fontFamily=fontFamily||inheritFont.fontFamily,this.fontSize=fontSize||inheritFont.fontSize,this.fontStyle=fontStyle||inheritFont.fontStyle,this.fontWeight=fontWeight||inheritFont.fontWeight,this.fontVariant=fontVariant||inheritFont.fontVariant}static parse(){var font=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",inherit=arguments.length>1?arguments[1]:void 0,fontStyle="",fontVariant="",fontWeight="",fontSize="",fontFamily="",parts=compressSpaces(font).trim().split(" "),set={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return parts.forEach(part=>{switch(!0){case(!set.fontStyle&&Font.styles.includes(part)):part!=="inherit"&&(fontStyle=part),set.fontStyle=!0;break;case(!set.fontVariant&&Font.variants.includes(part)):part!=="inherit"&&(fontVariant=part),set.fontStyle=!0,set.fontVariant=!0;break;case(!set.fontWeight&&Font.weights.includes(part)):part!=="inherit"&&(fontWeight=part),set.fontStyle=!0,set.fontVariant=!0,set.fontWeight=!0;break;case!set.fontSize:part!=="inherit"&&([fontSize]=part.split("/")),set.fontStyle=!0,set.fontVariant=!0,set.fontWeight=!0,set.fontSize=!0;break;default:part!=="inherit"&&(fontFamily+=part)}}),new Font(fontStyle,fontVariant,fontWeight,fontSize,fontFamily,inherit)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,prepareFontFamily(this.fontFamily)].join(" ").trim()}}Font.styles="normal|italic|oblique|inherit";Font.variants="normal|small-caps|inherit";Font.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class BoundingBox{constructor(){var x1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,y1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,x2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,y2=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2,this.addPoint(x1,y1),this.addPoint(x2,y2)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(x,y2){typeof x<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof y2<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=y2,this.y2=y2),y2<this.y1&&(this.y1=y2),y2>this.y2&&(this.y2=y2))}addX(x){this.addPoint(x,null)}addY(y2){this.addPoint(null,y2)}addBoundingBox(boundingBox){if(boundingBox){var{x1,y1,x2,y2}=boundingBox;this.addPoint(x1,y1),this.addPoint(x2,y2)}}sumCubic(t2,p0,p1,p2,p3){return Math.pow(1-t2,3)*p0+3*Math.pow(1-t2,2)*t2*p1+3*(1-t2)*Math.pow(t2,2)*p2+Math.pow(t2,3)*p3}bezierCurveAdd(forX,p0,p1,p2,p3){var b=6*p0-12*p1+6*p2,a2=-3*p0+9*p1-9*p2+3*p3,c2=3*p1-3*p0;if(a2===0){if(b===0)return;var t2=-c2/b;0<t2&&t2<1&&(forX?this.addX(this.sumCubic(t2,p0,p1,p2,p3)):this.addY(this.sumCubic(t2,p0,p1,p2,p3)));return}var b2ac=Math.pow(b,2)-4*c2*a2;if(!(b2ac<0)){var t1=(-b+Math.sqrt(b2ac))/(2*a2);0<t1&&t1<1&&(forX?this.addX(this.sumCubic(t1,p0,p1,p2,p3)):this.addY(this.sumCubic(t1,p0,p1,p2,p3)));var t22=(-b-Math.sqrt(b2ac))/(2*a2);0<t22&&t22<1&&(forX?this.addX(this.sumCubic(t22,p0,p1,p2,p3)):this.addY(this.sumCubic(t22,p0,p1,p2,p3)))}}addBezierCurve(p0x,p0y,p1x,p1y,p2x,p2y,p3x,p3y){this.addPoint(p0x,p0y),this.addPoint(p3x,p3y),this.bezierCurveAdd(!0,p0x,p1x,p2x,p3x),this.bezierCurveAdd(!1,p0y,p1y,p2y,p3y)}addQuadraticCurve(p0x,p0y,p1x,p1y,p2x,p2y){var cp1x=p0x+.6666666666666666*(p1x-p0x),cp1y=p0y+2/3*(p1y-p0y),cp2x=cp1x+1/3*(p2x-p0x),cp2y=cp1y+1/3*(p2y-p0y);this.addBezierCurve(p0x,p0y,cp1x,cp2x,cp1y,cp2y,p2x,p2y)}isPointInBox(x,y2){var{x1,y1,x2,y2:y22}=this;return x1<=x&&x<=x2&&y1<=y2&&y2<=y22}}class PathParser extends _{constructor(path2){super(path2.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]}isEnd(){var{i:i2,commands}=this;return i2>=commands.length-1}next(){var command=this.commands[++this.i];return this.previousCommand=this.command,this.command=command,command}getPoint(){var xProp=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",yProp=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",point=new Point(this.command[xProp],this.command[yProp]);return this.makeAbsolute(point)}getAsControlPoint(xProp,yProp){var point=this.getPoint(xProp,yProp);return this.control=point,point}getAsCurrentPoint(xProp,yProp){var point=this.getPoint(xProp,yProp);return this.current=point,point}getReflectedControlPoint(){var previousCommand=this.previousCommand.type;if(previousCommand!==_.CURVE_TO&&previousCommand!==_.SMOOTH_CURVE_TO&&previousCommand!==_.QUAD_TO&&previousCommand!==_.SMOOTH_QUAD_TO)return this.current;var{current:{x:cx,y:cy},control:{x:ox,y:oy}}=this,point=new Point(2*cx-ox,2*cy-oy);return point}makeAbsolute(point){if(this.command.relative){var{x,y:y2}=this.current;point.x+=x,point.y+=y2}return point}addMarker(point,from,priorTo){var{points,angles}=this;priorTo&&angles.length>0&&!angles[angles.length-1]&&(angles[angles.length-1]=points[points.length-1].angleTo(priorTo)),this.addMarkerAngle(point,from?from.angleTo(point):null)}addMarkerAngle(point,angle){this.points.push(point),this.angles.push(angle)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles}=this,len=angles.length,i2=0;i2<len;i2++)if(!angles[i2]){for(var j=i2+1;j<len;j++)if(angles[j]){angles[i2]=angles[j];break}}return angles}}class RenderedElement extends Element{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var opacity=1,element=this;element;){var opacityStyle=element.getStyle("opacity",!1,!0);opacityStyle.hasValue(!0)&&(opacity*=opacityStyle.getNumber()),element=element.parent}return opacity}setContext(ctx){var fromMeasure=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!fromMeasure){var fillStyleProp=this.getStyle("fill"),fillOpacityStyleProp=this.getStyle("fill-opacity"),strokeStyleProp=this.getStyle("stroke"),strokeOpacityProp=this.getStyle("stroke-opacity");if(fillStyleProp.isUrlDefinition()){var fillStyle=fillStyleProp.getFillStyleDefinition(this,fillOpacityStyleProp);fillStyle&&(ctx.fillStyle=fillStyle)}else if(fillStyleProp.hasValue()){fillStyleProp.getString()==="currentColor"&&fillStyleProp.setValue(this.getStyle("color").getColor());var _fillStyle=fillStyleProp.getColor();_fillStyle!=="inherit"&&(ctx.fillStyle=_fillStyle==="none"?"rgba(0,0,0,0)":_fillStyle)}if(fillOpacityStyleProp.hasValue()){var _fillStyle2=new Property(this.document,"fill",ctx.fillStyle).addOpacity(fillOpacityStyleProp).getColor();ctx.fillStyle=_fillStyle2}if(strokeStyleProp.isUrlDefinition()){var strokeStyle=strokeStyleProp.getFillStyleDefinition(this,strokeOpacityProp);strokeStyle&&(ctx.strokeStyle=strokeStyle)}else if(strokeStyleProp.hasValue()){strokeStyleProp.getString()==="currentColor"&&strokeStyleProp.setValue(this.getStyle("color").getColor());var _strokeStyle=strokeStyleProp.getString();_strokeStyle!=="inherit"&&(ctx.strokeStyle=_strokeStyle==="none"?"rgba(0,0,0,0)":_strokeStyle)}if(strokeOpacityProp.hasValue()){var _strokeStyle2=new Property(this.document,"stroke",ctx.strokeStyle).addOpacity(strokeOpacityProp).getString();ctx.strokeStyle=_strokeStyle2}var strokeWidthStyleProp=this.getStyle("stroke-width");if(strokeWidthStyleProp.hasValue()){var newLineWidth=strokeWidthStyleProp.getPixels();ctx.lineWidth=newLineWidth||PSEUDO_ZERO}var strokeLinecapStyleProp=this.getStyle("stroke-linecap"),strokeLinejoinStyleProp=this.getStyle("stroke-linejoin"),strokeMiterlimitProp=this.getStyle("stroke-miterlimit"),strokeDasharrayStyleProp=this.getStyle("stroke-dasharray"),strokeDashoffsetProp=this.getStyle("stroke-dashoffset");if(strokeLinecapStyleProp.hasValue()&&(ctx.lineCap=strokeLinecapStyleProp.getString()),strokeLinejoinStyleProp.hasValue()&&(ctx.lineJoin=strokeLinejoinStyleProp.getString()),strokeMiterlimitProp.hasValue()&&(ctx.miterLimit=strokeMiterlimitProp.getNumber()),strokeDasharrayStyleProp.hasValue()&&strokeDasharrayStyleProp.getString()!=="none"){var gaps=toNumbers(strokeDasharrayStyleProp.getString());typeof ctx.setLineDash<"u"?ctx.setLineDash(gaps):typeof ctx.webkitLineDash<"u"?ctx.webkitLineDash=gaps:typeof ctx.mozDash<"u"&&!(gaps.length===1&&gaps[0]===0)&&(ctx.mozDash=gaps);var offset=strokeDashoffsetProp.getPixels();typeof ctx.lineDashOffset<"u"?ctx.lineDashOffset=offset:typeof ctx.webkitLineDashOffset<"u"?ctx.webkitLineDashOffset=offset:typeof ctx.mozDashOffset<"u"&&(ctx.mozDashOffset=offset)}}if(this.modifiedEmSizeStack=!1,typeof ctx.font<"u"){var fontStyleProp=this.getStyle("font"),fontStyleStyleProp=this.getStyle("font-style"),fontVariantStyleProp=this.getStyle("font-variant"),fontWeightStyleProp=this.getStyle("font-weight"),fontSizeStyleProp=this.getStyle("font-size"),fontFamilyStyleProp=this.getStyle("font-family"),font=new Font(fontStyleStyleProp.getString(),fontVariantStyleProp.getString(),fontWeightStyleProp.getString(),fontSizeStyleProp.hasValue()?"".concat(fontSizeStyleProp.getPixels(!0),"px"):"",fontFamilyStyleProp.getString(),Font.parse(fontStyleProp.getString(),ctx.font));fontStyleStyleProp.setValue(font.fontStyle),fontVariantStyleProp.setValue(font.fontVariant),fontWeightStyleProp.setValue(font.fontWeight),fontSizeStyleProp.setValue(font.fontSize),fontFamilyStyleProp.setValue(font.fontFamily),ctx.font=font.toString(),fontSizeStyleProp.isPixels()&&(this.document.emSize=fontSizeStyleProp.getPixels(),this.modifiedEmSizeStack=!0)}fromMeasure||(this.applyEffects(ctx),ctx.globalAlpha=this.calculateOpacity())}clearContext(ctx){super.clearContext(ctx),this.modifiedEmSizeStack&&this.document.popEmSize()}}class PathElement extends RenderedElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="path",this.pathParser=null,this.pathParser=new PathParser(this.getAttribute("d").getString())}path(ctx){var{pathParser}=this,boundingBox=new BoundingBox;for(pathParser.reset(),ctx&&ctx.beginPath();!pathParser.isEnd();)switch(pathParser.next().type){case PathParser.MOVE_TO:this.pathM(ctx,boundingBox);break;case PathParser.LINE_TO:this.pathL(ctx,boundingBox);break;case PathParser.HORIZ_LINE_TO:this.pathH(ctx,boundingBox);break;case PathParser.VERT_LINE_TO:this.pathV(ctx,boundingBox);break;case PathParser.CURVE_TO:this.pathC(ctx,boundingBox);break;case PathParser.SMOOTH_CURVE_TO:this.pathS(ctx,boundingBox);break;case PathParser.QUAD_TO:this.pathQ(ctx,boundingBox);break;case PathParser.SMOOTH_QUAD_TO:this.pathT(ctx,boundingBox);break;case PathParser.ARC:this.pathA(ctx,boundingBox);break;case PathParser.CLOSE_PATH:this.pathZ(ctx,boundingBox);break}return boundingBox}getBoundingBox(_2){return this.path()}getMarkers(){var{pathParser}=this,points=pathParser.getMarkerPoints(),angles=pathParser.getMarkerAngles(),markers=points.map((point,i2)=>[point,angles[i2]]);return markers}renderChildren(ctx){this.path(ctx),this.document.screen.mouse.checkPath(this,ctx);var fillRuleStyleProp=this.getStyle("fill-rule");ctx.fillStyle!==""&&(fillRuleStyleProp.getString("inherit")!=="inherit"?ctx.fill(fillRuleStyleProp.getString()):ctx.fill()),ctx.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.stroke(),ctx.restore()):ctx.stroke());var markers=this.getMarkers();if(markers){var markersLastIndex=markers.length-1,markerStartStyleProp=this.getStyle("marker-start"),markerMidStyleProp=this.getStyle("marker-mid"),markerEndStyleProp=this.getStyle("marker-end");if(markerStartStyleProp.isUrlDefinition()){var marker=markerStartStyleProp.getDefinition(),[point,angle]=markers[0];marker.render(ctx,point,angle)}if(markerMidStyleProp.isUrlDefinition())for(var _marker=markerMidStyleProp.getDefinition(),i2=1;i2<markersLastIndex;i2++){var[_point,_angle]=markers[i2];_marker.render(ctx,_point,_angle)}if(markerEndStyleProp.isUrlDefinition()){var _marker2=markerEndStyleProp.getDefinition(),[_point2,_angle2]=markers[markersLastIndex];_marker2.render(ctx,_point2,_angle2)}}}static pathM(pathParser){var point=pathParser.getAsCurrentPoint();return pathParser.start=pathParser.current,{point}}pathM(ctx,boundingBox){var{pathParser}=this,{point}=PathElement.pathM(pathParser),{x,y:y2}=point;pathParser.addMarker(point),boundingBox.addPoint(x,y2),ctx&&ctx.moveTo(x,y2)}static pathL(pathParser){var{current}=pathParser,point=pathParser.getAsCurrentPoint();return{current,point}}pathL(ctx,boundingBox){var{pathParser}=this,{current,point}=PathElement.pathL(pathParser),{x,y:y2}=point;pathParser.addMarker(point,current),boundingBox.addPoint(x,y2),ctx&&ctx.lineTo(x,y2)}static pathH(pathParser){var{current,command}=pathParser,point=new Point((command.relative?current.x:0)+command.x,current.y);return pathParser.current=point,{current,point}}pathH(ctx,boundingBox){var{pathParser}=this,{current,point}=PathElement.pathH(pathParser),{x,y:y2}=point;pathParser.addMarker(point,current),boundingBox.addPoint(x,y2),ctx&&ctx.lineTo(x,y2)}static pathV(pathParser){var{current,command}=pathParser,point=new Point(current.x,(command.relative?current.y:0)+command.y);return pathParser.current=point,{current,point}}pathV(ctx,boundingBox){var{pathParser}=this,{current,point}=PathElement.pathV(pathParser),{x,y:y2}=point;pathParser.addMarker(point,current),boundingBox.addPoint(x,y2),ctx&&ctx.lineTo(x,y2)}static pathC(pathParser){var{current}=pathParser,point=pathParser.getPoint("x1","y1"),controlPoint=pathParser.getAsControlPoint("x2","y2"),currentPoint=pathParser.getAsCurrentPoint();return{current,point,controlPoint,currentPoint}}pathC(ctx,boundingBox){var{pathParser}=this,{current,point,controlPoint,currentPoint}=PathElement.pathC(pathParser);pathParser.addMarker(currentPoint,controlPoint,point),boundingBox.addBezierCurve(current.x,current.y,point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),ctx&&ctx.bezierCurveTo(point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}static pathS(pathParser){var{current}=pathParser,point=pathParser.getReflectedControlPoint(),controlPoint=pathParser.getAsControlPoint("x2","y2"),currentPoint=pathParser.getAsCurrentPoint();return{current,point,controlPoint,currentPoint}}pathS(ctx,boundingBox){var{pathParser}=this,{current,point,controlPoint,currentPoint}=PathElement.pathS(pathParser);pathParser.addMarker(currentPoint,controlPoint,point),boundingBox.addBezierCurve(current.x,current.y,point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),ctx&&ctx.bezierCurveTo(point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}static pathQ(pathParser){var{current}=pathParser,controlPoint=pathParser.getAsControlPoint("x1","y1"),currentPoint=pathParser.getAsCurrentPoint();return{current,controlPoint,currentPoint}}pathQ(ctx,boundingBox){var{pathParser}=this,{current,controlPoint,currentPoint}=PathElement.pathQ(pathParser);pathParser.addMarker(currentPoint,controlPoint,controlPoint),boundingBox.addQuadraticCurve(current.x,current.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),ctx&&ctx.quadraticCurveTo(controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}static pathT(pathParser){var{current}=pathParser,controlPoint=pathParser.getReflectedControlPoint();pathParser.control=controlPoint;var currentPoint=pathParser.getAsCurrentPoint();return{current,controlPoint,currentPoint}}pathT(ctx,boundingBox){var{pathParser}=this,{current,controlPoint,currentPoint}=PathElement.pathT(pathParser);pathParser.addMarker(currentPoint,controlPoint,controlPoint),boundingBox.addQuadraticCurve(current.x,current.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),ctx&&ctx.quadraticCurveTo(controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}static pathA(pathParser){var{current,command}=pathParser,{rX,rY,xRot,lArcFlag,sweepFlag}=command,xAxisRotation=xRot*(Math.PI/180),currentPoint=pathParser.getAsCurrentPoint(),currp=new Point(Math.cos(xAxisRotation)*(current.x-currentPoint.x)/2+Math.sin(xAxisRotation)*(current.y-currentPoint.y)/2,-Math.sin(xAxisRotation)*(current.x-currentPoint.x)/2+Math.cos(xAxisRotation)*(current.y-currentPoint.y)/2),l2=Math.pow(currp.x,2)/Math.pow(rX,2)+Math.pow(currp.y,2)/Math.pow(rY,2);l2>1&&(rX*=Math.sqrt(l2),rY*=Math.sqrt(l2));var s2=(lArcFlag===sweepFlag?-1:1)*Math.sqrt((Math.pow(rX,2)*Math.pow(rY,2)-Math.pow(rX,2)*Math.pow(currp.y,2)-Math.pow(rY,2)*Math.pow(currp.x,2))/(Math.pow(rX,2)*Math.pow(currp.y,2)+Math.pow(rY,2)*Math.pow(currp.x,2)));isNaN(s2)&&(s2=0);var cpp=new Point(s2*rX*currp.y/rY,s2*-rY*currp.x/rX),centp=new Point((current.x+currentPoint.x)/2+Math.cos(xAxisRotation)*cpp.x-Math.sin(xAxisRotation)*cpp.y,(current.y+currentPoint.y)/2+Math.sin(xAxisRotation)*cpp.x+Math.cos(xAxisRotation)*cpp.y),a1=vectorsAngle([1,0],[(currp.x-cpp.x)/rX,(currp.y-cpp.y)/rY]),u2=[(currp.x-cpp.x)/rX,(currp.y-cpp.y)/rY],v2=[(-currp.x-cpp.x)/rX,(-currp.y-cpp.y)/rY],ad=vectorsAngle(u2,v2);return vectorsRatio(u2,v2)<=-1&&(ad=Math.PI),vectorsRatio(u2,v2)>=1&&(ad=0),{currentPoint,rX,rY,sweepFlag,xAxisRotation,centp,a1,ad}}pathA(ctx,boundingBox){var{pathParser}=this,{currentPoint,rX,rY,sweepFlag,xAxisRotation,centp,a1,ad}=PathElement.pathA(pathParser),dir=1-sweepFlag?1:-1,ah=a1+dir*(ad/2),halfWay=new Point(centp.x+rX*Math.cos(ah),centp.y+rY*Math.sin(ah));if(pathParser.addMarkerAngle(halfWay,ah-dir*Math.PI/2),pathParser.addMarkerAngle(currentPoint,ah-dir*Math.PI),boundingBox.addPoint(currentPoint.x,currentPoint.y),ctx&&!isNaN(a1)&&!isNaN(ad)){var r2=rX>rY?rX:rY,sx=rX>rY?1:rX/rY,sy=rX>rY?rY/rX:1;ctx.translate(centp.x,centp.y),ctx.rotate(xAxisRotation),ctx.scale(sx,sy),ctx.arc(0,0,r2,a1,a1+ad,!!(1-sweepFlag)),ctx.scale(1/sx,1/sy),ctx.rotate(-xAxisRotation),ctx.translate(-centp.x,-centp.y)}}static pathZ(pathParser){pathParser.current=pathParser.start}pathZ(ctx,boundingBox){PathElement.pathZ(this.pathParser),ctx&&boundingBox.x1!==boundingBox.x2&&boundingBox.y1!==boundingBox.y2&&ctx.closePath()}}class GlyphElement extends PathElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class TextElement extends RenderedElement{constructor(document2,node2,captureTextNodes){super(document2,node2,new.target===TextElement?!0:captureTextNodes),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(ctx){var fromMeasure=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(ctx,fromMeasure);var textBaseline=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();textBaseline&&(ctx.textBaseline=textBaseline)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(ctx){if(this.type!=="text")return this.getTElementBoundingBox(ctx);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(ctx);var boundingBox=null;return this.children.forEach((_2,i2)=>{var childBoundingBox=this.getChildBoundingBox(ctx,this,this,i2);boundingBox?boundingBox.addBoundingBox(childBoundingBox):boundingBox=childBoundingBox}),boundingBox}getFontSize(){var{document:document2,parent}=this,inheritFontSize=Font.parse(document2.ctx.font).fontSize,fontSize=parent.getStyle("font-size").getNumber(inheritFontSize);return fontSize}getTElementBoundingBox(ctx){var fontSize=this.getFontSize();return new BoundingBox(this.x,this.y-fontSize,this.x+this.measureText(ctx),this.y)}getGlyph(font,text,i2){var char=text[i2],glyph=null;if(font.isArabic){var len=text.length,prevChar=text[i2-1],nextChar=text[i2+1],arabicForm="isolated";if((i2===0||prevChar===" ")&&i2<len-1&&nextChar!==" "&&(arabicForm="terminal"),i2>0&&prevChar!==" "&&i2<len-1&&nextChar!==" "&&(arabicForm="medial"),i2>0&&prevChar!==" "&&(i2===len-1||nextChar===" ")&&(arabicForm="initial"),typeof font.glyphs[char]<"u"){var maybeGlyph=font.glyphs[char];glyph=maybeGlyph instanceof GlyphElement?maybeGlyph:maybeGlyph[arabicForm]}}else glyph=font.glyphs[char];return glyph||(glyph=font.missingGlyph),glyph}getText(){return""}getTextFromNode(node2){var textNode=node2||this.node,childNodes=Array.from(textNode.parentNode.childNodes),index2=childNodes.indexOf(textNode),lastIndex=childNodes.length-1,text=compressSpaces(textNode.textContent||"");return index2===0&&(text=trimLeft(text)),index2===lastIndex&&(text=trimRight(text)),text}renderChildren(ctx){if(this.type!=="text"){this.renderTElementChildren(ctx);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(ctx),this.children.forEach((_2,i2)=>{this.renderChild(ctx,this,this,i2)});var{mouse}=this.document.screen;mouse.isWorking()&&mouse.checkBoundingBox(this,this.getBoundingBox(ctx))}renderTElementChildren(ctx){var{document:document2,parent}=this,renderText=this.getText(),customFont=parent.getStyle("font-family").getDefinition();if(customFont){for(var{unitsPerEm}=customFont.fontFace,ctxFont=Font.parse(document2.ctx.font),fontSize=parent.getStyle("font-size").getNumber(ctxFont.fontSize),fontStyle=parent.getStyle("font-style").getString(ctxFont.fontStyle),scale=fontSize/unitsPerEm,text=customFont.isRTL?renderText.split("").reverse().join(""):renderText,dx=toNumbers(parent.getAttribute("dx").getString()),len=text.length,i2=0;i2<len;i2++){var glyph=this.getGlyph(customFont,text,i2);ctx.translate(this.x,this.y),ctx.scale(scale,-scale);var lw=ctx.lineWidth;ctx.lineWidth=ctx.lineWidth*unitsPerEm/fontSize,fontStyle==="italic"&&ctx.transform(1,0,.4,1,0,0),glyph.render(ctx),fontStyle==="italic"&&ctx.transform(1,0,-.4,1,0,0),ctx.lineWidth=lw,ctx.scale(1/scale,-1/scale),ctx.translate(-this.x,-this.y),this.x+=fontSize*(glyph.horizAdvX||customFont.horizAdvX)/unitsPerEm,typeof dx[i2]<"u"&&!isNaN(dx[i2])&&(this.x+=dx[i2])}return}var{x,y:y2}=this;ctx.fillStyle&&ctx.fillText(renderText,x,y2),ctx.strokeStyle&&ctx.strokeText(renderText,x,y2)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var firstElement=this.leafTexts[this.textChunkStart],textAnchor=firstElement.getStyle("text-anchor").getString("start"),isRTL=!1,shift=0;textAnchor==="start"&&!isRTL||textAnchor==="end"&&isRTL?shift=firstElement.x-this.minX:textAnchor==="end"&&!isRTL||textAnchor==="start"&&isRTL?shift=firstElement.x-this.maxX:shift=firstElement.x-(this.minX+this.maxX)/2;for(var i2=this.textChunkStart;i2<this.leafTexts.length;i2++)this.leafTexts[i2].x+=shift;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(ctx){this.children.forEach((_2,i2)=>{this.adjustChildCoordinatesRecursiveCore(ctx,this,this,i2)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(ctx,textParent,parent,i2){var child=parent.children[i2];child.children.length>0?child.children.forEach((_2,i3)=>{textParent.adjustChildCoordinatesRecursiveCore(ctx,textParent,child,i3)}):this.adjustChildCoordinates(ctx,textParent,parent,i2)}adjustChildCoordinates(ctx,textParent,parent,i2){var child=parent.children[i2];if(typeof child.measureText!="function")return child;ctx.save(),child.setContext(ctx,!0);var xAttr=child.getAttribute("x"),yAttr=child.getAttribute("y"),dxAttr=child.getAttribute("dx"),dyAttr=child.getAttribute("dy"),customFont=child.getStyle("font-family").getDefinition(),isRTL=!!customFont&&customFont.isRTL;i2===0&&(xAttr.hasValue()||xAttr.setValue(child.getInheritedAttribute("x")),yAttr.hasValue()||yAttr.setValue(child.getInheritedAttribute("y")),dxAttr.hasValue()||dxAttr.setValue(child.getInheritedAttribute("dx")),dyAttr.hasValue()||dyAttr.setValue(child.getInheritedAttribute("dy")));var width=child.measureText(ctx);return isRTL&&(textParent.x-=width),xAttr.hasValue()?(textParent.applyAnchoring(),child.x=xAttr.getPixels("x"),dxAttr.hasValue()&&(child.x+=dxAttr.getPixels("x"))):(dxAttr.hasValue()&&(textParent.x+=dxAttr.getPixels("x")),child.x=textParent.x),textParent.x=child.x,isRTL||(textParent.x+=width),yAttr.hasValue()?(child.y=yAttr.getPixels("y"),dyAttr.hasValue()&&(child.y+=dyAttr.getPixels("y"))):(dyAttr.hasValue()&&(textParent.y+=dyAttr.getPixels("y")),child.y=textParent.y),textParent.y=child.y,textParent.leafTexts.push(child),textParent.minX=Math.min(textParent.minX,child.x,child.x+width),textParent.maxX=Math.max(textParent.maxX,child.x,child.x+width),child.clearContext(ctx),ctx.restore(),child}getChildBoundingBox(ctx,textParent,parent,i2){var child=parent.children[i2];if(typeof child.getBoundingBox!="function")return null;var boundingBox=child.getBoundingBox(ctx);return boundingBox?(child.children.forEach((_2,i3)=>{var childBoundingBox=textParent.getChildBoundingBox(ctx,textParent,child,i3);boundingBox.addBoundingBox(childBoundingBox)}),boundingBox):null}renderChild(ctx,textParent,parent,i2){var child=parent.children[i2];child.render(ctx),child.children.forEach((_2,i3)=>{textParent.renderChild(ctx,textParent,child,i3)})}measureText(ctx){var{measureCache}=this;if(~measureCache)return measureCache;var renderText=this.getText(),measure=this.measureTargetText(ctx,renderText);return this.measureCache=measure,measure}measureTargetText(ctx,targetText){if(!targetText.length)return 0;var{parent}=this,customFont=parent.getStyle("font-family").getDefinition();if(customFont){for(var fontSize=this.getFontSize(),text=customFont.isRTL?targetText.split("").reverse().join(""):targetText,dx=toNumbers(parent.getAttribute("dx").getString()),len=text.length,_measure=0,i2=0;i2<len;i2++){var glyph=this.getGlyph(customFont,text,i2);_measure+=(glyph.horizAdvX||customFont.horizAdvX)*fontSize/customFont.fontFace.unitsPerEm,typeof dx[i2]<"u"&&!isNaN(dx[i2])&&(_measure+=dx[i2])}return _measure}if(!ctx.measureText)return targetText.length*10;ctx.save(),this.setContext(ctx,!0);var{width:measure}=ctx.measureText(targetText);return this.clearContext(ctx),ctx.restore(),measure}getInheritedAttribute(name){for(var current=this;current instanceof TextElement&&current.isFirstChild();){var parentAttr=current.parent.getAttribute(name);if(parentAttr.hasValue(!0))return parentAttr.getValue("0");current=current.parent}return null}}class TSpanElement extends TextElement{constructor(document2,node2,captureTextNodes){super(document2,node2,new.target===TSpanElement?!0:captureTextNodes),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class TextNode extends TSpanElement{constructor(){super(...arguments),this.type="textNode"}}class SVGElement extends RenderedElement{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(ctx){var _this$node$parentNode,{document:document2}=this,{screen,window:window2}=document2,canvas=ctx.canvas;if(screen.setDefaults(ctx),canvas.style&&typeof ctx.font<"u"&&window2&&typeof window2.getComputedStyle<"u"){ctx.font=window2.getComputedStyle(canvas).getPropertyValue("font");var fontSizeProp=new Property(document2,"fontSize",Font.parse(ctx.font).fontSize);fontSizeProp.hasValue()&&(document2.rootEmSize=fontSizeProp.getPixels("y"),document2.emSize=document2.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width,height}=screen.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var refXAttr=this.getAttribute("refX"),refYAttr=this.getAttribute("refY"),viewBoxAttr=this.getAttribute("viewBox"),viewBox=viewBoxAttr.hasValue()?toNumbers(viewBoxAttr.getString()):null,clip=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",minX=0,minY=0,clipX=0,clipY=0;viewBox&&(minX=viewBox[0],minY=viewBox[1]),this.root||(width=this.getStyle("width").getPixels("x"),height=this.getStyle("height").getPixels("y"),this.type==="marker"&&(clipX=minX,clipY=minY,minX=0,minY=0)),screen.viewPort.setCurrent(width,height),this.node&&(!this.parent||((_this$node$parentNode=this.node.parentNode)===null||_this$node$parentNode===void 0?void 0:_this$node$parentNode.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(ctx),ctx.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),viewBox&&(width=viewBox[2],height=viewBox[3]),document2.setViewBox({ctx,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:screen.viewPort.width,desiredWidth:width,height:screen.viewPort.height,desiredHeight:height,minX,minY,refX:refXAttr.getValue(),refY:refYAttr.getValue(),clip,clipX,clipY}),viewBox&&(screen.viewPort.removeCurrent(),screen.viewPort.setCurrent(width,height))}clearContext(ctx){super.clearContext(ctx),this.document.screen.viewPort.removeCurrent()}resize(width){var height=arguments.length>1&&arguments[1]!==void 0?arguments[1]:width,preserveAspectRatio=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,widthAttr=this.getAttribute("width",!0),heightAttr=this.getAttribute("height",!0),viewBoxAttr=this.getAttribute("viewBox"),styleAttr=this.getAttribute("style"),originWidth=widthAttr.getNumber(0),originHeight=heightAttr.getNumber(0);if(preserveAspectRatio)if(typeof preserveAspectRatio=="string")this.getAttribute("preserveAspectRatio",!0).setValue(preserveAspectRatio);else{var preserveAspectRatioAttr=this.getAttribute("preserveAspectRatio");preserveAspectRatioAttr.hasValue()&&preserveAspectRatioAttr.setValue(preserveAspectRatioAttr.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(widthAttr.setValue(width),heightAttr.setValue(height),viewBoxAttr.hasValue()||viewBoxAttr.setValue("0 0 ".concat(originWidth||width," ").concat(originHeight||height)),styleAttr.hasValue()){var widthStyle=this.getStyle("width"),heightStyle=this.getStyle("height");widthStyle.hasValue()&&widthStyle.setValue("".concat(width,"px")),heightStyle.hasValue()&&heightStyle.setValue("".concat(height,"px"))}}}class RectElement extends PathElement{constructor(){super(...arguments),this.type="rect"}path(ctx){var x=this.getAttribute("x").getPixels("x"),y2=this.getAttribute("y").getPixels("y"),width=this.getStyle("width",!1,!0).getPixels("x"),height=this.getStyle("height",!1,!0).getPixels("y"),rxAttr=this.getAttribute("rx"),ryAttr=this.getAttribute("ry"),rx=rxAttr.getPixels("x"),ry=ryAttr.getPixels("y");if(rxAttr.hasValue()&&!ryAttr.hasValue()&&(ry=rx),ryAttr.hasValue()&&!rxAttr.hasValue()&&(rx=ry),rx=Math.min(rx,width/2),ry=Math.min(ry,height/2),ctx){var KAPPA=4*((Math.sqrt(2)-1)/3);ctx.beginPath(),height>0&&width>0&&(ctx.moveTo(x+rx,y2),ctx.lineTo(x+width-rx,y2),ctx.bezierCurveTo(x+width-rx+KAPPA*rx,y2,x+width,y2+ry-KAPPA*ry,x+width,y2+ry),ctx.lineTo(x+width,y2+height-ry),ctx.bezierCurveTo(x+width,y2+height-ry+KAPPA*ry,x+width-rx+KAPPA*rx,y2+height,x+width-rx,y2+height),ctx.lineTo(x+rx,y2+height),ctx.bezierCurveTo(x+rx-KAPPA*rx,y2+height,x,y2+height-ry+KAPPA*ry,x,y2+height-ry),ctx.lineTo(x,y2+ry),ctx.bezierCurveTo(x,y2+ry-KAPPA*ry,x+rx-KAPPA*rx,y2,x+rx,y2),ctx.closePath())}return new BoundingBox(x,y2,x+width,y2+height)}getMarkers(){return null}}class CircleElement extends PathElement{constructor(){super(...arguments),this.type="circle"}path(ctx){var cx=this.getAttribute("cx").getPixels("x"),cy=this.getAttribute("cy").getPixels("y"),r2=this.getAttribute("r").getPixels();return ctx&&r2>0&&(ctx.beginPath(),ctx.arc(cx,cy,r2,0,Math.PI*2,!1),ctx.closePath()),new BoundingBox(cx-r2,cy-r2,cx+r2,cy+r2)}getMarkers(){return null}}class EllipseElement extends PathElement{constructor(){super(...arguments),this.type="ellipse"}path(ctx){var KAPPA=4*((Math.sqrt(2)-1)/3),rx=this.getAttribute("rx").getPixels("x"),ry=this.getAttribute("ry").getPixels("y"),cx=this.getAttribute("cx").getPixels("x"),cy=this.getAttribute("cy").getPixels("y");return ctx&&rx>0&&ry>0&&(ctx.beginPath(),ctx.moveTo(cx+rx,cy),ctx.bezierCurveTo(cx+rx,cy+KAPPA*ry,cx+KAPPA*rx,cy+ry,cx,cy+ry),ctx.bezierCurveTo(cx-KAPPA*rx,cy+ry,cx-rx,cy+KAPPA*ry,cx-rx,cy),ctx.bezierCurveTo(cx-rx,cy-KAPPA*ry,cx-KAPPA*rx,cy-ry,cx,cy-ry),ctx.bezierCurveTo(cx+KAPPA*rx,cy-ry,cx+rx,cy-KAPPA*ry,cx+rx,cy),ctx.closePath()),new BoundingBox(cx-rx,cy-ry,cx+rx,cy+ry)}getMarkers(){return null}}class LineElement extends PathElement{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Point(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Point(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(ctx){var[{x:x0,y:y0},{x:x1,y:y1}]=this.getPoints();return ctx&&(ctx.beginPath(),ctx.moveTo(x0,y0),ctx.lineTo(x1,y1)),new BoundingBox(x0,y0,x1,y1)}getMarkers(){var[p0,p1]=this.getPoints(),a2=p0.angleTo(p1);return[[p0,a2],[p1,a2]]}}class PolylineElement extends PathElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="polyline",this.points=[],this.points=Point.parsePath(this.getAttribute("points").getString())}path(ctx){var{points}=this,[{x:x0,y:y0}]=points,boundingBox=new BoundingBox(x0,y0);return ctx&&(ctx.beginPath(),ctx.moveTo(x0,y0)),points.forEach(_ref=>{var{x,y:y2}=_ref;boundingBox.addPoint(x,y2),ctx&&ctx.lineTo(x,y2)}),boundingBox}getMarkers(){var{points}=this,lastIndex=points.length-1,markers=[];return points.forEach((point,i2)=>{i2!==lastIndex&&markers.push([point,point.angleTo(points[i2+1])])}),markers.length>0&&markers.push([points[points.length-1],markers[markers.length-1][1]]),markers}}class PolygonElement extends PolylineElement{constructor(){super(...arguments),this.type="polygon"}path(ctx){var boundingBox=super.path(ctx),[{x,y:y2}]=this.points;return ctx&&(ctx.lineTo(x,y2),ctx.closePath()),boundingBox}}class PatternElement extends Element{constructor(){super(...arguments),this.type="pattern"}createPattern(ctx,_2,parentOpacityProp){var width=this.getStyle("width").getPixels("x",!0),height=this.getStyle("height").getPixels("y",!0),patternSvg=new SVGElement(this.document,null);patternSvg.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),patternSvg.attributes.width=new Property(this.document,"width","".concat(width,"px")),patternSvg.attributes.height=new Property(this.document,"height","".concat(height,"px")),patternSvg.attributes.transform=new Property(this.document,"transform",this.getAttribute("patternTransform").getValue()),patternSvg.children=this.children;var patternCanvas=this.document.createCanvas(width,height),patternCtx=patternCanvas.getContext("2d"),xAttr=this.getAttribute("x"),yAttr=this.getAttribute("y");xAttr.hasValue()&&yAttr.hasValue()&&patternCtx.translate(xAttr.getPixels("x",!0),yAttr.getPixels("y",!0)),parentOpacityProp.hasValue()?this.styles["fill-opacity"]=parentOpacityProp:Reflect.deleteProperty(this.styles,"fill-opacity");for(var x=-1;x<=1;x++)for(var y2=-1;y2<=1;y2++)patternCtx.save(),patternSvg.attributes.x=new Property(this.document,"x",x*patternCanvas.width),patternSvg.attributes.y=new Property(this.document,"y",y2*patternCanvas.height),patternSvg.render(patternCtx),patternCtx.restore();var pattern=ctx.createPattern(patternCanvas,"repeat");return pattern}}class MarkerElement extends Element{constructor(){super(...arguments),this.type="marker"}render(ctx,point,angle){if(point){var{x,y:y2}=point,orient=this.getAttribute("orient").getString("auto"),markerUnits=this.getAttribute("markerUnits").getString("strokeWidth");ctx.translate(x,y2),orient==="auto"&&ctx.rotate(angle),markerUnits==="strokeWidth"&&ctx.scale(ctx.lineWidth,ctx.lineWidth),ctx.save();var markerSvg=new SVGElement(this.document,null);markerSvg.type=this.type,markerSvg.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),markerSvg.attributes.refX=new Property(this.document,"refX",this.getAttribute("refX").getValue()),markerSvg.attributes.refY=new Property(this.document,"refY",this.getAttribute("refY").getValue()),markerSvg.attributes.width=new Property(this.document,"width",this.getAttribute("markerWidth").getValue()),markerSvg.attributes.height=new Property(this.document,"height",this.getAttribute("markerHeight").getValue()),markerSvg.attributes.overflow=new Property(this.document,"overflow",this.getAttribute("overflow").getValue()),markerSvg.attributes.fill=new Property(this.document,"fill",this.getAttribute("fill").getColor("black")),markerSvg.attributes.stroke=new Property(this.document,"stroke",this.getAttribute("stroke").getValue("none")),markerSvg.children=this.children,markerSvg.render(ctx),ctx.restore(),markerUnits==="strokeWidth"&&ctx.scale(1/ctx.lineWidth,1/ctx.lineWidth),orient==="auto"&&ctx.rotate(-angle),ctx.translate(-x,-y2)}}}class DefsElement extends Element{constructor(){super(...arguments),this.type="defs"}render(){}}class GElement extends RenderedElement{constructor(){super(...arguments),this.type="g"}getBoundingBox(ctx){var boundingBox=new BoundingBox;return this.children.forEach(child=>{boundingBox.addBoundingBox(child.getBoundingBox(ctx))}),boundingBox}}class GradientElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops,children}=this;children.forEach(child=>{child.type==="stop"&&stops.push(child)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(ctx,element,parentOpacityProp){var stopsContainer=this;this.getHrefAttribute().hasValue()&&(stopsContainer=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(stopsContainer));var{stops}=stopsContainer,gradient=this.getGradient(ctx,element);if(!gradient)return this.addParentOpacity(parentOpacityProp,stops[stops.length-1].color);if(stops.forEach(stop=>{gradient.addColorStop(stop.offset,this.addParentOpacity(parentOpacityProp,stop.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:document2}=this,{MAX_VIRTUAL_PIXELS,viewPort}=document2.screen,[rootView]=viewPort.viewPorts,rect=new RectElement(document2,null);rect.attributes.x=new Property(document2,"x",-MAX_VIRTUAL_PIXELS/3),rect.attributes.y=new Property(document2,"y",-MAX_VIRTUAL_PIXELS/3),rect.attributes.width=new Property(document2,"width",MAX_VIRTUAL_PIXELS),rect.attributes.height=new Property(document2,"height",MAX_VIRTUAL_PIXELS);var group=new GElement(document2,null);group.attributes.transform=new Property(document2,"transform",this.getAttribute("gradientTransform").getValue()),group.children=[rect];var patternSvg=new SVGElement(document2,null);patternSvg.attributes.x=new Property(document2,"x",0),patternSvg.attributes.y=new Property(document2,"y",0),patternSvg.attributes.width=new Property(document2,"width",rootView.width),patternSvg.attributes.height=new Property(document2,"height",rootView.height),patternSvg.children=[group];var patternCanvas=document2.createCanvas(rootView.width,rootView.height),patternCtx=patternCanvas.getContext("2d");return patternCtx.fillStyle=gradient,patternSvg.render(patternCtx),patternCtx.createPattern(patternCanvas,"no-repeat")}return gradient}inheritStopContainer(stopsContainer){this.attributesToInherit.forEach(attributeToInherit=>{!this.getAttribute(attributeToInherit).hasValue()&&stopsContainer.getAttribute(attributeToInherit).hasValue()&&this.getAttribute(attributeToInherit,!0).setValue(stopsContainer.getAttribute(attributeToInherit).getValue())})}addParentOpacity(parentOpacityProp,color){if(parentOpacityProp.hasValue()){var colorProp=new Property(this.document,"color",color);return colorProp.addOpacity(parentOpacityProp).getColor()}return color}}class LinearGradientElement extends GradientElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(ctx,element){var isBoundingBoxUnits=this.getGradientUnits()==="objectBoundingBox",boundingBox=isBoundingBoxUnits?element.getBoundingBox(ctx):null;if(isBoundingBoxUnits&&!boundingBox)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var x1=isBoundingBoxUnits?boundingBox.x+boundingBox.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),y1=isBoundingBoxUnits?boundingBox.y+boundingBox.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),x2=isBoundingBoxUnits?boundingBox.x+boundingBox.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),y2=isBoundingBoxUnits?boundingBox.y+boundingBox.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return x1===x2&&y1===y2?null:ctx.createLinearGradient(x1,y1,x2,y2)}}class RadialGradientElement extends GradientElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(ctx,element){var isBoundingBoxUnits=this.getGradientUnits()==="objectBoundingBox",boundingBox=element.getBoundingBox(ctx);if(isBoundingBoxUnits&&!boundingBox)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var cx=isBoundingBoxUnits?boundingBox.x+boundingBox.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),cy=isBoundingBoxUnits?boundingBox.y+boundingBox.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),fx=cx,fy=cy;this.getAttribute("fx").hasValue()&&(fx=isBoundingBoxUnits?boundingBox.x+boundingBox.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(fy=isBoundingBoxUnits?boundingBox.y+boundingBox.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var r2=isBoundingBoxUnits?(boundingBox.width+boundingBox.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),fr=this.getAttribute("fr").getPixels();return ctx.createRadialGradient(fx,fy,fr,cx,cy,r2)}}class StopElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="stop";var offset=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),stopOpacity=this.getStyle("stop-opacity"),stopColor=this.getStyle("stop-color",!0);stopColor.getString()===""&&stopColor.setValue("#000"),stopOpacity.hasValue()&&(stopColor=stopColor.addOpacity(stopOpacity)),this.offset=offset,this.color=stopColor.getColor()}}class AnimateElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,document2.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Property(document2,"values",null);var valuesAttr=this.getAttribute("values");valuesAttr.hasValue()&&this.values.setValue(valuesAttr.getString().split(";"))}getProperty(){var attributeType=this.getAttribute("attributeType").getString(),attributeName=this.getAttribute("attributeName").getString();return attributeType==="CSS"?this.parent.getStyle(attributeName,!0):this.parent.getAttribute(attributeName,!0)}calcValue(){var{initialUnits}=this,{progress,from,to}=this.getProgress(),newValue=from.getNumber()+(to.getNumber()-from.getNumber())*progress;return initialUnits==="%"&&(newValue*=100),"".concat(newValue).concat(initialUnits)}update(delta){var{parent}=this,prop=this.getProperty();if(this.initialValue||(this.initialValue=prop.getString(),this.initialUnits=prop.getUnits()),this.duration>this.maxDuration){var fill=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(fill==="freeze"&&!this.frozen)this.frozen=!0,parent.animationFrozen=!0,parent.animationFrozenValue=prop.getString();else if(fill==="remove"&&!this.removed)return this.removed=!0,prop.setValue(parent.animationFrozen?parent.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=delta;var updated=!1;if(this.begin<this.duration){var newValue=this.calcValue(),typeAttr=this.getAttribute("type");if(typeAttr.hasValue()){var type=typeAttr.getString();newValue="".concat(type,"(").concat(newValue,")")}prop.setValue(newValue),updated=!0}return updated}getProgress(){var{document:document2,values}=this,result={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(values.hasValue()){var p2=result.progress*(values.getValue().length-1),lb=Math.floor(p2),ub=Math.ceil(p2);result.from=new Property(document2,"from",parseFloat(values.getValue()[lb])),result.to=new Property(document2,"to",parseFloat(values.getValue()[ub])),result.progress=(p2-lb)/(ub-lb)}else result.from=this.from,result.to=this.to;return result}}class AnimateColorElement extends AnimateElement{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress,from,to}=this.getProgress(),colorFrom=new RGBColor$1(from.getColor()),colorTo=new RGBColor$1(to.getColor());if(colorFrom.ok&&colorTo.ok){var r2=colorFrom.r+(colorTo.r-colorFrom.r)*progress,g=colorFrom.g+(colorTo.g-colorFrom.g)*progress,b=colorFrom.b+(colorTo.b-colorFrom.b)*progress;return"rgb(".concat(Math.floor(r2),", ").concat(Math.floor(g),", ").concat(Math.floor(b),")")}return this.getAttribute("from").getColor()}}class AnimateTransformElement extends AnimateElement{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress,from,to}=this.getProgress(),transformFrom=toNumbers(from.getString()),transformTo=toNumbers(to.getString()),newValue=transformFrom.map((from2,i2)=>{var to2=transformTo[i2];return from2+(to2-from2)*progress}).join(" ");return newValue}}class FontElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions}=document2,{children}=this;for(var child of children)switch(child.type){case"font-face":{this.fontFace=child;var fontFamilyStyle=child.getStyle("font-family");fontFamilyStyle.hasValue()&&(definitions[fontFamilyStyle.getString()]=this);break}case"missing-glyph":this.missingGlyph=child;break;case"glyph":{var glyph=child;glyph.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[glyph.unicode]>"u"&&(this.glyphs[glyph.unicode]=Object.create(null)),this.glyphs[glyph.unicode][glyph.arabicForm]=glyph):this.glyphs[glyph.unicode]=glyph;break}}}render(){}}class FontFaceElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class MissingGlyphElement extends PathElement{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class TRefElement extends TextElement{constructor(){super(...arguments),this.type="tref"}getText(){var element=this.getHrefAttribute().getDefinition();if(element){var firstChild=element.children[0];if(firstChild)return firstChild.getText()}return""}}class AElement extends TextElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="a";var{childNodes}=node2,firstChild=childNodes[0],hasText=childNodes.length>0&&Array.from(childNodes).every(node3=>node3.nodeType===3);this.hasText=hasText,this.text=hasText?this.getTextFromNode(firstChild):""}getText(){return this.text}renderChildren(ctx){if(this.hasText){super.renderChildren(ctx);var{document:document2,x,y:y2}=this,{mouse}=document2.screen,fontSize=new Property(document2,"fontSize",Font.parse(document2.ctx.font).fontSize);mouse.isWorking()&&mouse.checkBoundingBox(this,new BoundingBox(x,y2-fontSize.getPixels("y"),x+this.measureText(ctx),y2))}else if(this.children.length>0){var g=new GElement(this.document,null);g.children=this.children,g.parent=this,g.render(ctx)}}onClick(){var{window:window2}=this.document;window2&&window2.open(this.getHrefAttribute().getString())}onMouseMove(){var ctx=this.document.ctx;ctx.canvas.style.cursor="pointer"}}function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2]!=null?arguments[i2]:{};i2%2?ownKeys$2(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}class TextPathElement extends TextElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var pathElement=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(pathElement)}getText(){return this.text}path(ctx){var{dataArray}=this;ctx&&ctx.beginPath(),dataArray.forEach(_ref=>{var{type,points}=_ref;switch(type){case PathParser.LINE_TO:ctx&&ctx.lineTo(points[0],points[1]);break;case PathParser.MOVE_TO:ctx&&ctx.moveTo(points[0],points[1]);break;case PathParser.CURVE_TO:ctx&&ctx.bezierCurveTo(points[0],points[1],points[2],points[3],points[4],points[5]);break;case PathParser.QUAD_TO:ctx&&ctx.quadraticCurveTo(points[0],points[1],points[2],points[3]);break;case PathParser.ARC:{var[cx,cy,rx,ry,theta,dTheta,psi,fs]=points,r2=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;ctx&&(ctx.translate(cx,cy),ctx.rotate(psi),ctx.scale(scaleX,scaleY),ctx.arc(0,0,r2,theta,theta+dTheta,!!(1-fs)),ctx.scale(1/scaleX,1/scaleY),ctx.rotate(-psi),ctx.translate(-cx,-cy));break}case PathParser.CLOSE_PATH:ctx&&ctx.closePath();break}})}renderChildren(ctx){this.setTextData(ctx),ctx.save();var textDecoration=this.parent.getStyle("text-decoration").getString(),fontSize=this.getFontSize(),{glyphInfo}=this,fill=ctx.fillStyle;textDecoration==="underline"&&ctx.beginPath(),glyphInfo.forEach((glyph,i2)=>{var{p0,p1,rotation,text:partialText}=glyph;ctx.save(),ctx.translate(p0.x,p0.y),ctx.rotate(rotation),ctx.fillStyle&&ctx.fillText(partialText,0,0),ctx.strokeStyle&&ctx.strokeText(partialText,0,0),ctx.restore(),textDecoration==="underline"&&(i2===0&&ctx.moveTo(p0.x,p0.y+fontSize/8),ctx.lineTo(p1.x,p1.y+fontSize/5))}),textDecoration==="underline"&&(ctx.lineWidth=fontSize/20,ctx.strokeStyle=fill,ctx.stroke(),ctx.closePath()),ctx.restore()}getLetterSpacingAt(){var idx=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[idx]||0}findSegmentToFitChar(ctx,anchor,textFullWidth,fullPathWidth,spacesNumber,inputOffset,dy,c2,charI){var offset=inputOffset,glyphWidth=this.measureText(ctx,c2);c2===" "&&anchor==="justify"&&textFullWidth<fullPathWidth&&(glyphWidth+=(fullPathWidth-textFullWidth)/spacesNumber),charI>-1&&(offset+=this.getLetterSpacingAt(charI));var splineStep=this.textHeight/20,p0=this.getEquidistantPointOnPath(offset,splineStep,0),p1=this.getEquidistantPointOnPath(offset+glyphWidth,splineStep,0),segment={p0,p1},rotation=p0&&p1?Math.atan2(p1.y-p0.y,p1.x-p0.x):0;if(dy){var dyX=Math.cos(Math.PI/2+rotation)*dy,dyY=Math.cos(-rotation)*dy;segment.p0=_objectSpread$2(_objectSpread$2({},p0),{},{x:p0.x+dyX,y:p0.y+dyY}),segment.p1=_objectSpread$2(_objectSpread$2({},p1),{},{x:p1.x+dyX,y:p1.y+dyY})}return offset+=glyphWidth,{offset,segment,rotation}}measureText(ctx,text){var{measuresCache}=this,targetText=text||this.getText();if(measuresCache.has(targetText))return measuresCache.get(targetText);var measure=this.measureTargetText(ctx,targetText);return measuresCache.set(targetText,measure),measure}setTextData(ctx){if(!this.glyphInfo){var renderText=this.getText(),chars=renderText.split(""),spacesNumber=renderText.split(" ").length-1,dx=this.parent.getAttribute("dx").split().map(_2=>_2.getPixels("x")),dy=this.parent.getAttribute("dy").getPixels("y"),anchor=this.parent.getStyle("text-anchor").getString("start"),thisSpacing=this.getStyle("letter-spacing"),parentSpacing=this.parent.getStyle("letter-spacing"),letterSpacing=0;!thisSpacing.hasValue()||thisSpacing.getValue()==="inherit"?letterSpacing=parentSpacing.getPixels():thisSpacing.hasValue()&&thisSpacing.getValue()!=="initial"&&thisSpacing.getValue()!=="unset"&&(letterSpacing=thisSpacing.getPixels());var letterSpacingCache=[],textLen=renderText.length;this.letterSpacingCache=letterSpacingCache;for(var i2=0;i2<textLen;i2++)letterSpacingCache.push(typeof dx[i2]<"u"?dx[i2]:letterSpacing);var dxSum=letterSpacingCache.reduce((acc,cur,i3)=>i3===0?0:acc+cur||0,0),textWidth=this.measureText(ctx),textFullWidth=Math.max(textWidth+dxSum,0);this.textWidth=textWidth,this.textHeight=this.getFontSize(),this.glyphInfo=[];var fullPathWidth=this.getPathLength(),startOffset=this.getStyle("startOffset").getNumber(0)*fullPathWidth,offset=0;(anchor==="middle"||anchor==="center")&&(offset=-textFullWidth/2),(anchor==="end"||anchor==="right")&&(offset=-textFullWidth),offset+=startOffset,chars.forEach((char,i3)=>{var{offset:nextOffset,segment,rotation}=this.findSegmentToFitChar(ctx,anchor,textFullWidth,fullPathWidth,spacesNumber,offset,dy,char,i3);offset=nextOffset,!(!segment.p0||!segment.p1)&&this.glyphInfo.push({text:chars[i3],p0:segment.p0,p1:segment.p1,rotation})})}}parsePathData(path2){if(this.pathLength=-1,!path2)return[];var pathCommands=[],{pathParser}=path2;for(pathParser.reset();!pathParser.isEnd();){var{current}=pathParser,startX=current?current.x:0,startY=current?current.y:0,command=pathParser.next(),nextCommandType=command.type,points=[];switch(command.type){case PathParser.MOVE_TO:this.pathM(pathParser,points);break;case PathParser.LINE_TO:nextCommandType=this.pathL(pathParser,points);break;case PathParser.HORIZ_LINE_TO:nextCommandType=this.pathH(pathParser,points);break;case PathParser.VERT_LINE_TO:nextCommandType=this.pathV(pathParser,points);break;case PathParser.CURVE_TO:this.pathC(pathParser,points);break;case PathParser.SMOOTH_CURVE_TO:nextCommandType=this.pathS(pathParser,points);break;case PathParser.QUAD_TO:this.pathQ(pathParser,points);break;case PathParser.SMOOTH_QUAD_TO:nextCommandType=this.pathT(pathParser,points);break;case PathParser.ARC:points=this.pathA(pathParser);break;case PathParser.CLOSE_PATH:PathElement.pathZ(pathParser);break}command.type!==PathParser.CLOSE_PATH?pathCommands.push({type:nextCommandType,points,start:{x:startX,y:startY},pathLength:this.calcLength(startX,startY,nextCommandType,points)}):pathCommands.push({type:PathParser.CLOSE_PATH,points:[],pathLength:0})}return pathCommands}pathM(pathParser,points){var{x,y:y2}=PathElement.pathM(pathParser).point;points.push(x,y2)}pathL(pathParser,points){var{x,y:y2}=PathElement.pathL(pathParser).point;return points.push(x,y2),PathParser.LINE_TO}pathH(pathParser,points){var{x,y:y2}=PathElement.pathH(pathParser).point;return points.push(x,y2),PathParser.LINE_TO}pathV(pathParser,points){var{x,y:y2}=PathElement.pathV(pathParser).point;return points.push(x,y2),PathParser.LINE_TO}pathC(pathParser,points){var{point,controlPoint,currentPoint}=PathElement.pathC(pathParser);points.push(point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}pathS(pathParser,points){var{point,controlPoint,currentPoint}=PathElement.pathS(pathParser);return points.push(point.x,point.y,controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),PathParser.CURVE_TO}pathQ(pathParser,points){var{controlPoint,currentPoint}=PathElement.pathQ(pathParser);points.push(controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y)}pathT(pathParser,points){var{controlPoint,currentPoint}=PathElement.pathT(pathParser);return points.push(controlPoint.x,controlPoint.y,currentPoint.x,currentPoint.y),PathParser.QUAD_TO}pathA(pathParser){var{rX,rY,sweepFlag,xAxisRotation,centp,a1,ad}=PathElement.pathA(pathParser);return sweepFlag===0&&ad>0&&(ad-=2*Math.PI),sweepFlag===1&&ad<0&&(ad+=2*Math.PI),[centp.x,centp.y,rX,rY,a1,ad,xAxisRotation,sweepFlag]}calcLength(x,y2,commandType,points){var len=0,p1=null,p2=null,t2=0;switch(commandType){case PathParser.LINE_TO:return this.getLineLength(x,y2,points[0],points[1]);case PathParser.CURVE_TO:for(len=0,p1=this.getPointOnCubicBezier(0,x,y2,points[0],points[1],points[2],points[3],points[4],points[5]),t2=.01;t2<=1;t2+=.01)p2=this.getPointOnCubicBezier(t2,x,y2,points[0],points[1],points[2],points[3],points[4],points[5]),len+=this.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;return len;case PathParser.QUAD_TO:for(len=0,p1=this.getPointOnQuadraticBezier(0,x,y2,points[0],points[1],points[2],points[3]),t2=.01;t2<=1;t2+=.01)p2=this.getPointOnQuadraticBezier(t2,x,y2,points[0],points[1],points[2],points[3]),len+=this.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;return len;case PathParser.ARC:{len=0;var start=points[4],dTheta=points[5],end=points[4]+dTheta,inc=Math.PI/180;if(Math.abs(start-end)<inc&&(inc=Math.abs(start-end)),p1=this.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],start,0),dTheta<0)for(t2=start-inc;t2>end;t2-=inc)p2=this.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],t2,0),len+=this.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;else for(t2=start+inc;t2<end;t2+=inc)p2=this.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],t2,0),len+=this.getLineLength(p1.x,p1.y,p2.x,p2.y),p1=p2;return p2=this.getPointOnEllipticalArc(points[0],points[1],points[2],points[3],end,0),len+=this.getLineLength(p1.x,p1.y,p2.x,p2.y),len}}return 0}getPointOnLine(dist,p1x,p1y,p2x,p2y){var fromX=arguments.length>5&&arguments[5]!==void 0?arguments[5]:p1x,fromY=arguments.length>6&&arguments[6]!==void 0?arguments[6]:p1y,m2=(p2y-p1y)/(p2x-p1x+PSEUDO_ZERO),run=Math.sqrt(dist*dist/(1+m2*m2));p2x<p1x&&(run*=-1);var rise=m2*run,pt=null;if(p2x===p1x)pt={x:fromX,y:fromY+rise};else if((fromY-p1y)/(fromX-p1x+PSEUDO_ZERO)===m2)pt={x:fromX+run,y:fromY+rise};else{var ix=0,iy=0,len=this.getLineLength(p1x,p1y,p2x,p2y);if(len<PSEUDO_ZERO)return null;var u2=(fromX-p1x)*(p2x-p1x)+(fromY-p1y)*(p2y-p1y);u2/=len*len,ix=p1x+u2*(p2x-p1x),iy=p1y+u2*(p2y-p1y);var pRise=this.getLineLength(fromX,fromY,ix,iy),pRun=Math.sqrt(dist*dist-pRise*pRise);run=Math.sqrt(pRun*pRun/(1+m2*m2)),p2x<p1x&&(run*=-1),rise=m2*run,pt={x:ix+run,y:iy+rise}}return pt}getPointOnPath(distance){var fullLen=this.getPathLength(),cumulativePathLength=0,p2=null;if(distance<-5e-5||distance-5e-5>fullLen)return null;var{dataArray}=this;for(var command of dataArray){if(command&&(command.pathLength<5e-5||cumulativePathLength+command.pathLength+5e-5<distance)){cumulativePathLength+=command.pathLength;continue}var delta=distance-cumulativePathLength,currentT=0;switch(command.type){case PathParser.LINE_TO:p2=this.getPointOnLine(delta,command.start.x,command.start.y,command.points[0],command.points[1],command.start.x,command.start.y);break;case PathParser.ARC:{var start=command.points[4],dTheta=command.points[5],end=command.points[4]+dTheta;if(currentT=start+delta/command.pathLength*dTheta,dTheta<0&&currentT<end||dTheta>=0&&currentT>end)break;p2=this.getPointOnEllipticalArc(command.points[0],command.points[1],command.points[2],command.points[3],currentT,command.points[6]);break}case PathParser.CURVE_TO:currentT=delta/command.pathLength,currentT>1&&(currentT=1),p2=this.getPointOnCubicBezier(currentT,command.start.x,command.start.y,command.points[0],command.points[1],command.points[2],command.points[3],command.points[4],command.points[5]);break;case PathParser.QUAD_TO:currentT=delta/command.pathLength,currentT>1&&(currentT=1),p2=this.getPointOnQuadraticBezier(currentT,command.start.x,command.start.y,command.points[0],command.points[1],command.points[2],command.points[3]);break}if(p2)return p2;break}return null}getLineLength(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((length,command)=>command.pathLength>0?length+command.pathLength:length,0)),this.pathLength}getPointOnCubicBezier(pct,p1x,p1y,p2x,p2y,p3x,p3y,p4x,p4y){var x=p4x*CB1(pct)+p3x*CB2(pct)+p2x*CB3(pct)+p1x*CB4(pct),y2=p4y*CB1(pct)+p3y*CB2(pct)+p2y*CB3(pct)+p1y*CB4(pct);return{x,y:y2}}getPointOnQuadraticBezier(pct,p1x,p1y,p2x,p2y,p3x,p3y){var x=p3x*QB1(pct)+p2x*QB2(pct)+p1x*QB3(pct),y2=p3y*QB1(pct)+p2y*QB2(pct)+p1y*QB3(pct);return{x,y:y2}}getPointOnEllipticalArc(cx,cy,rx,ry,theta,psi){var cosPsi=Math.cos(psi),sinPsi=Math.sin(psi),pt={x:rx*Math.cos(theta),y:ry*Math.sin(theta)};return{x:cx+(pt.x*cosPsi-pt.y*sinPsi),y:cy+(pt.x*sinPsi+pt.y*cosPsi)}}buildEquidistantCache(inputStep,inputPrecision){var fullLen=this.getPathLength(),precision=inputPrecision||.25,step=inputStep||fullLen/100;if(!this.equidistantCache||this.equidistantCache.step!==step||this.equidistantCache.precision!==precision){this.equidistantCache={step,precision,points:[]};for(var s2=0,l2=0;l2<=fullLen;l2+=precision){var p0=this.getPointOnPath(l2),p1=this.getPointOnPath(l2+precision);!p0||!p1||(s2+=this.getLineLength(p0.x,p0.y,p1.x,p1.y),s2>=step&&(this.equidistantCache.points.push({x:p0.x,y:p0.y,distance:l2}),s2-=step))}}}getEquidistantPointOnPath(targetDistance,step,precision){if(this.buildEquidistantCache(step,precision),targetDistance<0||targetDistance-this.getPathLength()>5e-5)return null;var idx=Math.round(targetDistance/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[idx]||null}}var dataUriRegex=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ImageElement extends RenderedElement{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="image",this.loaded=!1;var href=this.getHrefAttribute().getString();if(href){var isSvg=href.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(href);document2.images.push(this),isSvg?this.loadSvg(href):this.loadImage(href),this.isSvg=isSvg}}loadImage(href){var _this=this;return _asyncToGenerator(function*(){try{var image=yield _this.document.createImage(href);_this.image=image}catch(err){console.error('Error while loading image "'.concat(href,'":'),err)}_this.loaded=!0})()}loadSvg(href){var _this2=this;return _asyncToGenerator(function*(){var match=dataUriRegex.exec(href);if(match){var data=match[5];match[4]==="base64"?_this2.image=atob(data):_this2.image=decodeURIComponent(data)}else try{var response=yield _this2.document.fetch(href),svg=yield response.text();_this2.image=svg}catch(err){console.error('Error while loading image "'.concat(href,'":'),err)}_this2.loaded=!0})()}renderChildren(ctx){var{document:document2,image,loaded}=this,x=this.getAttribute("x").getPixels("x"),y2=this.getAttribute("y").getPixels("y"),width=this.getStyle("width").getPixels("x"),height=this.getStyle("height").getPixels("y");if(!(!loaded||!image||!width||!height)){if(ctx.save(),ctx.translate(x,y2),this.isSvg){var subDocument=document2.canvg.forkString(ctx,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:width,scaleHeight:height});subDocument.document.documentElement.parent=this,subDocument.render()}else{var _image=this.image;document2.setViewBox({ctx,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width,desiredWidth:_image.width,height,desiredHeight:_image.height}),this.loaded&&(typeof _image.complete>"u"||_image.complete)&&ctx.drawImage(_image,0,0)}ctx.restore()}}getBoundingBox(){var x=this.getAttribute("x").getPixels("x"),y2=this.getAttribute("y").getPixels("y"),width=this.getStyle("width").getPixels("x"),height=this.getStyle("height").getPixels("y");return new BoundingBox(x,y2,x+width,y2+height)}}class SymbolElement extends RenderedElement{constructor(){super(...arguments),this.type="symbol"}render(_2){}}class SVGFontLoader{constructor(document2){this.document=document2,this.loaded=!1,document2.fonts.push(this)}load(fontFamily,url){var _this=this;return _asyncToGenerator(function*(){try{var{document:document2}=_this,svgDocument=yield document2.canvg.parser.load(url),fonts=svgDocument.getElementsByTagName("font");Array.from(fonts).forEach(fontNode=>{var font=document2.createElement(fontNode);document2.definitions[fontFamily]=font})}catch(err){console.error('Error while loading font "'.concat(url,'":'),err)}_this.loaded=!0})()}}class StyleElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="style";var css=compressSpaces(Array.from(node2.childNodes).map(_2=>_2.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),cssDefs=css.split("}");cssDefs.forEach(_2=>{var def=_2.trim();if(def){var cssParts=def.split("{"),cssClasses=cssParts[0].split(","),cssProps=cssParts[1].split(";");cssClasses.forEach(_3=>{var cssClass=_3.trim();if(cssClass){var props=document2.styles[cssClass]||{};if(cssProps.forEach(cssProp=>{var prop=cssProp.indexOf(":"),name=cssProp.substr(0,prop).trim(),value=cssProp.substr(prop+1,cssProp.length-prop).trim();name&&value&&(props[name]=new Property(document2,name,value))}),document2.styles[cssClass]=props,document2.stylesSpecificity[cssClass]=getSelectorSpecificity(cssClass),cssClass==="@font-face"){var fontFamily=props["font-family"].getString().replace(/"|'/g,""),srcs=props.src.getString().split(",");srcs.forEach(src=>{if(src.indexOf('format("svg")')>0){var url=parseExternalUrl(src);url&&new SVGFontLoader(document2).load(fontFamily,url)}})}}})}})}}StyleElement.parseExternalUrl=parseExternalUrl;class UseElement extends RenderedElement{constructor(){super(...arguments),this.type="use"}setContext(ctx){super.setContext(ctx);var xAttr=this.getAttribute("x"),yAttr=this.getAttribute("y");xAttr.hasValue()&&ctx.translate(xAttr.getPixels("x"),0),yAttr.hasValue()&&ctx.translate(0,yAttr.getPixels("y"))}path(ctx){var{element}=this;element&&element.path(ctx)}renderChildren(ctx){var{document:document2,element}=this;if(element){var tempSvg=element;if(element.type==="symbol"&&(tempSvg=new SVGElement(document2,null),tempSvg.attributes.viewBox=new Property(document2,"viewBox",element.getAttribute("viewBox").getString()),tempSvg.attributes.preserveAspectRatio=new Property(document2,"preserveAspectRatio",element.getAttribute("preserveAspectRatio").getString()),tempSvg.attributes.overflow=new Property(document2,"overflow",element.getAttribute("overflow").getString()),tempSvg.children=element.children,element.styles.opacity=new Property(document2,"opacity",this.calculateOpacity())),tempSvg.type==="svg"){var widthStyle=this.getStyle("width",!1,!0),heightStyle=this.getStyle("height",!1,!0);widthStyle.hasValue()&&(tempSvg.attributes.width=new Property(document2,"width",widthStyle.getString())),heightStyle.hasValue()&&(tempSvg.attributes.height=new Property(document2,"height",heightStyle.getString()))}var oldParent=tempSvg.parent;tempSvg.parent=this,tempSvg.render(ctx),tempSvg.parent=oldParent}}getBoundingBox(ctx){var{element}=this;return element?element.getBoundingBox(ctx):null}elementTransform(){var{document:document2,element}=this;return Transform.fromElement(document2,element)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function imGet(img,x,y2,width,_height,rgba){return img[y2*width*4+x*4+rgba]}function imSet(img,x,y2,width,_height,rgba,val){img[y2*width*4+x*4+rgba]=val}function m(matrix,i2,v2){var mi=matrix[i2];return mi*v2}function c(a2,m1,m2,m3){return m1+Math.cos(a2)*m2+Math.sin(a2)*m3}class FeColorMatrixElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="feColorMatrix";var matrix=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var s2=matrix[0];matrix=[.213+.787*s2,.715-.715*s2,.072-.072*s2,0,0,.213-.213*s2,.715+.285*s2,.072-.072*s2,0,0,.213-.213*s2,.715-.715*s2,.072+.928*s2,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var a2=matrix[0]*Math.PI/180;matrix=[c(a2,.213,.787,-.213),c(a2,.715,-.715,-.715),c(a2,.072,-.072,.928),0,0,c(a2,.213,-.213,.143),c(a2,.715,.285,.14),c(a2,.072,-.072,-.283),0,0,c(a2,.213,-.213,-.787),c(a2,.715,-.715,.715),c(a2,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":matrix=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=matrix,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(ctx,_x,_y,width,height){for(var{includeOpacity,matrix}=this,srcData=ctx.getImageData(0,0,width,height),y2=0;y2<height;y2++)for(var x=0;x<width;x++){var r2=imGet(srcData.data,x,y2,width,height,0),g=imGet(srcData.data,x,y2,width,height,1),b=imGet(srcData.data,x,y2,width,height,2),a2=imGet(srcData.data,x,y2,width,height,3),nr=m(matrix,0,r2)+m(matrix,1,g)+m(matrix,2,b)+m(matrix,3,a2)+m(matrix,4,1),ng=m(matrix,5,r2)+m(matrix,6,g)+m(matrix,7,b)+m(matrix,8,a2)+m(matrix,9,1),nb=m(matrix,10,r2)+m(matrix,11,g)+m(matrix,12,b)+m(matrix,13,a2)+m(matrix,14,1),na=m(matrix,15,r2)+m(matrix,16,g)+m(matrix,17,b)+m(matrix,18,a2)+m(matrix,19,1);includeOpacity&&(nr=0,ng=0,nb=0,na*=a2/255),imSet(srcData.data,x,y2,width,height,0,nr),imSet(srcData.data,x,y2,width,height,1,ng),imSet(srcData.data,x,y2,width,height,2,nb),imSet(srcData.data,x,y2,width,height,3,na)}ctx.clearRect(0,0,width,height),ctx.putImageData(srcData,0,0)}}class MaskElement extends Element{constructor(){super(...arguments),this.type="mask"}apply(ctx,element){var{document:document2}=this,x=this.getAttribute("x").getPixels("x"),y2=this.getAttribute("y").getPixels("y"),width=this.getStyle("width").getPixels("x"),height=this.getStyle("height").getPixels("y");if(!width&&!height){var boundingBox=new BoundingBox;this.children.forEach(child=>{boundingBox.addBoundingBox(child.getBoundingBox(ctx))}),x=Math.floor(boundingBox.x1),y2=Math.floor(boundingBox.y1),width=Math.floor(boundingBox.width),height=Math.floor(boundingBox.height)}var ignoredStyles=this.removeStyles(element,MaskElement.ignoreStyles),maskCanvas=document2.createCanvas(x+width,y2+height),maskCtx=maskCanvas.getContext("2d");document2.screen.setDefaults(maskCtx),this.renderChildren(maskCtx),new FeColorMatrixElement(document2,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(maskCtx,0,0,x+width,y2+height);var tmpCanvas=document2.createCanvas(x+width,y2+height),tmpCtx=tmpCanvas.getContext("2d");document2.screen.setDefaults(tmpCtx),element.render(tmpCtx),tmpCtx.globalCompositeOperation="destination-in",tmpCtx.fillStyle=maskCtx.createPattern(maskCanvas,"no-repeat"),tmpCtx.fillRect(0,0,x+width,y2+height),ctx.fillStyle=tmpCtx.createPattern(tmpCanvas,"no-repeat"),ctx.fillRect(0,0,x+width,y2+height),this.restoreStyles(element,ignoredStyles)}render(_2){}}MaskElement.ignoreStyles=["mask","transform","clip-path"];var noop=()=>{};class ClipPathElement extends Element{constructor(){super(...arguments),this.type="clipPath"}apply(ctx){var{document:document2}=this,contextProto=Reflect.getPrototypeOf(ctx),{beginPath,closePath}=ctx;contextProto&&(contextProto.beginPath=noop,contextProto.closePath=noop),Reflect.apply(beginPath,ctx,[]),this.children.forEach(child=>{if(!(typeof child.path>"u")){var transform=typeof child.elementTransform<"u"?child.elementTransform():null;transform||(transform=Transform.fromElement(document2,child)),transform&&transform.apply(ctx),child.path(ctx),contextProto&&(contextProto.closePath=closePath),transform&&transform.unapply(ctx)}}),Reflect.apply(closePath,ctx,[]),ctx.clip(),contextProto&&(contextProto.beginPath=beginPath,contextProto.closePath=closePath)}render(_2){}}class FilterElement extends Element{constructor(){super(...arguments),this.type="filter"}apply(ctx,element){var{document:document2,children}=this,boundingBox=element.getBoundingBox(ctx);if(boundingBox){var px=0,py=0;children.forEach(child=>{var efd=child.extraFilterDistance||0;px=Math.max(px,efd),py=Math.max(py,efd)});var width=Math.floor(boundingBox.width),height=Math.floor(boundingBox.height),tmpCanvasWidth=width+2*px,tmpCanvasHeight=height+2*py;if(!(tmpCanvasWidth<1||tmpCanvasHeight<1)){var x=Math.floor(boundingBox.x),y2=Math.floor(boundingBox.y),ignoredStyles=this.removeStyles(element,FilterElement.ignoreStyles),tmpCanvas=document2.createCanvas(tmpCanvasWidth,tmpCanvasHeight),tmpCtx=tmpCanvas.getContext("2d");document2.screen.setDefaults(tmpCtx),tmpCtx.translate(-x+px,-y2+py),element.render(tmpCtx),children.forEach(child=>{typeof child.apply=="function"&&child.apply(tmpCtx,0,0,tmpCanvasWidth,tmpCanvasHeight)}),ctx.drawImage(tmpCanvas,0,0,tmpCanvasWidth,tmpCanvasHeight,x-px,y2-py,tmpCanvasWidth,tmpCanvasHeight),this.restoreStyles(element,ignoredStyles)}}}render(_2){}}FilterElement.ignoreStyles=["filter","transform","clip-path"];class FeDropShadowElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(_2,_x,_y,_width,_height){}}class FeMorphologyElement extends Element{constructor(){super(...arguments),this.type="feMorphology"}apply(_2,_x,_y,_width,_height){}}class FeCompositeElement extends Element{constructor(){super(...arguments),this.type="feComposite"}apply(_2,_x,_y,_width,_height){}}class FeGaussianBlurElement extends Element{constructor(document2,node2,captureTextNodes){super(document2,node2,captureTextNodes),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(ctx,x,y2,width,height){var{document:document2,blurRadius}=this,body=document2.window?document2.window.document.body:null,canvas=ctx.canvas;canvas.id=document2.getUniqueId(),body&&(canvas.style.display="none",body.appendChild(canvas)),processCanvasRGBA(canvas,x,y2,width,height,blurRadius),body&&body.removeChild(canvas)}}class TitleElement extends Element{constructor(){super(...arguments),this.type="title"}}class DescElement extends Element{constructor(){super(...arguments),this.type="desc"}}var elements={svg:SVGElement,rect:RectElement,circle:CircleElement,ellipse:EllipseElement,line:LineElement,polyline:PolylineElement,polygon:PolygonElement,path:PathElement,pattern:PatternElement,marker:MarkerElement,defs:DefsElement,linearGradient:LinearGradientElement,radialGradient:RadialGradientElement,stop:StopElement,animate:AnimateElement,animateColor:AnimateColorElement,animateTransform:AnimateTransformElement,font:FontElement,"font-face":FontFaceElement,"missing-glyph":MissingGlyphElement,glyph:GlyphElement,text:TextElement,tspan:TSpanElement,tref:TRefElement,a:AElement,textPath:TextPathElement,image:ImageElement,g:GElement,symbol:SymbolElement,style:StyleElement,use:UseElement,mask:MaskElement,clipPath:ClipPathElement,filter:FilterElement,feDropShadow:FeDropShadowElement,feMorphology:FeMorphologyElement,feComposite:FeCompositeElement,feColorMatrix:FeColorMatrixElement,feGaussianBlur:FeGaussianBlurElement,title:TitleElement,desc:DescElement};function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2]!=null?arguments[i2]:{};i2%2?ownKeys$1(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function createCanvas(width,height){var canvas=document.createElement("canvas");return canvas.width=width,canvas.height=height,canvas}function createImage(_x){return _createImage.apply(this,arguments)}function _createImage(){return _createImage=_asyncToGenerator(function*(src){var anonymousCrossOrigin=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,image=document.createElement("img");return anonymousCrossOrigin&&(image.crossOrigin="Anonymous"),new Promise((resolve,reject)=>{image.onload=()=>{resolve(image)},image.onerror=(_event,_source,_lineno,_colno,error)=>{reject(error)},image.src=src})}),_createImage.apply(this,arguments)}class Document{constructor(canvg){var{rootEmSize=12,emSize=12,createCanvas:createCanvas2=Document.createCanvas,createImage:createImage2=Document.createImage,anonymousCrossOrigin}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=canvg,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=canvg.screen,this.rootEmSize=rootEmSize,this.emSize=emSize,this.createCanvas=createCanvas2,this.createImage=this.bindCreateImage(createImage2,anonymousCrossOrigin),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(createImage2,anonymousCrossOrigin){return typeof anonymousCrossOrigin=="boolean"?(source,forceAnonymousCrossOrigin)=>createImage2(source,typeof forceAnonymousCrossOrigin=="boolean"?forceAnonymousCrossOrigin:anonymousCrossOrigin):createImage2}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack}=this;return emSizeStack[emSizeStack.length-1]}set emSize(value){var{emSizeStack}=this;emSizeStack.push(value)}popEmSize(){var{emSizeStack}=this;emSizeStack.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(_2=>_2.loaded)}isFontsLoaded(){return this.fonts.every(_2=>_2.loaded)}createDocumentElement(document2){var documentElement=this.createElement(document2.documentElement);return documentElement.root=!0,documentElement.addStylesFromStyleDefinition(),this.documentElement=documentElement,documentElement}createElement(node2){var elementType=node2.nodeName.replace(/^[^:]+:/,""),ElementType=Document.elementTypes[elementType];return typeof ElementType<"u"?new ElementType(this,node2):new UnknownElement(this,node2)}createTextNode(node2){return new TextNode(this,node2)}setViewBox(config){this.screen.setViewBox(_objectSpread$1({document:this},config))}}Document.createCanvas=createCanvas;Document.createImage=createImage;Document.elementTypes=elements;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2]!=null?arguments[i2]:{};i2%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}class Canvg{constructor(ctx,svg){var options=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Parser(options),this.screen=new Screen(ctx,options),this.options=options;var document2=new Document(this,options),documentElement=document2.createDocumentElement(svg);this.document=document2,this.documentElement=documentElement}static from(ctx,svg){var _arguments=arguments;return _asyncToGenerator(function*(){var options=_arguments.length>2&&_arguments[2]!==void 0?_arguments[2]:{},parser=new Parser(options),svgDocument=yield parser.parse(svg);return new Canvg(ctx,svgDocument,options)})()}static fromString(ctx,svg){var options=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},parser=new Parser(options),svgDocument=parser.parseFromString(svg);return new Canvg(ctx,svgDocument,options)}fork(ctx,svg){var options=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.from(ctx,svg,_objectSpread(_objectSpread({},this.options),options))}forkString(ctx,svg){var options=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.fromString(ctx,svg,_objectSpread(_objectSpread({},this.options),options))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var _arguments2=arguments,_this=this;return _asyncToGenerator(function*(){var options=_arguments2.length>0&&_arguments2[0]!==void 0?_arguments2[0]:{};_this.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},options)),yield _this.ready(),_this.stop()})()}start(){var options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement,screen,options:baseOptions}=this;screen.start(documentElement,_objectSpread(_objectSpread({enableRedraw:!0},baseOptions),options))}stop(){this.screen.stop()}resize(width){var height=arguments.length>1&&arguments[1]!==void 0?arguments[1]:width,preserveAspectRatio=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(width,height,preserveAspectRatio)}}export{AElement,AnimateColorElement,AnimateElement,AnimateTransformElement,BoundingBox,CB1,CB2,CB3,CB4,Canvg,CircleElement,ClipPathElement,DefsElement,DescElement,Document,Element,EllipseElement,FeColorMatrixElement,FeCompositeElement,FeDropShadowElement,FeGaussianBlurElement,FeMorphologyElement,FilterElement,Font,FontElement,FontFaceElement,GElement,GlyphElement,GradientElement,ImageElement,LineElement,LinearGradientElement,MarkerElement,MaskElement,Matrix,MissingGlyphElement,Mouse,PSEUDO_ZERO,Parser,PathElement,PathParser,PatternElement,Point,PolygonElement,PolylineElement,Property,QB1,QB2,QB3,RadialGradientElement,RectElement,RenderedElement,Rotate,SVGElement,SVGFontLoader,Scale,Screen,Skew,SkewX,SkewY,StopElement,StyleElement,SymbolElement,TRefElement,TSpanElement,TextElement,TextPathElement,TitleElement,Transform,Translate,UnknownElement,UseElement,ViewPort,compressSpaces,Canvg as default,getSelectorSpecificity,normalizeAttributeName,normalizeColor,parseExternalUrl,index as presets,toNumbers,trimLeft,trimRight,vectorMagnitude,vectorsAngle,vectorsRatio};
