import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{C as Card,d as CardContent,a as CardHeader,b as CardTitle,c as CardDescription}from"./card.SxAweRZB.js";import{B as Button,S as SafeIcon}from"./SafeIcon.C08LGL0m.js";import{R as ResponsiveContainer,T as Tooltip,L as Legend,B as Bar}from"./generateCategoricalChart.Crqe-OLF.js";import{L as LineChart,C as CartesianGrid,X as XAxis,Y as YAxis,a as Line}from"./LineChart.DBAKq2J_.js";import{B as BarChart}from"./BarChart.ffT2CUX_.js";import{I as Input}from"./input.B0jSBU-X.js";import{L as Label}from"./label.CykMmJMJ.js";import{R as ReportNavigation}from"./ReportNavigation.B2h3wk5n.js";import"./index.PIAPtHoh.js";import"./index.ubNQCTBn.js";const generateMockSalesData=(from,to)=>{const data=[],current=new Date(from);for(;current<=to;){const day=current.getDate(),month=current.getMonth()+1;current.getFullYear();const baseAmount=3e7+Math.random()*2e7,variance=Math.sin(day/7)*1e7,randomFactor=(Math.random()-.5)*5e6;data.push({date:`${day}/${month}`,fullDate:current.toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),penjualan:Math.max(15e6,baseAmount+variance+randomFactor),target:35e6,pesanan:Math.floor(Math.random()*50)+20}),current.setDate(current.getDate()+1)}return data},CustomTooltip=({active,payload})=>active&&payload&&payload.length?jsxRuntimeExports.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:payload[0].payload.fullDate}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-primary font-semibold",children:["Penjualan: Rp ",(payload[0].value/1e6).toFixed(1),"M"]}),payload[1]&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-accent-foreground font-semibold",children:["Target: Rp ",(payload[1].value/1e6).toFixed(1),"M"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pesanan: ",payload[0].payload.pesanan]})]}):null;function SalesChart({dateRange}){const chartData=reactExports.useMemo(()=>generateMockSalesData(dateRange.from,dateRange.to),[dateRange]),formatYAxis=value=>`Rp ${(value/1e6).toFixed(0)}M`;return jsxRuntimeExports.jsxs("div",{className:"w-full space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"w-full h-80 bg-gradient-to-br from-background to-secondary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Tren Penjualan (Grafik Garis)"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:chartData,margin:{top:5,right:30,left:0,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",style:{fontSize:"12px"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"hsl(var(--muted-foreground))",tickFormatter:formatYAxis,style:{fontSize:"12px"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(CustomTooltip,{})}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"penjualan",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",r:4},activeDot:{r:6},name:"Penjualan Aktual"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"target",stroke:"hsl(var(--accent))",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"hsl(var(--accent))",r:3},name:"Target Penjualan"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full h-80 bg-gradient-to-br from-background to-secondary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Perbandingan Penjualan vs Target (Grafik Batang)"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:chartData,margin:{top:5,right:30,left:0,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",style:{fontSize:"12px"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"hsl(var(--muted-foreground))",tickFormatter:formatYAxis,style:{fontSize:"12px"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(CustomTooltip,{})}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{paddingTop:"20px"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"penjualan",fill:"hsl(var(--primary))",name:"Penjualan Aktual",radius:[8,8,0,0]}),jsxRuntimeExports.jsx(Bar,{dataKey:"target",fill:"hsl(var(--accent))",name:"Target Penjualan",radius:[8,8,0,0],opacity:.6})]})})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b bg-secondary/50",children:[jsxRuntimeExports.jsx("th",{className:"text-left px-4 py-3 font-semibold text-foreground",children:"Tanggal"}),jsxRuntimeExports.jsx("th",{className:"text-right px-4 py-3 font-semibold text-foreground",children:"Penjualan"}),jsxRuntimeExports.jsx("th",{className:"text-right px-4 py-3 font-semibold text-foreground",children:"Target"}),jsxRuntimeExports.jsx("th",{className:"text-right px-4 py-3 font-semibold text-foreground",children:"Pencapaian"}),jsxRuntimeExports.jsx("th",{className:"text-right px-4 py-3 font-semibold text-foreground",children:"Pesanan"})]})}),jsxRuntimeExports.jsx("tbody",{children:chartData.slice(-7).reverse().map((item,index)=>{const achievement=(item.penjualan/item.target*100).toFixed(1),isAboveTarget=item.penjualan>=item.target;return jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-secondary/30 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-foreground",children:item.fullDate}),jsxRuntimeExports.jsxs("td",{className:"text-right px-4 py-3 font-semibold text-primary",children:["Rp ",(item.penjualan/1e6).toFixed(1),"M"]}),jsxRuntimeExports.jsxs("td",{className:"text-right px-4 py-3 text-muted-foreground",children:["Rp ",(item.target/1e6).toFixed(1),"M"]}),jsxRuntimeExports.jsxs("td",{className:`text-right px-4 py-3 font-semibold ${isAboveTarget?"text-primary":"text-destructive"}`,children:[achievement,"%"]}),jsxRuntimeExports.jsx("td",{className:"text-right px-4 py-3 text-muted-foreground",children:item.pesanan})]},index)})})]})})]})}function DateRangeFilter({onDateRangeChange,initialFrom,initialTo}){const[fromDate,setFromDate]=reactExports.useState(""),[toDate,setToDate]=reactExports.useState("");reactExports.useEffect(()=>{const formatDate=date=>{const year=date.getFullYear(),month=String(date.getMonth()+1).padStart(2,"0"),day=String(date.getDate()).padStart(2,"0");return`${year}-${month}-${day}`};setFromDate(formatDate(initialFrom)),setToDate(formatDate(initialTo))},[initialFrom,initialTo]);const handleApplyFilter=()=>{if(fromDate&&toDate){const from=new Date(fromDate),to=new Date(toDate);from<=to&&onDateRangeChange(from,to)}},handleQuickFilter=days=>{const to=new Date,from=new Date(to);from.setDate(from.getDate()-days);const formatDate=date=>{const year=date.getFullYear(),month=String(date.getMonth()+1).padStart(2,"0"),day=String(date.getDate()).padStart(2,"0");return`${year}-${month}-${day}`};setFromDate(formatDate(from)),setToDate(formatDate(to)),onDateRangeChange(from,to)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"from-date",className:"text-sm font-medium",children:"Dari Tanggal"}),jsxRuntimeExports.jsx(Input,{id:"from-date",type:"date",value:fromDate,onChange:e=>setFromDate(e.target.value),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"to-date",className:"text-sm font-medium",children:"Sampai Tanggal"}),jsxRuntimeExports.jsx(Input,{id:"to-date",type:"date",value:toDate,onChange:e=>setToDate(e.target.value),className:"w-full"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:"Filter Cepat"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>handleQuickFilter(7),className:"text-xs",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Calendar",className:"mr-1 h-3 w-3"}),"7 Hari"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>handleQuickFilter(14),className:"text-xs",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Calendar",className:"mr-1 h-3 w-3"}),"14 Hari"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>handleQuickFilter(30),className:"text-xs",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Calendar",className:"mr-1 h-3 w-3"}),"30 Hari"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>handleQuickFilter(90),className:"text-xs",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Calendar",className:"mr-1 h-3 w-3"}),"90 Hari"]})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:handleApplyFilter,className:"w-full sm:w-auto",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"Filter",className:"mr-2 h-4 w-4"}),"Terapkan Filter"]})]})}const generateMetrics=(from,to)=>{const days=Math.ceil((to.getTime()-from.getTime())/864e5),totalSales=9825e5+Math.random()*1e8,totalOrders=Math.floor(Math.random()*500)+300,avgDailySales=totalSales/days,growthRate=(Math.random()*30-5).toFixed(1);return{totalSales,totalOrders,avgDailySales,growthRate:parseFloat(growthRate)}};function SalesMetrics({dateRange}){const metrics=reactExports.useMemo(()=>generateMetrics(dateRange.from,dateRange.to),[dateRange]),metrics_data=[{title:"Total Penjualan",value:`Rp ${(metrics.totalSales/1e6).toFixed(1)}M`,icon:"TrendingUp",color:"text-primary",bgColor:"bg-primary/10",delay:"0s"},{title:"Total Pesanan",value:metrics.totalOrders.toString(),icon:"ShoppingCart",color:"text-accent-foreground",bgColor:"bg-accent/20",delay:"0.1s"},{title:"Rata-rata Harian",value:`Rp ${(metrics.avgDailySales/1e6).toFixed(1)}M`,icon:"BarChart3",color:"text-primary",bgColor:"bg-primary/10",delay:"0.2s"},{title:"Pertumbuhan",value:`${metrics.growthRate>0?"+":""}${metrics.growthRate}%`,icon:metrics.growthRate>0?"ArrowUp":"ArrowDown",color:metrics.growthRate>0?"text-primary":"text-destructive",bgColor:metrics.growthRate>0?"bg-primary/10":"bg-destructive/10",delay:"0.3s"}];return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:metrics_data.map((metric,index)=>jsxRuntimeExports.jsx(Card,{className:"animate-fadeInUp hover:shadow-lg transition-all duration-300",style:{animationDelay:metric.delay},children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:metric.title}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-foreground",children:metric.value})]}),jsxRuntimeExports.jsx("div",{className:`${metric.bgColor} p-3 rounded-lg`,children:jsxRuntimeExports.jsx(SafeIcon,{name:metric.icon,className:`h-6 w-6 ${metric.color}`})})]})})},index))})}function TrenPenjualanPage(){const[dateRange,setDateRange]=reactExports.useState({from:new Date(Date.now()-2592e6),to:new Date}),handleDateRangeChange=(from,to)=>{setDateRange({from,to})};return jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6 p-4 sm:p-6 lg:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Laporan Tren Penjualan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Analisis tren penjualan mingguan dan historis untuk memahami pola bisnis Anda"})]}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"outline",className:"w-full sm:w-auto",children:jsxRuntimeExports.jsxs("a",{href:"./dashboard-laporan.html",children:[jsxRuntimeExports.jsx(SafeIcon,{name:"ArrowLeft",className:"mr-2 h-4 w-4"}),"Kembali"]})})]}),jsxRuntimeExports.jsx(ReportNavigation,{currentPage:"tren_penjualan"}),jsxRuntimeExports.jsx(SalesMetrics,{dateRange}),jsxRuntimeExports.jsxs("div",{className:"w-full space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"animate-fadeInUp",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Filter Periode"}),jsxRuntimeExports.jsx(CardDescription,{children:"Pilih rentang tanggal untuk melihat tren penjualan spesifik"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(DateRangeFilter,{onDateRangeChange:handleDateRangeChange,initialFrom:dateRange.from,initialTo:dateRange.to})})]}),jsxRuntimeExports.jsxs(Card,{className:"animate-fadeInUp",style:{animationDelay:"0.1s"},children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Tren Penjualan Mingguan"}),jsxRuntimeExports.jsx(CardDescription,{children:"Visualisasi penjualan harian dalam periode yang dipilih"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(SalesChart,{dateRange})})]}),jsxRuntimeExports.jsxs(Card,{className:"animate-fadeInUp",style:{animationDelay:"0.2s"},children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Ringkasan Analisis"})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Hari Penjualan Tertinggi"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary",children:"Senin, 15 Jan 2024"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Rp 45.500.000"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Rata-rata Penjualan Harian"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary",children:"Rp 32.750.000"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Dari 30 hari terakhir"})]})]})})]})]})]})}export{TrenPenjualanPage as default};
