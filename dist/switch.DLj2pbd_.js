import{j as jsxRuntimeExports}from"./jsx-runtime.mvtouYz0.js";import{r as reactExports}from"./index.DcciWILN.js";import{c as createContextScope,P as Primitive,a as composeEventHandlers}from"./index.CmV6gt94.js";import{u as useComposedRefs,c as cn}from"./SafeIcon.C08LGL0m.js";import{a as useControllableState}from"./index.CLV08RI1.js";import{u as usePrevious}from"./index.BhA3i5Wo.js";import{u as useSize}from"./index.Bcho8R2B.js";var SWITCH_NAME="Switch",[createSwitchContext]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSwitch,name,checked:checkedProp,defaultChecked,required,disabled,value="on",onCheckedChange,form,...switchProps}=props,[button,setButton]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setButton(node)),hasConsumerStoppedPropagationRef=reactExports.useRef(!1),isFormControl=button?form||!!button.closest("form"):!0,[checked,setChecked]=useControllableState({prop:checkedProp,defaultProp:defaultChecked??!1,onChange:onCheckedChange,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:__scopeSwitch,checked,disabled,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":checked,"aria-required":required,"data-state":getState(checked),"data-disabled":disabled?"":void 0,disabled,value,...switchProps,ref:composedRefs,onClick:composeEventHandlers(props.onClick,event=>{setChecked(prevChecked=>!prevChecked),isFormControl&&(hasConsumerStoppedPropagationRef.current=event.isPropagationStopped(),hasConsumerStoppedPropagationRef.current||event.stopPropagation())})}),isFormControl&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:button,bubbles:!hasConsumerStoppedPropagationRef.current,name,value,checked,required,disabled,form,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSwitch,...thumbProps}=props,context=useSwitchContext(THUMB_NAME,__scopeSwitch);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(context.checked),"data-disabled":context.disabled?"":void 0,...thumbProps,ref:forwardedRef})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch,control,checked,bubbles=!0,...props},forwardedRef)=>{const ref=reactExports.useRef(null),composedRefs=useComposedRefs(ref,forwardedRef),prevChecked=usePrevious(checked),controlSize=useSize(control);return reactExports.useEffect(()=>{const input=ref.current;if(!input)return;const inputProto=window.HTMLInputElement.prototype,setChecked=Object.getOwnPropertyDescriptor(inputProto,"checked").set;if(prevChecked!==checked&&setChecked){const event=new Event("click",{bubbles});setChecked.call(input,checked),input.dispatchEvent(event)}},[prevChecked,checked,bubbles]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:checked,...props,tabIndex:-1,ref:composedRefs,style:{...props.style,...controlSize,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState(checked){return checked?"checked":"unchecked"}var Root=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className,...props},ref)=>jsxRuntimeExports.jsx(Root,{className:cn("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",className),...props,ref,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root.displayName;export{Switch as S};
